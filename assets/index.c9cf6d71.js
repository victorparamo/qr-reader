function Xf(t,r){return r.forEach(function(s){s&&typeof s!="string"&&!Array.isArray(s)&&Object.keys(s).forEach(function(c){if(c!=="default"&&!(c in t)){var d=Object.getOwnPropertyDescriptor(s,c);Object.defineProperty(t,c,d.get?d:{enumerable:!0,get:function(){return s[c]}})}})}),Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const Zf=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const g of d)if(g.type==="childList")for(const p of g.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&c(p)}).observe(document,{childList:!0,subtree:!0});function s(d){const g={};return d.integrity&&(g.integrity=d.integrity),d.referrerpolicy&&(g.referrerPolicy=d.referrerpolicy),d.crossorigin==="use-credentials"?g.credentials="include":d.crossorigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function c(d){if(d.ep)return;d.ep=!0;const g=s(d);fetch(d.href,g)}};Zf();var Mi=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Qf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fn={exports:{}},Te={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var zu=Object.getOwnPropertySymbols,Kf=Object.prototype.hasOwnProperty,qf=Object.prototype.propertyIsEnumerable;function Jf(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function $f(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var r={},s=0;s<10;s++)r["_"+String.fromCharCode(s)]=s;var c=Object.getOwnPropertyNames(r).map(function(g){return r[g]});if(c.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(g){d[g]=g}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var gc=$f()?Object.assign:function(t,r){for(var s,c=Jf(t),d,g=1;g<arguments.length;g++){s=Object(arguments[g]);for(var p in s)Kf.call(s,p)&&(c[p]=s[p]);if(zu){d=zu(s);for(var E=0;E<d.length;E++)qf.call(s,d[E])&&(c[d[E]]=s[d[E]])}}return c};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sa=gc,fi=60103,xc=60106;Te.Fragment=60107;Te.StrictMode=60108;Te.Profiler=60114;var pc=60109,mc=60110,wc=60112;Te.Suspense=60113;var Ec=60115,Ac=60116;if(typeof Symbol=="function"&&Symbol.for){var an=Symbol.for;fi=an("react.element"),xc=an("react.portal"),Te.Fragment=an("react.fragment"),Te.StrictMode=an("react.strict_mode"),Te.Profiler=an("react.profiler"),pc=an("react.provider"),mc=an("react.context"),wc=an("react.forward_ref"),Te.Suspense=an("react.suspense"),Ec=an("react.memo"),Ac=an("react.lazy")}var ju=typeof Symbol=="function"&&Symbol.iterator;function ed(t){return t===null||typeof t!="object"?null:(t=ju&&t[ju]||t["@@iterator"],typeof t=="function"?t:null)}function Es(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yc={};function di(t,r,s){this.props=t,this.context=r,this.refs=yc,this.updater=s||Cc}di.prototype.isReactComponent={};di.prototype.setState=function(t,r){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Es(85));this.updater.enqueueSetState(this,t,r,"setState")};di.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ic(){}Ic.prototype=di.prototype;function Ta(t,r,s){this.props=t,this.context=r,this.refs=yc,this.updater=s||Cc}var Na=Ta.prototype=new Ic;Na.constructor=Ta;Sa(Na,di.prototype);Na.isPureReactComponent=!0;var va={current:null},Sc=Object.prototype.hasOwnProperty,Tc={key:!0,ref:!0,__self:!0,__source:!0};function Nc(t,r,s){var c,d={},g=null,p=null;if(r!=null)for(c in r.ref!==void 0&&(p=r.ref),r.key!==void 0&&(g=""+r.key),r)Sc.call(r,c)&&!Tc.hasOwnProperty(c)&&(d[c]=r[c]);var E=arguments.length-2;if(E===1)d.children=s;else if(1<E){for(var C=Array(E),S=0;S<E;S++)C[S]=arguments[S+2];d.children=C}if(t&&t.defaultProps)for(c in E=t.defaultProps,E)d[c]===void 0&&(d[c]=E[c]);return{$$typeof:fi,type:t,key:g,ref:p,props:d,_owner:va.current}}function td(t,r){return{$$typeof:fi,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}function Ma(t){return typeof t=="object"&&t!==null&&t.$$typeof===fi}function nd(t){var r={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return r[s]})}var Vu=/\/+/g;function hl(t,r){return typeof t=="object"&&t!==null&&t.key!=null?nd(""+t.key):r.toString(36)}function Js(t,r,s,c,d){var g=typeof t;(g==="undefined"||g==="boolean")&&(t=null);var p=!1;if(t===null)p=!0;else switch(g){case"string":case"number":p=!0;break;case"object":switch(t.$$typeof){case fi:case xc:p=!0}}if(p)return p=t,d=d(p),t=c===""?"."+hl(p,0):c,Array.isArray(d)?(s="",t!=null&&(s=t.replace(Vu,"$&/")+"/"),Js(d,r,s,"",function(S){return S})):d!=null&&(Ma(d)&&(d=td(d,s+(!d.key||p&&p.key===d.key?"":(""+d.key).replace(Vu,"$&/")+"/")+t)),r.push(d)),1;if(p=0,c=c===""?".":c+":",Array.isArray(t))for(var E=0;E<t.length;E++){g=t[E];var C=c+hl(g,E);p+=Js(g,r,s,C,d)}else if(C=ed(t),typeof C=="function")for(t=C.call(t),E=0;!(g=t.next()).done;)g=g.value,C=c+hl(g,E++),p+=Js(g,r,s,C,d);else if(g==="object")throw r=""+t,Error(Es(31,r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r));return p}function zs(t,r,s){if(t==null)return t;var c=[],d=0;return Js(t,c,"","",function(g){return r.call(s,g,d++)}),c}function rd(t){if(t._status===-1){var r=t._result;r=r(),t._status=0,t._result=r,r.then(function(s){t._status===0&&(s=s.default,t._status=1,t._result=s)},function(s){t._status===0&&(t._status=2,t._result=s)})}if(t._status===1)return t._result;throw t._result}var vc={current:null};function Pn(){var t=vc.current;if(t===null)throw Error(Es(321));return t}var id={ReactCurrentDispatcher:vc,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:va,IsSomeRendererActing:{current:!1},assign:Sa};Te.Children={map:zs,forEach:function(t,r,s){zs(t,function(){r.apply(this,arguments)},s)},count:function(t){var r=0;return zs(t,function(){r++}),r},toArray:function(t){return zs(t,function(r){return r})||[]},only:function(t){if(!Ma(t))throw Error(Es(143));return t}};Te.Component=di;Te.PureComponent=Ta;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=id;Te.cloneElement=function(t,r,s){if(t==null)throw Error(Es(267,t));var c=Sa({},t.props),d=t.key,g=t.ref,p=t._owner;if(r!=null){if(r.ref!==void 0&&(g=r.ref,p=va.current),r.key!==void 0&&(d=""+r.key),t.type&&t.type.defaultProps)var E=t.type.defaultProps;for(C in r)Sc.call(r,C)&&!Tc.hasOwnProperty(C)&&(c[C]=r[C]===void 0&&E!==void 0?E[C]:r[C])}var C=arguments.length-2;if(C===1)c.children=s;else if(1<C){E=Array(C);for(var S=0;S<C;S++)E[S]=arguments[S+2];c.children=E}return{$$typeof:fi,type:t.type,key:d,ref:g,props:c,_owner:p}};Te.createContext=function(t,r){return r===void 0&&(r=null),t={$$typeof:mc,_calculateChangedBits:r,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:pc,_context:t},t.Consumer=t};Te.createElement=Nc;Te.createFactory=function(t){var r=Nc.bind(null,t);return r.type=t,r};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:wc,render:t}};Te.isValidElement=Ma;Te.lazy=function(t){return{$$typeof:Ac,_payload:{_status:-1,_result:t},_init:rd}};Te.memo=function(t,r){return{$$typeof:Ec,type:t,compare:r===void 0?null:r}};Te.useCallback=function(t,r){return Pn().useCallback(t,r)};Te.useContext=function(t,r){return Pn().useContext(t,r)};Te.useDebugValue=function(){};Te.useEffect=function(t,r){return Pn().useEffect(t,r)};Te.useImperativeHandle=function(t,r,s){return Pn().useImperativeHandle(t,r,s)};Te.useLayoutEffect=function(t,r){return Pn().useLayoutEffect(t,r)};Te.useMemo=function(t,r){return Pn().useMemo(t,r)};Te.useReducer=function(t,r,s){return Pn().useReducer(t,r,s)};Te.useRef=function(t){return Pn().useRef(t)};Te.useState=function(t){return Pn().useState(t)};Te.version="17.0.2";fn.exports=Te;var sd=fn.exports,Mc={exports:{}},tn={},_c={exports:{}},Oc={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var r,s,c,d;if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;t.unstable_now=function(){return g.now()}}else{var p=Date,E=p.now();t.unstable_now=function(){return p.now()-E}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var C=null,S=null,O=function(){if(C!==null)try{var X=t.unstable_now();C(!0,X),C=null}catch(le){throw setTimeout(O,0),le}};r=function(X){C!==null?setTimeout(r,0,X):(C=X,setTimeout(O,0))},s=function(X,le){S=setTimeout(X,le)},c=function(){clearTimeout(S)},t.unstable_shouldYield=function(){return!1},d=t.unstable_forceFrameRate=function(){}}else{var G=window.setTimeout,L=window.clearTimeout;if(typeof console!="undefined"){var Q=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof Q!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var j=!1,J=null,_=-1,T=5,N=0;t.unstable_shouldYield=function(){return t.unstable_now()>=N},d=function(){},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<X?Math.floor(1e3/X):5};var B=new MessageChannel,z=B.port2;B.port1.onmessage=function(){if(J!==null){var X=t.unstable_now();N=X+T;try{J(!0,X)?z.postMessage(null):(j=!1,J=null)}catch(le){throw z.postMessage(null),le}}else j=!1},r=function(X){J=X,j||(j=!0,z.postMessage(null))},s=function(X,le){_=G(function(){X(t.unstable_now())},le)},c=function(){L(_),_=-1}}function $(X,le){var ae=X.length;X.push(le);e:for(;;){var ze=ae-1>>>1,ee=X[ze];if(ee!==void 0&&0<F(ee,le))X[ze]=le,X[ae]=ee,ae=ze;else break e}}function R(X){return X=X[0],X===void 0?null:X}function K(X){var le=X[0];if(le!==void 0){var ae=X.pop();if(ae!==le){X[0]=ae;e:for(var ze=0,ee=X.length;ze<ee;){var nn=2*(ze+1)-1,Be=X[nn],rn=nn+1,Ht=X[rn];if(Be!==void 0&&0>F(Be,ae))Ht!==void 0&&0>F(Ht,Be)?(X[ze]=Ht,X[rn]=ae,ze=rn):(X[ze]=Be,X[nn]=ae,ze=nn);else if(Ht!==void 0&&0>F(Ht,ae))X[ze]=Ht,X[rn]=ae,ze=rn;else break e}}return le}return null}function F(X,le){var ae=X.sortIndex-le.sortIndex;return ae!==0?ae:X.id-le.id}var re=[],Ae=[],fe=1,xe=null,Ce=3,U=!1,Le=!1,he=!1;function vn(X){for(var le=R(Ae);le!==null;){if(le.callback===null)K(Ae);else if(le.startTime<=X)K(Ae),le.sortIndex=le.expirationTime,$(re,le);else break;le=R(Ae)}}function jt(X){if(he=!1,vn(X),!Le)if(R(re)!==null)Le=!0,r(Vt);else{var le=R(Ae);le!==null&&s(jt,le.startTime-X)}}function Vt(X,le){Le=!1,he&&(he=!1,c()),U=!0;var ae=Ce;try{for(vn(le),xe=R(re);xe!==null&&(!(xe.expirationTime>le)||X&&!t.unstable_shouldYield());){var ze=xe.callback;if(typeof ze=="function"){xe.callback=null,Ce=xe.priorityLevel;var ee=ze(xe.expirationTime<=le);le=t.unstable_now(),typeof ee=="function"?xe.callback=ee:xe===R(re)&&K(re),vn(le)}else K(re);xe=R(re)}if(xe!==null)var nn=!0;else{var Be=R(Ae);Be!==null&&s(jt,Be.startTime-le),nn=!1}return nn}finally{xe=null,Ce=ae,U=!1}}var Ns=d;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){Le||U||(Le=!0,r(Vt))},t.unstable_getCurrentPriorityLevel=function(){return Ce},t.unstable_getFirstCallbackNode=function(){return R(re)},t.unstable_next=function(X){switch(Ce){case 1:case 2:case 3:var le=3;break;default:le=Ce}var ae=Ce;Ce=le;try{return X()}finally{Ce=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=Ns,t.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ae=Ce;Ce=X;try{return le()}finally{Ce=ae}},t.unstable_scheduleCallback=function(X,le,ae){var ze=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ze+ae:ze):ae=ze,X){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ae+ee,X={id:fe++,callback:le,priorityLevel:X,startTime:ae,expirationTime:ee,sortIndex:-1},ae>ze?(X.sortIndex=ae,$(Ae,X),R(re)===null&&X===R(Ae)&&(he?c():he=!0,s(jt,ae-ze))):(X.sortIndex=ee,$(re,X),Le||U||(Le=!0,r(Vt))),X},t.unstable_wrapCallback=function(X){var le=Ce;return function(){var ae=Ce;Ce=le;try{return X.apply(this,arguments)}finally{Ce=ae}}}})(Oc);_c.exports=Oc;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bo=fn.exports,Ge=gc,ut=_c.exports;function Z(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!bo)throw Error(Z(227));var Dc=new Set,ss={};function vr(t,r){li(t,r),li(t+"Capture",r)}function li(t,r){for(ss[t]=r,t=0;t<r.length;t++)Dc.add(r[t])}var Bn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),od=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hu=Object.prototype.hasOwnProperty,Wu={},Gu={};function ld(t){return Hu.call(Gu,t)?!0:Hu.call(Wu,t)?!1:od.test(t)?Gu[t]=!0:(Wu[t]=!0,!1)}function ad(t,r,s,c){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ud(t,r,s,c){if(r===null||typeof r=="undefined"||ad(t,r,s,c))return!0;if(c)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Nt(t,r,s,c,d,g,p){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=s,this.propertyName=t,this.type=r,this.sanitizeURL=g,this.removeEmptyString=p}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pt[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];pt[r]=new Nt(r,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pt[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pt[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pt[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pt[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pt[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pt[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pt[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var _a=/[\-:]([a-z])/g;function Oa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(_a,Oa);pt[r]=new Nt(r,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(_a,Oa);pt[r]=new Nt(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(_a,Oa);pt[r]=new Nt(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pt[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pt[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Da(t,r,s,c){var d=pt.hasOwnProperty(r)?pt[r]:null,g=d!==null?d.type===0:c?!1:!(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N");g||(ud(r,s,d,c)&&(s=null),c||d===null?ld(r)&&(s===null?t.removeAttribute(r):t.setAttribute(r,""+s)):d.mustUseProperty?t[d.propertyName]=s===null?d.type===3?!1:"":s:(r=d.attributeName,c=d.attributeNamespace,s===null?t.removeAttribute(r):(d=d.type,s=d===3||d===4&&s===!0?"":""+s,c?t.setAttributeNS(c,r,s):t.setAttribute(r,s))))}var Mr=bo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vi=60103,wr=60106,Yn=60107,Ra=60108,Xi=60114,ba=60109,La=60110,Lo=60112,Zi=60113,uo=60120,Bo=60115,Ba=60116,ka=60121,Pa=60128,Rc=60129,Fa=60130,Pl=60131;if(typeof Symbol=="function"&&Symbol.for){var at=Symbol.for;Vi=at("react.element"),wr=at("react.portal"),Yn=at("react.fragment"),Ra=at("react.strict_mode"),Xi=at("react.profiler"),ba=at("react.provider"),La=at("react.context"),Lo=at("react.forward_ref"),Zi=at("react.suspense"),uo=at("react.suspense_list"),Bo=at("react.memo"),Ba=at("react.lazy"),ka=at("react.block"),at("react.scope"),Pa=at("react.opaque.id"),Rc=at("react.debug_trace_mode"),Fa=at("react.offscreen"),Pl=at("react.legacy_hidden")}var Yu=typeof Symbol=="function"&&Symbol.iterator;function _i(t){return t===null||typeof t!="object"?null:(t=Yu&&t[Yu]||t["@@iterator"],typeof t=="function"?t:null)}var gl;function Hi(t){if(gl===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);gl=r&&r[1]||""}return`
`+gl+t}var xl=!1;function js(t,r){if(!t||xl)return"";xl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(C){var c=C}Reflect.construct(t,[],r)}else{try{r.call()}catch(C){c=C}t.call(r.prototype)}else{try{throw Error()}catch(C){c=C}t()}}catch(C){if(C&&c&&typeof C.stack=="string"){for(var d=C.stack.split(`
`),g=c.stack.split(`
`),p=d.length-1,E=g.length-1;1<=p&&0<=E&&d[p]!==g[E];)E--;for(;1<=p&&0<=E;p--,E--)if(d[p]!==g[E]){if(p!==1||E!==1)do if(p--,E--,0>E||d[p]!==g[E])return`
`+d[p].replace(" at new "," at ");while(1<=p&&0<=E);break}}}finally{xl=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?Hi(t):""}function cd(t){switch(t.tag){case 5:return Hi(t.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 2:case 15:return t=js(t.type,!1),t;case 11:return t=js(t.type.render,!1),t;case 22:return t=js(t.type._render,!1),t;case 1:return t=js(t.type,!0),t;default:return""}}function qr(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yn:return"Fragment";case wr:return"Portal";case Xi:return"Profiler";case Ra:return"StrictMode";case Zi:return"Suspense";case uo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case La:return(t.displayName||"Context")+".Consumer";case ba:return(t._context.displayName||"Context")+".Provider";case Lo:var r=t.render;return r=r.displayName||r.name||"",t.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case Bo:return qr(t.type);case ka:return qr(t._render);case Ba:r=t._payload,t=t._init;try{return qr(t(r))}catch{}}return null}function ir(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function bc(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function fd(t){var r=bc(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof s!="undefined"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,g=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(p){c=""+p,g.call(this,p)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(p){c=""+p},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Vs(t){t._valueTracker||(t._valueTracker=fd(t))}function Lc(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),c="";return t&&(c=bc(t)?t.checked?"true":"false":t.value),t=c,t!==s?(r.setValue(t),!0):!1}function co(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fl(t,r){var s=r.checked;return Ge({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s!=null?s:t._wrapperState.initialChecked})}function Xu(t,r){var s=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;s=ir(r.value!=null?r.value:s),t._wrapperState={initialChecked:c,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Bc(t,r){r=r.checked,r!=null&&Da(t,"checked",r,!1)}function Ul(t,r){Bc(t,r);var s=ir(r.value),c=r.type;if(s!=null)c==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?zl(t,r.type,s):r.hasOwnProperty("defaultValue")&&zl(t,r.type,ir(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Zu(t,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,s||r===t.value||(t.value=r),t.defaultValue=r}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function zl(t,r,s){(r!=="number"||co(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}function dd(t){var r="";return bo.Children.forEach(t,function(s){s!=null&&(r+=s)}),r}function jl(t,r){return t=Ge({children:void 0},r),(r=dd(r.children))&&(t.children=r),t}function Jr(t,r,s,c){if(t=t.options,r){r={};for(var d=0;d<s.length;d++)r["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=r.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&c&&(t[s].defaultSelected=!0)}else{for(s=""+ir(s),r=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,c&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function Vl(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Ge({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qu(t,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(Z(92));if(Array.isArray(s)){if(!(1>=s.length))throw Error(Z(93));s=s[0]}r=s}r==null&&(r=""),s=r}t._wrapperState={initialValue:ir(s)}}function kc(t,r){var s=ir(r.value),c=ir(r.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),r.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),c!=null&&(t.defaultValue=""+c)}function Ku(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}var Hl={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Pc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wl(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Pc(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hs,Fc=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(r,s,c,d){MSApp.execUnsafeLocalFunction(function(){return t(r,s,c,d)})}:t}(function(t,r){if(t.namespaceURI!==Hl.svg||"innerHTML"in t)t.innerHTML=r;else{for(Hs=Hs||document.createElement("div"),Hs.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Hs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function os(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Qi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hd=["Webkit","ms","Moz","O"];Object.keys(Qi).forEach(function(t){hd.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Qi[r]=Qi[t]})});function Uc(t,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||Qi.hasOwnProperty(t)&&Qi[t]?(""+r).trim():r+"px"}function zc(t,r){t=t.style;for(var s in r)if(r.hasOwnProperty(s)){var c=s.indexOf("--")===0,d=Uc(s,r[s],c);s==="float"&&(s="cssFloat"),c?t.setProperty(s,d):t[s]=d}}var gd=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gl(t,r){if(r){if(gd[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(Z(60));if(!(typeof r.dangerouslySetInnerHTML=="object"&&"__html"in r.dangerouslySetInnerHTML))throw Error(Z(61))}if(r.style!=null&&typeof r.style!="object")throw Error(Z(62))}}function Yl(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ua(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xl=null,$r=null,ei=null;function qu(t){if(t=Cs(t)){if(typeof Xl!="function")throw Error(Z(280));var r=t.stateNode;r&&(r=jo(r),Xl(t.stateNode,t.type,r))}}function jc(t){$r?ei?ei.push(t):ei=[t]:$r=t}function Vc(){if($r){var t=$r,r=ei;if(ei=$r=null,qu(t),r)for(t=0;t<r.length;t++)qu(r[t])}}function za(t,r){return t(r)}function Hc(t,r,s,c,d){return t(r,s,c,d)}function ja(){}var Wc=za,Er=!1,pl=!1;function Va(){($r!==null||ei!==null)&&(ja(),Vc())}function xd(t,r,s){if(pl)return t(r,s);pl=!0;try{return Wc(t,r,s)}finally{pl=!1,Va()}}function ls(t,r){var s=t.stateNode;if(s===null)return null;var c=jo(s);if(c===null)return null;s=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(Z(231,r,typeof s));return s}var Zl=!1;if(Bn)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){Zl=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{Zl=!1}function pd(t,r,s,c,d,g,p,E,C){var S=Array.prototype.slice.call(arguments,3);try{r.apply(s,S)}catch(O){this.onError(O)}}var Ki=!1,fo=null,ho=!1,Ql=null,md={onError:function(t){Ki=!0,fo=t}};function wd(t,r,s,c,d,g,p,E,C){Ki=!1,fo=null,pd.apply(md,arguments)}function Ed(t,r,s,c,d,g,p,E,C){if(wd.apply(this,arguments),Ki){if(Ki){var S=fo;Ki=!1,fo=null}else throw Error(Z(198));ho||(ho=!0,Ql=S)}}function _r(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&1026)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function Gc(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Ju(t){if(_r(t)!==t)throw Error(Z(188))}function Ad(t){var r=t.alternate;if(!r){if(r=_r(t),r===null)throw Error(Z(188));return r!==t?null:t}for(var s=t,c=r;;){var d=s.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){s=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===s)return Ju(d),t;if(g===c)return Ju(d),r;g=g.sibling}throw Error(Z(188))}if(s.return!==c.return)s=d,c=g;else{for(var p=!1,E=d.child;E;){if(E===s){p=!0,s=d,c=g;break}if(E===c){p=!0,c=d,s=g;break}E=E.sibling}if(!p){for(E=g.child;E;){if(E===s){p=!0,s=g,c=d;break}if(E===c){p=!0,c=g,s=d;break}E=E.sibling}if(!p)throw Error(Z(189))}}if(s.alternate!==c)throw Error(Z(190))}if(s.tag!==3)throw Error(Z(188));return s.stateNode.current===s?t:r}function Yc(t){if(t=Ad(t),!t)return null;for(var r=t;;){if(r.tag===5||r.tag===6)return r;if(r.child)r.child.return=r,r=r.child;else{if(r===t)break;for(;!r.sibling;){if(!r.return||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}}return null}function $u(t,r){for(var s=t.alternate;r!==null;){if(r===t||r===s)return!0;r=r.return}return!1}var Xc,Ha,Zc,Qc,Kl=!1,Cn=[],Kn=null,qn=null,Jn=null,as=new Map,us=new Map,Di=[],e1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ql(t,r,s,c,d){return{blockedOn:t,domEventName:r,eventSystemFlags:s|16,nativeEvent:d,targetContainers:[c]}}function t1(t,r){switch(t){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":as.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":us.delete(r.pointerId)}}function Ri(t,r,s,c,d,g){return t===null||t.nativeEvent!==g?(t=ql(r,s,c,d,g),r!==null&&(r=Cs(r),r!==null&&Ha(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function Cd(t,r,s,c,d){switch(r){case"focusin":return Kn=Ri(Kn,t,r,s,c,d),!0;case"dragenter":return qn=Ri(qn,t,r,s,c,d),!0;case"mouseover":return Jn=Ri(Jn,t,r,s,c,d),!0;case"pointerover":var g=d.pointerId;return as.set(g,Ri(as.get(g)||null,t,r,s,c,d)),!0;case"gotpointercapture":return g=d.pointerId,us.set(g,Ri(us.get(g)||null,t,r,s,c,d)),!0}return!1}function yd(t){var r=Ar(t.target);if(r!==null){var s=_r(r);if(s!==null){if(r=s.tag,r===13){if(r=Gc(s),r!==null){t.blockedOn=r,Qc(t.lanePriority,function(){ut.unstable_runWithPriority(t.priority,function(){Zc(s)})});return}}else if(r===3&&s.stateNode.hydrate){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $s(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=Xa(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(s!==null)return r=Cs(s),r!==null&&Ha(r),t.blockedOn=s,!1;r.shift()}return!0}function n1(t,r,s){$s(t)&&s.delete(r)}function Id(){for(Kl=!1;0<Cn.length;){var t=Cn[0];if(t.blockedOn!==null){t=Cs(t.blockedOn),t!==null&&Xc(t);break}for(var r=t.targetContainers;0<r.length;){var s=Xa(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(s!==null){t.blockedOn=s;break}r.shift()}t.blockedOn===null&&Cn.shift()}Kn!==null&&$s(Kn)&&(Kn=null),qn!==null&&$s(qn)&&(qn=null),Jn!==null&&$s(Jn)&&(Jn=null),as.forEach(n1),us.forEach(n1)}function bi(t,r){t.blockedOn===r&&(t.blockedOn=null,Kl||(Kl=!0,ut.unstable_scheduleCallback(ut.unstable_NormalPriority,Id)))}function Kc(t){function r(d){return bi(d,t)}if(0<Cn.length){bi(Cn[0],t);for(var s=1;s<Cn.length;s++){var c=Cn[s];c.blockedOn===t&&(c.blockedOn=null)}}for(Kn!==null&&bi(Kn,t),qn!==null&&bi(qn,t),Jn!==null&&bi(Jn,t),as.forEach(r),us.forEach(r),s=0;s<Di.length;s++)c=Di[s],c.blockedOn===t&&(c.blockedOn=null);for(;0<Di.length&&(s=Di[0],s.blockedOn===null);)yd(s),s.blockedOn===null&&Di.shift()}function Ws(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var Wr={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionend:Ws("Transition","TransitionEnd")},ml={},qc={};Bn&&(qc=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function ko(t){if(ml[t])return ml[t];if(!Wr[t])return t;var r=Wr[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in qc)return ml[t]=r[s];return t}var Jc=ko("animationend"),$c=ko("animationiteration"),e0=ko("animationstart"),t0=ko("transitionend"),n0=new Map,Wa=new Map,Sd=["abort","abort",Jc,"animationEnd",$c,"animationIteration",e0,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",t0,"transitionEnd","waiting","waiting"];function Ga(t,r){for(var s=0;s<t.length;s+=2){var c=t[s],d=t[s+1];d="on"+(d[0].toUpperCase()+d.slice(1)),Wa.set(c,r),n0.set(c,d),vr(d,[c])}}var Td=ut.unstable_now;Td();var Ue=8;function Vr(t){if((1&t)!==0)return Ue=15,1;if((2&t)!==0)return Ue=14,2;if((4&t)!==0)return Ue=13,4;var r=24&t;return r!==0?(Ue=12,r):(t&32)!==0?(Ue=11,32):(r=192&t,r!==0?(Ue=10,r):(t&256)!==0?(Ue=9,256):(r=3584&t,r!==0?(Ue=8,r):(t&4096)!==0?(Ue=7,4096):(r=4186112&t,r!==0?(Ue=6,r):(r=62914560&t,r!==0?(Ue=5,r):t&67108864?(Ue=4,67108864):(t&134217728)!==0?(Ue=3,134217728):(r=805306368&t,r!==0?(Ue=2,r):(1073741824&t)!==0?(Ue=1,1073741824):(Ue=8,t))))))}function Nd(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function vd(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Z(358,t))}}function cs(t,r){var s=t.pendingLanes;if(s===0)return Ue=0;var c=0,d=0,g=t.expiredLanes,p=t.suspendedLanes,E=t.pingedLanes;if(g!==0)c=g,d=Ue=15;else if(g=s&134217727,g!==0){var C=g&~p;C!==0?(c=Vr(C),d=Ue):(E&=g,E!==0&&(c=Vr(E),d=Ue))}else g=s&~p,g!==0?(c=Vr(g),d=Ue):E!==0&&(c=Vr(E),d=Ue);if(c===0)return 0;if(c=31-sr(c),c=s&((0>c?0:1<<c)<<1)-1,r!==0&&r!==c&&(r&p)===0){if(Vr(r),d<=Ue)return r;Ue=d}if(r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)s=31-sr(r),d=1<<s,c|=t[s],r&=~d;return c}function r0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function go(t,r){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Hr(24&~r),t===0?go(10,r):t;case 10:return t=Hr(192&~r),t===0?go(8,r):t;case 8:return t=Hr(3584&~r),t===0&&(t=Hr(4186112&~r),t===0&&(t=512)),t;case 2:return r=Hr(805306368&~r),r===0&&(r=268435456),r}throw Error(Z(358,t))}function Hr(t){return t&-t}function wl(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Po(t,r,s){t.pendingLanes|=r;var c=r-1;t.suspendedLanes&=c,t.pingedLanes&=c,t=t.eventTimes,r=31-sr(r),t[r]=s}var sr=Math.clz32?Math.clz32:Od,Md=Math.log,_d=Math.LN2;function Od(t){return t===0?32:31-(Md(t)/_d|0)|0}var Dd=ut.unstable_UserBlockingPriority,Rd=ut.unstable_runWithPriority,eo=!0;function bd(t,r,s,c){Er||ja();var d=Ya,g=Er;Er=!0;try{Hc(d,t,r,s,c)}finally{(Er=g)||Va()}}function Ld(t,r,s,c){Rd(Dd,Ya.bind(null,t,r,s,c))}function Ya(t,r,s,c){if(eo){var d;if((d=(r&4)===0)&&0<Cn.length&&-1<e1.indexOf(t))t=ql(null,t,r,s,c),Cn.push(t);else{var g=Xa(t,r,s,c);if(g===null)d&&t1(t,c);else{if(d){if(-1<e1.indexOf(t)){t=ql(g,t,r,s,c),Cn.push(t);return}if(Cd(g,t,r,s,c))return;t1(t,c)}p0(t,r,c,null,s)}}}}function Xa(t,r,s,c){var d=Ua(c);if(d=Ar(d),d!==null){var g=_r(d);if(g===null)d=null;else{var p=g.tag;if(p===13){if(d=Gc(g),d!==null)return d;d=null}else if(p===3){if(g.stateNode.hydrate)return g.tag===3?g.stateNode.containerInfo:null;d=null}else g!==d&&(d=null)}}return p0(t,r,c,d,s),null}var Xn=null,Za=null,to=null;function i0(){if(to)return to;var t,r=Za,s=r.length,c,d="value"in Xn?Xn.value:Xn.textContent,g=d.length;for(t=0;t<s&&r[t]===d[t];t++);var p=s-t;for(c=1;c<=p&&r[s-c]===d[g-c];c++);return to=d.slice(t,1<c?1-c:void 0)}function no(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Gs(){return!0}function r1(){return!1}function zt(t){function r(s,c,d,g,p){this._reactName=s,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Gs:r1,this.isPropagationStopped=r1,this}return Ge(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),r}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=zt(hi),As=Ge({},hi,{view:0,detail:0}),Bd=zt(As),El,Al,Li,Fo=Ge({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Li&&(Li&&t.type==="mousemove"?(El=t.screenX-Li.screenX,Al=t.screenY-Li.screenY):Al=El=0,Li=t),El)},movementY:function(t){return"movementY"in t?t.movementY:Al}}),i1=zt(Fo),kd=Ge({},Fo,{dataTransfer:0}),Pd=zt(kd),Fd=Ge({},As,{relatedTarget:0}),Cl=zt(Fd),Ud=Ge({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),zd=zt(Ud),jd=Ge({},hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vd=zt(jd),Hd=Ge({},hi,{data:0}),s1=zt(Hd),Wd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xd(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Yd[t])?!!r[t]:!1}function Ka(){return Xd}var Zd=Ge({},As,{key:function(t){if(t.key){var r=Wd[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=no(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gd[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(t){return t.type==="keypress"?no(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?no(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qd=zt(Zd),Kd=Ge({},Fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),o1=zt(Kd),qd=Ge({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),Jd=zt(qd),$d=Ge({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),eh=zt($d),th=Ge({},Fo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nh=zt(th),rh=[9,13,27,32],qa=Bn&&"CompositionEvent"in window,qi=null;Bn&&"documentMode"in document&&(qi=document.documentMode);var ih=Bn&&"TextEvent"in window&&!qi,s0=Bn&&(!qa||qi&&8<qi&&11>=qi),l1=String.fromCharCode(32),a1=!1;function o0(t,r){switch(t){case"keyup":return rh.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gr=!1;function sh(t,r){switch(t){case"compositionend":return l0(r);case"keypress":return r.which!==32?null:(a1=!0,l1);case"textInput":return t=r.data,t===l1&&a1?null:t;default:return null}}function oh(t,r){if(Gr)return t==="compositionend"||!qa&&o0(t,r)?(t=i0(),to=Za=Xn=null,Gr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return s0&&r.locale!=="ko"?null:r.data;default:return null}}var lh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u1(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!lh[t.type]:r==="textarea"}function a0(t,r,s,c){jc(c),r=xo(r,"onChange"),0<r.length&&(s=new Qa("onChange","change",null,s,c),t.push({event:s,listeners:r}))}var Ji=null,fs=null;function ah(t){h0(t,0)}function Uo(t){var r=Xr(t);if(Lc(r))return t}function uh(t,r){if(t==="change")return r}var u0=!1;if(Bn){var yl;if(Bn){var Il="oninput"in document;if(!Il){var c1=document.createElement("div");c1.setAttribute("oninput","return;"),Il=typeof c1.oninput=="function"}yl=Il}else yl=!1;u0=yl&&(!document.documentMode||9<document.documentMode)}function f1(){Ji&&(Ji.detachEvent("onpropertychange",c0),fs=Ji=null)}function c0(t){if(t.propertyName==="value"&&Uo(fs)){var r=[];if(a0(r,fs,t,Ua(t)),t=ah,Er)t(r);else{Er=!0;try{za(t,r)}finally{Er=!1,Va()}}}}function ch(t,r,s){t==="focusin"?(f1(),Ji=r,fs=s,Ji.attachEvent("onpropertychange",c0)):t==="focusout"&&f1()}function fh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uo(fs)}function dh(t,r){if(t==="click")return Uo(r)}function hh(t,r){if(t==="input"||t==="change")return Uo(r)}function gh(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Kt=typeof Object.is=="function"?Object.is:gh,xh=Object.prototype.hasOwnProperty;function ds(t,r){if(Kt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),c=Object.keys(r);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++)if(!xh.call(r,s[c])||!Kt(t[s[c]],r[s[c]]))return!1;return!0}function d1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function h1(t,r){var s=d1(t);t=0;for(var c;s;){if(s.nodeType===3){if(c=t+s.textContent.length,t<=r&&c>=r)return{node:s,offset:r-t};t=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=d1(s)}}function f0(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?f0(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function g1(){for(var t=window,r=co();r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=co(t.document)}return r}function Jl(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var ph=Bn&&"documentMode"in document&&11>=document.documentMode,Yr=null,$l=null,$i=null,ea=!1;function x1(t,r,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ea||Yr==null||Yr!==co(c)||(c=Yr,"selectionStart"in c&&Jl(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),$i&&ds($i,c)||($i=c,c=xo($l,"onSelect"),0<c.length&&(r=new Qa("onSelect","select",null,r,s),t.push({event:r,listeners:c}),r.target=Yr)))}Ga("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Ga("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Ga(Sd,2);for(var p1="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sl=0;Sl<p1.length;Sl++)Wa.set(p1[Sl],0);li("onMouseEnter",["mouseout","mouseover"]);li("onMouseLeave",["mouseout","mouseover"]);li("onPointerEnter",["pointerout","pointerover"]);li("onPointerLeave",["pointerout","pointerover"]);vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wi));function m1(t,r,s){var c=t.type||"unknown-event";t.currentTarget=s,Ed(c,r,void 0,t),t.currentTarget=null}function h0(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var c=t[s],d=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var p=c.length-1;0<=p;p--){var E=c[p],C=E.instance,S=E.currentTarget;if(E=E.listener,C!==g&&d.isPropagationStopped())break e;m1(d,E,S),g=C}else for(p=0;p<c.length;p++){if(E=c[p],C=E.instance,S=E.currentTarget,E=E.listener,C!==g&&d.isPropagationStopped())break e;m1(d,E,S),g=C}}}if(ho)throw t=Ql,ho=!1,Ql=null,t}function Ve(t,r){var s=w0(r),c=t+"__bubble";s.has(c)||(x0(r,t,2,!1),s.add(c))}var w1="_reactListening"+Math.random().toString(36).slice(2);function g0(t){t[w1]||(t[w1]=!0,Dc.forEach(function(r){d0.has(r)||E1(r,!1,t,null),E1(r,!0,t,null)}))}function E1(t,r,s,c){var d=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,g=s;if(t==="selectionchange"&&s.nodeType!==9&&(g=s.ownerDocument),c!==null&&!r&&d0.has(t)){if(t!=="scroll")return;d|=2,g=c}var p=w0(g),E=t+"__"+(r?"capture":"bubble");p.has(E)||(r&&(d|=4),x0(g,t,d,r),p.add(E))}function x0(t,r,s,c){var d=Wa.get(r);switch(d===void 0?2:d){case 0:d=bd;break;case 1:d=Ld;break;default:d=Ya}s=d.bind(null,r,s,t),d=void 0,!Zl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?t.addEventListener(r,s,{capture:!0,passive:d}):t.addEventListener(r,s,!0):d!==void 0?t.addEventListener(r,s,{passive:d}):t.addEventListener(r,s,!1)}function p0(t,r,s,c,d){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var p=c.tag;if(p===3||p===4){var E=c.stateNode.containerInfo;if(E===d||E.nodeType===8&&E.parentNode===d)break;if(p===4)for(p=c.return;p!==null;){var C=p.tag;if((C===3||C===4)&&(C=p.stateNode.containerInfo,C===d||C.nodeType===8&&C.parentNode===d))return;p=p.return}for(;E!==null;){if(p=Ar(E),p===null)return;if(C=p.tag,C===5||C===6){c=g=p;continue e}E=E.parentNode}}c=c.return}xd(function(){var S=g,O=Ua(s),G=[];e:{var L=n0.get(t);if(L!==void 0){var Q=Qa,j=t;switch(t){case"keypress":if(no(s)===0)break e;case"keydown":case"keyup":Q=Qd;break;case"focusin":j="focus",Q=Cl;break;case"focusout":j="blur",Q=Cl;break;case"beforeblur":case"afterblur":Q=Cl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=i1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Jd;break;case Jc:case $c:case e0:Q=zd;break;case t0:Q=eh;break;case"scroll":Q=Bd;break;case"wheel":Q=nh;break;case"copy":case"cut":case"paste":Q=Vd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=o1}var J=(r&4)!==0,_=!J&&t==="scroll",T=J?L!==null?L+"Capture":null:L;J=[];for(var N=S,B;N!==null;){B=N;var z=B.stateNode;if(B.tag===5&&z!==null&&(B=z,T!==null&&(z=ls(N,T),z!=null&&J.push(hs(N,z,B)))),_)break;N=N.return}0<J.length&&(L=new Q(L,j,null,s,O),G.push({event:L,listeners:J}))}}if((r&7)===0){e:{if(L=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",L&&(r&16)===0&&(j=s.relatedTarget||s.fromElement)&&(Ar(j)||j[gi]))break e;if((Q||L)&&(L=O.window===O?O:(L=O.ownerDocument)?L.defaultView||L.parentWindow:window,Q?(j=s.relatedTarget||s.toElement,Q=S,j=j?Ar(j):null,j!==null&&(_=_r(j),j!==_||j.tag!==5&&j.tag!==6)&&(j=null)):(Q=null,j=S),Q!==j)){if(J=i1,z="onMouseLeave",T="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(J=o1,z="onPointerLeave",T="onPointerEnter",N="pointer"),_=Q==null?L:Xr(Q),B=j==null?L:Xr(j),L=new J(z,N+"leave",Q,s,O),L.target=_,L.relatedTarget=B,z=null,Ar(O)===S&&(J=new J(T,N+"enter",j,s,O),J.target=B,J.relatedTarget=_,z=J),_=z,Q&&j)t:{for(J=Q,T=j,N=0,B=J;B;B=jr(B))N++;for(B=0,z=T;z;z=jr(z))B++;for(;0<N-B;)J=jr(J),N--;for(;0<B-N;)T=jr(T),B--;for(;N--;){if(J===T||T!==null&&J===T.alternate)break t;J=jr(J),T=jr(T)}J=null}else J=null;Q!==null&&A1(G,L,Q,J,!1),j!==null&&_!==null&&A1(G,_,j,J,!0)}}e:{if(L=S?Xr(S):window,Q=L.nodeName&&L.nodeName.toLowerCase(),Q==="select"||Q==="input"&&L.type==="file")var $=uh;else if(u1(L))if(u0)$=hh;else{$=fh;var R=ch}else(Q=L.nodeName)&&Q.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&($=dh);if($&&($=$(t,S))){a0(G,$,s,O);break e}R&&R(t,L,S),t==="focusout"&&(R=L._wrapperState)&&R.controlled&&L.type==="number"&&zl(L,"number",L.value)}switch(R=S?Xr(S):window,t){case"focusin":(u1(R)||R.contentEditable==="true")&&(Yr=R,$l=S,$i=null);break;case"focusout":$i=$l=Yr=null;break;case"mousedown":ea=!0;break;case"contextmenu":case"mouseup":case"dragend":ea=!1,x1(G,s,O);break;case"selectionchange":if(ph)break;case"keydown":case"keyup":x1(G,s,O)}var K;if(qa)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Gr?o0(t,s)&&(F="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(F="onCompositionStart");F&&(s0&&s.locale!=="ko"&&(Gr||F!=="onCompositionStart"?F==="onCompositionEnd"&&Gr&&(K=i0()):(Xn=O,Za="value"in Xn?Xn.value:Xn.textContent,Gr=!0)),R=xo(S,F),0<R.length&&(F=new s1(F,t,null,s,O),G.push({event:F,listeners:R}),K?F.data=K:(K=l0(s),K!==null&&(F.data=K)))),(K=ih?sh(t,s):oh(t,s))&&(S=xo(S,"onBeforeInput"),0<S.length&&(O=new s1("onBeforeInput","beforeinput",null,s,O),G.push({event:O,listeners:S}),O.data=K))}h0(G,r)})}function hs(t,r,s){return{instance:t,listener:r,currentTarget:s}}function xo(t,r){for(var s=r+"Capture",c=[];t!==null;){var d=t,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=ls(t,s),g!=null&&c.unshift(hs(t,g,d)),g=ls(t,r),g!=null&&c.push(hs(t,g,d))),t=t.return}return c}function jr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function A1(t,r,s,c,d){for(var g=r._reactName,p=[];s!==null&&s!==c;){var E=s,C=E.alternate,S=E.stateNode;if(C!==null&&C===c)break;E.tag===5&&S!==null&&(E=S,d?(C=ls(s,g),C!=null&&p.unshift(hs(s,C,E))):d||(C=ls(s,g),C!=null&&p.push(hs(s,C,E)))),s=s.return}p.length!==0&&t.push({event:r,listeners:p})}function po(){}var Tl=null,Nl=null;function m0(t,r){switch(t){case"button":case"input":case"select":case"textarea":return!!r.autoFocus}return!1}function ta(t,r){return t==="textarea"||t==="option"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var C1=typeof setTimeout=="function"?setTimeout:void 0,mh=typeof clearTimeout=="function"?clearTimeout:void 0;function Ja(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function ti(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break}return t}function y1(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}var vl=0;function wh(t){return{$$typeof:Pa,toString:t,valueOf:t}}var zo=Math.random().toString(36).slice(2),Zn="__reactFiber$"+zo,mo="__reactProps$"+zo,gi="__reactContainer$"+zo,I1="__reactEvents$"+zo;function Ar(t){var r=t[Zn];if(r)return r;for(var s=t.parentNode;s;){if(r=s[gi]||s[Zn]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=y1(t);t!==null;){if(s=t[Zn])return s;t=y1(t)}return r}t=s,s=t.parentNode}return null}function Cs(t){return t=t[Zn]||t[gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function jo(t){return t[mo]||null}function w0(t){var r=t[I1];return r===void 0&&(r=t[I1]=new Set),r}var na=[],Zr=-1;function ur(t){return{current:t}}function He(t){0>Zr||(t.current=na[Zr],na[Zr]=null,Zr--)}function Je(t,r){Zr++,na[Zr]=t.current,t.current=r}var or={},yt=ur(or),Bt=ur(!1),Sr=or;function ai(t,r){var s=t.type.contextTypes;if(!s)return or;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in s)d[g]=r[g];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=d),d}function kt(t){return t=t.childContextTypes,t!=null}function wo(){He(Bt),He(yt)}function S1(t,r,s){if(yt.current!==or)throw Error(Z(168));Je(yt,r),Je(Bt,s)}function E0(t,r,s){var c=t.stateNode;if(t=r.childContextTypes,typeof c.getChildContext!="function")return s;c=c.getChildContext();for(var d in c)if(!(d in t))throw Error(Z(108,qr(r)||"Unknown",d));return Ge({},s,c)}function ro(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||or,Sr=yt.current,Je(yt,t),Je(Bt,Bt.current),!0}function T1(t,r,s){var c=t.stateNode;if(!c)throw Error(Z(169));s?(t=E0(t,r,Sr),c.__reactInternalMemoizedMergedChildContext=t,He(Bt),He(yt),Je(yt,t)):He(Bt),Je(Bt,s)}var $a=null,Ir=null,Eh=ut.unstable_runWithPriority,eu=ut.unstable_scheduleCallback,ra=ut.unstable_cancelCallback,Ah=ut.unstable_shouldYield,N1=ut.unstable_requestPaint,ia=ut.unstable_now,Ch=ut.unstable_getCurrentPriorityLevel,Vo=ut.unstable_ImmediatePriority,A0=ut.unstable_UserBlockingPriority,C0=ut.unstable_NormalPriority,y0=ut.unstable_LowPriority,I0=ut.unstable_IdlePriority,Ml={},yh=N1!==void 0?N1:function(){},On=null,io=null,_l=!1,v1=ia(),At=1e4>v1?ia:function(){return ia()-v1};function ui(){switch(Ch()){case Vo:return 99;case A0:return 98;case C0:return 97;case y0:return 96;case I0:return 95;default:throw Error(Z(332))}}function S0(t){switch(t){case 99:return Vo;case 98:return A0;case 97:return C0;case 96:return y0;case 95:return I0;default:throw Error(Z(332))}}function Tr(t,r){return t=S0(t),Eh(t,r)}function gs(t,r,s){return t=S0(t),eu(t,r,s)}function Nn(){if(io!==null){var t=io;io=null,ra(t)}T0()}function T0(){if(!_l&&On!==null){_l=!0;var t=0;try{var r=On;Tr(99,function(){for(;t<r.length;t++){var s=r[t];do s=s(!0);while(s!==null)}}),On=null}catch(s){throw On!==null&&(On=On.slice(t+1)),eu(Vo,Nn),s}finally{_l=!1}}}var Ih=Mr.ReactCurrentBatchConfig;function cn(t,r){if(t&&t.defaultProps){r=Ge({},r),t=t.defaultProps;for(var s in t)r[s]===void 0&&(r[s]=t[s]);return r}return r}var Eo=ur(null),Ao=null,Qr=null,Co=null;function tu(){Co=Qr=Ao=null}function nu(t){var r=Eo.current;He(Eo),t.type._context._currentValue=r}function N0(t,r){for(;t!==null;){var s=t.alternate;if((t.childLanes&r)===r){if(s===null||(s.childLanes&r)===r)break;s.childLanes|=r}else t.childLanes|=r,s!==null&&(s.childLanes|=r);t=t.return}}function ni(t,r){Ao=t,Co=Qr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(dn=!0),t.firstContext=null)}function $t(t,r){if(Co!==t&&r!==!1&&r!==0)if((typeof r!="number"||r===1073741823)&&(Co=t,r=1073741823),r={context:t,observedBits:r,next:null},Qr===null){if(Ao===null)throw Error(Z(308));Qr=r,Ao.dependencies={lanes:0,firstContext:r,responders:null}}else Qr=Qr.next=r;return t._currentValue}var Gn=!1;function ru(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function v0(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $n(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function er(t,r){if(t=t.updateQueue,t!==null){t=t.shared;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}}function M1(t,r){var s=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var d=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var p={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};g===null?d=g=p:g=g.next=p,s=s.next}while(s!==null);g===null?d=g=r:g=g.next=r}else d=g=r;s={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}function xs(t,r,s,c){var d=t.updateQueue;Gn=!1;var g=d.firstBaseUpdate,p=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var C=E,S=C.next;C.next=null,p===null?g=S:p.next=S,p=C;var O=t.alternate;if(O!==null){O=O.updateQueue;var G=O.lastBaseUpdate;G!==p&&(G===null?O.firstBaseUpdate=S:G.next=S,O.lastBaseUpdate=C)}}if(g!==null){G=d.baseState,p=0,O=S=C=null;do{E=g.lane;var L=g.eventTime;if((c&E)===E){O!==null&&(O=O.next={eventTime:L,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var Q=t,j=g;switch(E=r,L=s,j.tag){case 1:if(Q=j.payload,typeof Q=="function"){G=Q.call(L,G,E);break e}G=Q;break e;case 3:Q.flags=Q.flags&-4097|64;case 0:if(Q=j.payload,E=typeof Q=="function"?Q.call(L,G,E):Q,E==null)break e;G=Ge({},G,E);break e;case 2:Gn=!0}}g.callback!==null&&(t.flags|=32,E=d.effects,E===null?d.effects=[g]:E.push(g))}else L={eventTime:L,lane:E,tag:g.tag,payload:g.payload,callback:g.callback,next:null},O===null?(S=O=L,C=G):O=O.next=L,p|=E;if(g=g.next,g===null){if(E=d.shared.pending,E===null)break;g=E.next,E.next=null,d.lastBaseUpdate=E,d.shared.pending=null}}while(1);O===null&&(C=G),d.baseState=C,d.firstBaseUpdate=S,d.lastBaseUpdate=O,Is|=p,t.lanes=p,t.memoizedState=G}}function _1(t,r,s){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],d=c.callback;if(d!==null){if(c.callback=null,c=s,typeof d!="function")throw Error(Z(191,d));d.call(c)}}}var M0=new bo.Component().refs;function yo(t,r,s,c){r=t.memoizedState,s=s(c,r),s=s==null?r:Ge({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ho={isMounted:function(t){return(t=t._reactInternals)?_r(t)===t:!1},enqueueSetState:function(t,r,s){t=t._reactInternals;var c=Ut(),d=tr(t),g=$n(c,d);g.payload=r,s!=null&&(g.callback=s),er(t,g),nr(t,d,c)},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var c=Ut(),d=tr(t),g=$n(c,d);g.tag=1,g.payload=r,s!=null&&(g.callback=s),er(t,g),nr(t,d,c)},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Ut(),c=tr(t),d=$n(s,c);d.tag=2,r!=null&&(d.callback=r),er(t,d),nr(t,c,s)}};function O1(t,r,s,c,d,g,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,g,p):r.prototype&&r.prototype.isPureReactComponent?!ds(s,c)||!ds(d,g):!0}function _0(t,r,s){var c=!1,d=or,g=r.contextType;return typeof g=="object"&&g!==null?g=$t(g):(d=kt(r)?Sr:yt.current,c=r.contextTypes,g=(c=c!=null)?ai(t,d):or),r=new r(s,g),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Ho,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=g),r}function D1(t,r,s,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,c),r.state!==t&&Ho.enqueueReplaceState(r,r.state,null)}function sa(t,r,s,c){var d=t.stateNode;d.props=s,d.state=t.memoizedState,d.refs=M0,ru(t);var g=r.contextType;typeof g=="object"&&g!==null?d.context=$t(g):(g=kt(r)?Sr:yt.current,d.context=ai(t,g)),xs(t,s,d,c),d.state=t.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(yo(t,r,g,s),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Ho.enqueueReplaceState(d,d.state,null),xs(t,s,d,c),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4)}var Ys=Array.isArray;function Bi(t,r,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Z(309));var c=s.stateNode}if(!c)throw Error(Z(147,t));var d=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===d?r.ref:(r=function(g){var p=c.refs;p===M0&&(p=c.refs={}),g===null?delete p[d]:p[d]=g},r._stringRef=d,r)}if(typeof t!="string")throw Error(Z(284));if(!s._owner)throw Error(Z(290,t))}return t}function Xs(t,r){if(t.type!=="textarea")throw Error(Z(31,Object.prototype.toString.call(r)==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":r))}function O0(t){function r(_,T){if(t){var N=_.lastEffect;N!==null?(N.nextEffect=T,_.lastEffect=T):_.firstEffect=_.lastEffect=T,T.nextEffect=null,T.flags=8}}function s(_,T){if(!t)return null;for(;T!==null;)r(_,T),T=T.sibling;return null}function c(_,T){for(_=new Map;T!==null;)T.key!==null?_.set(T.key,T):_.set(T.index,T),T=T.sibling;return _}function d(_,T){return _=ar(_,T),_.index=0,_.sibling=null,_}function g(_,T,N){return _.index=N,t?(N=_.alternate,N!==null?(N=N.index,N<T?(_.flags=2,T):N):(_.flags=2,T)):T}function p(_){return t&&_.alternate===null&&(_.flags=2),_}function E(_,T,N,B){return T===null||T.tag!==6?(T=Ll(N,_.mode,B),T.return=_,T):(T=d(T,N),T.return=_,T)}function C(_,T,N,B){return T!==null&&T.elementType===N.type?(B=d(T,N.props),B.ref=Bi(_,T,N),B.return=_,B):(B=ao(N.type,N.key,N.props,null,_.mode,B),B.ref=Bi(_,T,N),B.return=_,B)}function S(_,T,N,B){return T===null||T.tag!==4||T.stateNode.containerInfo!==N.containerInfo||T.stateNode.implementation!==N.implementation?(T=Bl(N,_.mode,B),T.return=_,T):(T=d(T,N.children||[]),T.return=_,T)}function O(_,T,N,B,z){return T===null||T.tag!==7?(T=oi(N,_.mode,B,z),T.return=_,T):(T=d(T,N),T.return=_,T)}function G(_,T,N){if(typeof T=="string"||typeof T=="number")return T=Ll(""+T,_.mode,N),T.return=_,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Vi:return N=ao(T.type,T.key,T.props,null,_.mode,N),N.ref=Bi(_,null,T),N.return=_,N;case wr:return T=Bl(T,_.mode,N),T.return=_,T}if(Ys(T)||_i(T))return T=oi(T,_.mode,N,null),T.return=_,T;Xs(_,T)}return null}function L(_,T,N,B){var z=T!==null?T.key:null;if(typeof N=="string"||typeof N=="number")return z!==null?null:E(_,T,""+N,B);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Vi:return N.key===z?N.type===Yn?O(_,T,N.props.children,B,z):C(_,T,N,B):null;case wr:return N.key===z?S(_,T,N,B):null}if(Ys(N)||_i(N))return z!==null?null:O(_,T,N,B,null);Xs(_,N)}return null}function Q(_,T,N,B,z){if(typeof B=="string"||typeof B=="number")return _=_.get(N)||null,E(T,_,""+B,z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Vi:return _=_.get(B.key===null?N:B.key)||null,B.type===Yn?O(T,_,B.props.children,z,B.key):C(T,_,B,z);case wr:return _=_.get(B.key===null?N:B.key)||null,S(T,_,B,z)}if(Ys(B)||_i(B))return _=_.get(N)||null,O(T,_,B,z,null);Xs(T,B)}return null}function j(_,T,N,B){for(var z=null,$=null,R=T,K=T=0,F=null;R!==null&&K<N.length;K++){R.index>K?(F=R,R=null):F=R.sibling;var re=L(_,R,N[K],B);if(re===null){R===null&&(R=F);break}t&&R&&re.alternate===null&&r(_,R),T=g(re,T,K),$===null?z=re:$.sibling=re,$=re,R=F}if(K===N.length)return s(_,R),z;if(R===null){for(;K<N.length;K++)R=G(_,N[K],B),R!==null&&(T=g(R,T,K),$===null?z=R:$.sibling=R,$=R);return z}for(R=c(_,R);K<N.length;K++)F=Q(R,_,K,N[K],B),F!==null&&(t&&F.alternate!==null&&R.delete(F.key===null?K:F.key),T=g(F,T,K),$===null?z=F:$.sibling=F,$=F);return t&&R.forEach(function(Ae){return r(_,Ae)}),z}function J(_,T,N,B){var z=_i(N);if(typeof z!="function")throw Error(Z(150));if(N=z.call(N),N==null)throw Error(Z(151));for(var $=z=null,R=T,K=T=0,F=null,re=N.next();R!==null&&!re.done;K++,re=N.next()){R.index>K?(F=R,R=null):F=R.sibling;var Ae=L(_,R,re.value,B);if(Ae===null){R===null&&(R=F);break}t&&R&&Ae.alternate===null&&r(_,R),T=g(Ae,T,K),$===null?z=Ae:$.sibling=Ae,$=Ae,R=F}if(re.done)return s(_,R),z;if(R===null){for(;!re.done;K++,re=N.next())re=G(_,re.value,B),re!==null&&(T=g(re,T,K),$===null?z=re:$.sibling=re,$=re);return z}for(R=c(_,R);!re.done;K++,re=N.next())re=Q(R,_,K,re.value,B),re!==null&&(t&&re.alternate!==null&&R.delete(re.key===null?K:re.key),T=g(re,T,K),$===null?z=re:$.sibling=re,$=re);return t&&R.forEach(function(fe){return r(_,fe)}),z}return function(_,T,N,B){var z=typeof N=="object"&&N!==null&&N.type===Yn&&N.key===null;z&&(N=N.props.children);var $=typeof N=="object"&&N!==null;if($)switch(N.$$typeof){case Vi:e:{for($=N.key,z=T;z!==null;){if(z.key===$){switch(z.tag){case 7:if(N.type===Yn){s(_,z.sibling),T=d(z,N.props.children),T.return=_,_=T;break e}break;default:if(z.elementType===N.type){s(_,z.sibling),T=d(z,N.props),T.ref=Bi(_,z,N),T.return=_,_=T;break e}}s(_,z);break}else r(_,z);z=z.sibling}N.type===Yn?(T=oi(N.props.children,_.mode,B,N.key),T.return=_,_=T):(B=ao(N.type,N.key,N.props,null,_.mode,B),B.ref=Bi(_,T,N),B.return=_,_=B)}return p(_);case wr:e:{for(z=N.key;T!==null;){if(T.key===z)if(T.tag===4&&T.stateNode.containerInfo===N.containerInfo&&T.stateNode.implementation===N.implementation){s(_,T.sibling),T=d(T,N.children||[]),T.return=_,_=T;break e}else{s(_,T);break}else r(_,T);T=T.sibling}T=Bl(N,_.mode,B),T.return=_,_=T}return p(_)}if(typeof N=="string"||typeof N=="number")return N=""+N,T!==null&&T.tag===6?(s(_,T.sibling),T=d(T,N),T.return=_,_=T):(s(_,T),T=Ll(N,_.mode,B),T.return=_,_=T),p(_);if(Ys(N))return j(_,T,N,B);if(_i(N))return J(_,T,N,B);if($&&Xs(_,N),typeof N=="undefined"&&!z)switch(_.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Z(152,qr(_.type)||"Component"))}return s(_,T)}}var Io=O0(!0),D0=O0(!1),ys={},Sn=ur(ys),ps=ur(ys),ms=ur(ys);function Cr(t){if(t===ys)throw Error(Z(174));return t}function oa(t,r){switch(Je(ms,r),Je(ps,t),Je(Sn,ys),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Wl(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Wl(r,t)}He(Sn),Je(Sn,r)}function ci(){He(Sn),He(ps),He(ms)}function R1(t){Cr(ms.current);var r=Cr(Sn.current),s=Wl(r,t.type);r!==s&&(Je(ps,t),Je(Sn,s))}function iu(t){ps.current===t&&(He(Sn),He(ps))}var qe=ur(0);function So(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&64)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Rn=null,Qn=null,Tn=!1;function R0(t,r){var s=qt(5,null,null,0);s.elementType="DELETED",s.type="DELETED",s.stateNode=r,s.return=t,s.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=s,t.lastEffect=s):t.firstEffect=t.lastEffect=s}function b1(t,r){switch(t.tag){case 5:var s=t.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,!0):!1;case 13:return!1;default:return!1}}function la(t){if(Tn){var r=Qn;if(r){var s=r;if(!b1(t,r)){if(r=ti(s.nextSibling),!r||!b1(t,r)){t.flags=t.flags&-1025|2,Tn=!1,Rn=t;return}R0(Rn,s)}Rn=t,Qn=ti(r.firstChild)}else t.flags=t.flags&-1025|2,Tn=!1,Rn=t}}function L1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rn=t}function Zs(t){if(t!==Rn)return!1;if(!Tn)return L1(t),Tn=!0,!1;var r=t.type;if(t.tag!==5||r!=="head"&&r!=="body"&&!ta(r,t.memoizedProps))for(r=Qn;r;)R0(t,r),r=ti(r.nextSibling);if(L1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(r===0){Qn=ti(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}t=t.nextSibling}Qn=null}}else Qn=Rn?ti(t.stateNode.nextSibling):null;return!0}function Ol(){Qn=Rn=null,Tn=!1}var ri=[];function su(){for(var t=0;t<ri.length;t++)ri[t]._workInProgressVersionPrimary=null;ri.length=0}var es=Mr.ReactCurrentDispatcher,Jt=Mr.ReactCurrentBatchConfig,ws=0,et=null,Et=null,gt=null,To=!1,ts=!1;function bt(){throw Error(Z(321))}function ou(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!Kt(t[s],r[s]))return!1;return!0}function lu(t,r,s,c,d,g){if(ws=g,et=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,es.current=t===null||t.memoizedState===null?Th:Nh,t=s(c,d),ts){g=0;do{if(ts=!1,!(25>g))throw Error(Z(301));g+=1,gt=Et=null,r.updateQueue=null,es.current=vh,t=s(c,d)}while(ts)}if(es.current=_o,r=Et!==null&&Et.next!==null,ws=0,gt=Et=et=null,To=!1,r)throw Error(Z(300));return t}function yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?et.memoizedState=gt=t:gt=gt.next=t,gt}function Or(){if(Et===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var r=gt===null?et.memoizedState:gt.next;if(r!==null)gt=r,Et=t;else{if(t===null)throw Error(Z(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},gt===null?et.memoizedState=gt=t:gt=gt.next=t}return gt}function yn(t,r){return typeof r=="function"?r(t):r}function ki(t){var r=Or(),s=r.queue;if(s===null)throw Error(Z(311));s.lastRenderedReducer=t;var c=Et,d=c.baseQueue,g=s.pending;if(g!==null){if(d!==null){var p=d.next;d.next=g.next,g.next=p}c.baseQueue=d=g,s.pending=null}if(d!==null){d=d.next,c=c.baseState;var E=p=g=null,C=d;do{var S=C.lane;if((ws&S)===S)E!==null&&(E=E.next={lane:0,action:C.action,eagerReducer:C.eagerReducer,eagerState:C.eagerState,next:null}),c=C.eagerReducer===t?C.eagerState:t(c,C.action);else{var O={lane:S,action:C.action,eagerReducer:C.eagerReducer,eagerState:C.eagerState,next:null};E===null?(p=E=O,g=c):E=E.next=O,et.lanes|=S,Is|=S}C=C.next}while(C!==null&&C!==d);E===null?g=c:E.next=p,Kt(c,r.memoizedState)||(dn=!0),r.memoizedState=c,r.baseState=g,r.baseQueue=E,s.lastRenderedState=c}return[r.memoizedState,s.dispatch]}function Pi(t){var r=Or(),s=r.queue;if(s===null)throw Error(Z(311));s.lastRenderedReducer=t;var c=s.dispatch,d=s.pending,g=r.memoizedState;if(d!==null){s.pending=null;var p=d=d.next;do g=t(g,p.action),p=p.next;while(p!==d);Kt(g,r.memoizedState)||(dn=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),s.lastRenderedState=g}return[g,c]}function B1(t,r,s){var c=r._getVersion;c=c(r._source);var d=r._workInProgressVersionPrimary;if(d!==null?t=d===c:(t=t.mutableReadLanes,(t=(ws&t)===t)&&(r._workInProgressVersionPrimary=c,ri.push(r))),t)return s(r._source);throw ri.push(r),Error(Z(350))}function b0(t,r,s,c){var d=Tt;if(d===null)throw Error(Z(349));var g=r._getVersion,p=g(r._source),E=es.current,C=E.useState(function(){return B1(d,r,s)}),S=C[1],O=C[0];C=gt;var G=t.memoizedState,L=G.refs,Q=L.getSnapshot,j=G.source;G=G.subscribe;var J=et;return t.memoizedState={refs:L,source:r,subscribe:c},E.useEffect(function(){L.getSnapshot=s,L.setSnapshot=S;var _=g(r._source);if(!Kt(p,_)){_=s(r._source),Kt(O,_)||(S(_),_=tr(J),d.mutableReadLanes|=_&d.pendingLanes),_=d.mutableReadLanes,d.entangledLanes|=_;for(var T=d.entanglements,N=_;0<N;){var B=31-sr(N),z=1<<B;T[B]|=_,N&=~z}}},[s,r,c]),E.useEffect(function(){return c(r._source,function(){var _=L.getSnapshot,T=L.setSnapshot;try{T(_(r._source));var N=tr(J);d.mutableReadLanes|=N&d.pendingLanes}catch(B){T(function(){throw B})}})},[r,c]),Kt(Q,s)&&Kt(j,r)&&Kt(G,c)||(t={pending:null,dispatch:null,lastRenderedReducer:yn,lastRenderedState:O},t.dispatch=S=cu.bind(null,et,t),C.queue=t,C.baseQueue=null,O=B1(d,r,s),C.memoizedState=C.baseState=O),O}function L0(t,r,s){var c=Or();return b0(c,t,r,s)}function Fi(t){var r=yr();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:yn,lastRenderedState:t},t=t.dispatch=cu.bind(null,et,t),[r.memoizedState,t]}function No(t,r,s,c){return t={tag:t,create:r,destroy:s,deps:c,next:null},r=et.updateQueue,r===null?(r={lastEffect:null},et.updateQueue=r,r.lastEffect=t.next=t):(s=r.lastEffect,s===null?r.lastEffect=t.next=t:(c=s.next,s.next=t,t.next=c,r.lastEffect=t)),t}function k1(t){var r=yr();return t={current:t},r.memoizedState=t}function vo(){return Or().memoizedState}function aa(t,r,s,c){var d=yr();et.flags|=t,d.memoizedState=No(1|r,s,void 0,c===void 0?null:c)}function au(t,r,s,c){var d=Or();c=c===void 0?null:c;var g=void 0;if(Et!==null){var p=Et.memoizedState;if(g=p.destroy,c!==null&&ou(c,p.deps)){No(r,s,g,c);return}}et.flags|=t,d.memoizedState=No(1|r,s,g,c)}function P1(t,r){return aa(516,4,t,r)}function Mo(t,r){return au(516,4,t,r)}function B0(t,r){return au(4,2,t,r)}function k0(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function P0(t,r,s){return s=s!=null?s.concat([t]):null,au(4,2,k0.bind(null,r,t),s)}function uu(){}function F0(t,r){var s=Or();r=r===void 0?null:r;var c=s.memoizedState;return c!==null&&r!==null&&ou(r,c[1])?c[0]:(s.memoizedState=[t,r],t)}function U0(t,r){var s=Or();r=r===void 0?null:r;var c=s.memoizedState;return c!==null&&r!==null&&ou(r,c[1])?c[0]:(t=t(),s.memoizedState=[t,r],t)}function Sh(t,r){var s=ui();Tr(98>s?98:s,function(){t(!0)}),Tr(97<s?97:s,function(){var c=Jt.transition;Jt.transition=1;try{t(!1),r()}finally{Jt.transition=c}})}function cu(t,r,s){var c=Ut(),d=tr(t),g={lane:d,action:s,eagerReducer:null,eagerState:null,next:null},p=r.pending;if(p===null?g.next=g:(g.next=p.next,p.next=g),r.pending=g,p=t.alternate,t===et||p!==null&&p===et)ts=To=!0;else{if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var E=r.lastRenderedState,C=p(E,s);if(g.eagerReducer=p,g.eagerState=C,Kt(C,E))return}catch{}finally{}nr(t,d,c)}}var _o={readContext:$t,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useOpaqueIdentifier:bt,unstable_isNewReconciler:!1},Th={readContext:$t,useCallback:function(t,r){return yr().memoizedState=[t,r===void 0?null:r],t},useContext:$t,useEffect:P1,useImperativeHandle:function(t,r,s){return s=s!=null?s.concat([t]):null,aa(4,2,k0.bind(null,r,t),s)},useLayoutEffect:function(t,r){return aa(4,2,t,r)},useMemo:function(t,r){var s=yr();return r=r===void 0?null:r,t=t(),s.memoizedState=[t,r],t},useReducer:function(t,r,s){var c=yr();return r=s!==void 0?s(r):r,c.memoizedState=c.baseState=r,t=c.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},t=t.dispatch=cu.bind(null,et,t),[c.memoizedState,t]},useRef:k1,useState:Fi,useDebugValue:uu,useDeferredValue:function(t){var r=Fi(t),s=r[0],c=r[1];return P1(function(){var d=Jt.transition;Jt.transition=1;try{c(t)}finally{Jt.transition=d}},[t]),s},useTransition:function(){var t=Fi(!1),r=t[0];return t=Sh.bind(null,t[1]),k1(t),[t,r]},useMutableSource:function(t,r,s){var c=yr();return c.memoizedState={refs:{getSnapshot:r,setSnapshot:null},source:t,subscribe:s},b0(c,t,r,s)},useOpaqueIdentifier:function(){if(Tn){var t=!1,r=wh(function(){throw t||(t=!0,s("r:"+(vl++).toString(36))),Error(Z(355))}),s=Fi(r)[1];return(et.mode&2)===0&&(et.flags|=516,No(5,function(){s("r:"+(vl++).toString(36))},void 0,null)),r}return r="r:"+(vl++).toString(36),Fi(r),r},unstable_isNewReconciler:!1},Nh={readContext:$t,useCallback:F0,useContext:$t,useEffect:Mo,useImperativeHandle:P0,useLayoutEffect:B0,useMemo:U0,useReducer:ki,useRef:vo,useState:function(){return ki(yn)},useDebugValue:uu,useDeferredValue:function(t){var r=ki(yn),s=r[0],c=r[1];return Mo(function(){var d=Jt.transition;Jt.transition=1;try{c(t)}finally{Jt.transition=d}},[t]),s},useTransition:function(){var t=ki(yn)[0];return[vo().current,t]},useMutableSource:L0,useOpaqueIdentifier:function(){return ki(yn)[0]},unstable_isNewReconciler:!1},vh={readContext:$t,useCallback:F0,useContext:$t,useEffect:Mo,useImperativeHandle:P0,useLayoutEffect:B0,useMemo:U0,useReducer:Pi,useRef:vo,useState:function(){return Pi(yn)},useDebugValue:uu,useDeferredValue:function(t){var r=Pi(yn),s=r[0],c=r[1];return Mo(function(){var d=Jt.transition;Jt.transition=1;try{c(t)}finally{Jt.transition=d}},[t]),s},useTransition:function(){var t=Pi(yn)[0];return[vo().current,t]},useMutableSource:L0,useOpaqueIdentifier:function(){return Pi(yn)[0]},unstable_isNewReconciler:!1},Mh=Mr.ReactCurrentOwner,dn=!1;function Lt(t,r,s,c){r.child=t===null?D0(r,null,s,c):Io(r,t.child,s,c)}function F1(t,r,s,c,d){s=s.render;var g=r.ref;return ni(r,d),c=lu(t,r,s,c,g,d),t!==null&&!dn?(r.updateQueue=t.updateQueue,r.flags&=-517,t.lanes&=~d,bn(t,r,d)):(r.flags|=1,Lt(t,r,c,d),r.child)}function U1(t,r,s,c,d,g){if(t===null){var p=s.type;return typeof p=="function"&&!pu(p)&&p.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=p,z0(t,r,p,c,d,g)):(t=ao(s.type,null,c,r,r.mode,g),t.ref=r.ref,t.return=r,r.child=t)}return p=t.child,(d&g)===0&&(d=p.memoizedProps,s=s.compare,s=s!==null?s:ds,s(d,c)&&t.ref===r.ref)?bn(t,r,g):(r.flags|=1,t=ar(p,c),t.ref=r.ref,t.return=r,r.child=t)}function z0(t,r,s,c,d,g){if(t!==null&&ds(t.memoizedProps,c)&&t.ref===r.ref)if(dn=!1,(g&d)!==0)(t.flags&16384)!==0&&(dn=!0);else return r.lanes=t.lanes,bn(t,r,g);return ua(t,r,s,c,g)}function Dl(t,r,s){var c=r.pendingProps,d=c.children,g=t!==null?t.memoizedState:null;if(c.mode==="hidden"||c.mode==="unstable-defer-without-hiding")if((r.mode&4)===0)r.memoizedState={baseLanes:0},Ks(r,s);else if((s&1073741824)!==0)r.memoizedState={baseLanes:0},Ks(r,g!==null?g.baseLanes:s);else return t=g!==null?g.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t},Ks(r,t),null;else g!==null?(c=g.baseLanes|s,r.memoizedState=null):c=s,Ks(r,c);return Lt(t,r,d,s),r.child}function j0(t,r){var s=r.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(r.flags|=128)}function ua(t,r,s,c,d){var g=kt(s)?Sr:yt.current;return g=ai(r,g),ni(r,d),s=lu(t,r,s,c,g,d),t!==null&&!dn?(r.updateQueue=t.updateQueue,r.flags&=-517,t.lanes&=~d,bn(t,r,d)):(r.flags|=1,Lt(t,r,s,d),r.child)}function z1(t,r,s,c,d){if(kt(s)){var g=!0;ro(r)}else g=!1;if(ni(r,d),r.stateNode===null)t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2),_0(r,s,c),sa(r,s,c,d),c=!0;else if(t===null){var p=r.stateNode,E=r.memoizedProps;p.props=E;var C=p.context,S=s.contextType;typeof S=="object"&&S!==null?S=$t(S):(S=kt(s)?Sr:yt.current,S=ai(r,S));var O=s.getDerivedStateFromProps,G=typeof O=="function"||typeof p.getSnapshotBeforeUpdate=="function";G||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==c||C!==S)&&D1(r,p,c,S),Gn=!1;var L=r.memoizedState;p.state=L,xs(r,c,p,d),C=r.memoizedState,E!==c||L!==C||Bt.current||Gn?(typeof O=="function"&&(yo(r,s,O,c),C=r.memoizedState),(E=Gn||O1(r,s,E,c,L,C,S))?(G||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4)):(typeof p.componentDidMount=="function"&&(r.flags|=4),r.memoizedProps=c,r.memoizedState=C),p.props=c,p.state=C,p.context=S,c=E):(typeof p.componentDidMount=="function"&&(r.flags|=4),c=!1)}else{p=r.stateNode,v0(t,r),E=r.memoizedProps,S=r.type===r.elementType?E:cn(r.type,E),p.props=S,G=r.pendingProps,L=p.context,C=s.contextType,typeof C=="object"&&C!==null?C=$t(C):(C=kt(s)?Sr:yt.current,C=ai(r,C));var Q=s.getDerivedStateFromProps;(O=typeof Q=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==G||L!==C)&&D1(r,p,c,C),Gn=!1,L=r.memoizedState,p.state=L,xs(r,c,p,d);var j=r.memoizedState;E!==G||L!==j||Bt.current||Gn?(typeof Q=="function"&&(yo(r,s,Q,c),j=r.memoizedState),(S=Gn||O1(r,s,S,c,L,j,C))?(O||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,j,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,j,C)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=256)):(typeof p.componentDidUpdate!="function"||E===t.memoizedProps&&L===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&L===t.memoizedState||(r.flags|=256),r.memoizedProps=c,r.memoizedState=j),p.props=c,p.state=j,p.context=C,c=S):(typeof p.componentDidUpdate!="function"||E===t.memoizedProps&&L===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&L===t.memoizedState||(r.flags|=256),c=!1)}return ca(t,r,s,c,g,d)}function ca(t,r,s,c,d,g){j0(t,r);var p=(r.flags&64)!==0;if(!c&&!p)return d&&T1(r,s,!1),bn(t,r,g);c=r.stateNode,Mh.current=r;var E=p&&typeof s.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&p?(r.child=Io(r,t.child,null,g),r.child=Io(r,null,E,g)):Lt(t,r,E,g),r.memoizedState=c.state,d&&T1(r,s,!0),r.child}function j1(t){var r=t.stateNode;r.pendingContext?S1(t,r.pendingContext,r.pendingContext!==r.context):r.context&&S1(t,r.context,!1),oa(t,r.containerInfo)}var Qs={dehydrated:null,retryLane:0};function V1(t,r,s){var c=r.pendingProps,d=qe.current,g=!1,p;return(p=(r.flags&64)!==0)||(p=t!==null&&t.memoizedState===null?!1:(d&2)!==0),p?(g=!0,r.flags&=-65):t!==null&&t.memoizedState===null||c.fallback===void 0||c.unstable_avoidThisFallback===!0||(d|=1),Je(qe,d&1),t===null?(c.fallback!==void 0&&la(r),t=c.children,d=c.fallback,g?(t=H1(r,t,d,s),r.child.memoizedState={baseLanes:s},r.memoizedState=Qs,t):typeof c.unstable_expectedLoadTime=="number"?(t=H1(r,t,d,s),r.child.memoizedState={baseLanes:s},r.memoizedState=Qs,r.lanes=33554432,t):(s=mu({mode:"visible",children:t},r.mode,s,null),s.return=r,r.child=s)):t.memoizedState!==null?g?(c=G1(t,r,c.children,c.fallback,s),g=r.child,d=t.child.memoizedState,g.memoizedState=d===null?{baseLanes:s}:{baseLanes:d.baseLanes|s},g.childLanes=t.childLanes&~s,r.memoizedState=Qs,c):(s=W1(t,r,c.children,s),r.memoizedState=null,s):g?(c=G1(t,r,c.children,c.fallback,s),g=r.child,d=t.child.memoizedState,g.memoizedState=d===null?{baseLanes:s}:{baseLanes:d.baseLanes|s},g.childLanes=t.childLanes&~s,r.memoizedState=Qs,c):(s=W1(t,r,c.children,s),r.memoizedState=null,s)}function H1(t,r,s,c){var d=t.mode,g=t.child;return r={mode:"hidden",children:r},(d&2)===0&&g!==null?(g.childLanes=0,g.pendingProps=r):g=mu(r,d,0,null),s=oi(s,d,c,null),g.return=t,s.return=t,g.sibling=s,t.child=g,s}function W1(t,r,s,c){var d=t.child;return t=d.sibling,s=ar(d,{mode:"visible",children:s}),(r.mode&2)===0&&(s.lanes=c),s.return=r,s.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,r.firstEffect=r.lastEffect=t),r.child=s}function G1(t,r,s,c,d){var g=r.mode,p=t.child;t=p.sibling;var E={mode:"hidden",children:s};return(g&2)===0&&r.child!==p?(s=r.child,s.childLanes=0,s.pendingProps=E,p=s.lastEffect,p!==null?(r.firstEffect=s.firstEffect,r.lastEffect=p,p.nextEffect=null):r.firstEffect=r.lastEffect=null):s=ar(p,E),t!==null?c=ar(t,c):(c=oi(c,g,d,null),c.flags|=2),c.return=r,s.return=r,s.sibling=c,r.child=s,c}function Y1(t,r){t.lanes|=r;var s=t.alternate;s!==null&&(s.lanes|=r),N0(t.return,r)}function Rl(t,r,s,c,d,g){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:d,lastEffect:g}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=s,p.tailMode=d,p.lastEffect=g)}function X1(t,r,s){var c=r.pendingProps,d=c.revealOrder,g=c.tail;if(Lt(t,r,c.children,s),c=qe.current,(c&2)!==0)c=c&1|2,r.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Y1(t,s);else if(t.tag===19)Y1(t,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(Je(qe,c),(r.mode&2)===0)r.memoizedState=null;else switch(d){case"forwards":for(s=r.child,d=null;s!==null;)t=s.alternate,t!==null&&So(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=r.child,r.child=null):(d=s.sibling,s.sibling=null),Rl(r,!1,d,s,g,r.lastEffect);break;case"backwards":for(s=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&So(t)===null){r.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}Rl(r,!0,s,null,g,r.lastEffect);break;case"together":Rl(r,!1,null,null,void 0,r.lastEffect);break;default:r.memoizedState=null}return r.child}function bn(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),Is|=r.lanes,(s&r.childLanes)!==0){if(t!==null&&r.child!==t.child)throw Error(Z(153));if(r.child!==null){for(t=r.child,s=ar(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=ar(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}return null}var V0,fa,H0,W0;V0=function(t,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};fa=function(){};H0=function(t,r,s,c){var d=t.memoizedProps;if(d!==c){t=r.stateNode,Cr(Sn.current);var g=null;switch(s){case"input":d=Fl(t,d),c=Fl(t,c),g=[];break;case"option":d=jl(t,d),c=jl(t,c),g=[];break;case"select":d=Ge({},d,{value:void 0}),c=Ge({},c,{value:void 0}),g=[];break;case"textarea":d=Vl(t,d),c=Vl(t,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=po)}Gl(s,c);var p;s=null;for(S in d)if(!c.hasOwnProperty(S)&&d.hasOwnProperty(S)&&d[S]!=null)if(S==="style"){var E=d[S];for(p in E)E.hasOwnProperty(p)&&(s||(s={}),s[p]="")}else S!=="dangerouslySetInnerHTML"&&S!=="children"&&S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(ss.hasOwnProperty(S)?g||(g=[]):(g=g||[]).push(S,null));for(S in c){var C=c[S];if(E=d!=null?d[S]:void 0,c.hasOwnProperty(S)&&C!==E&&(C!=null||E!=null))if(S==="style")if(E){for(p in E)!E.hasOwnProperty(p)||C&&C.hasOwnProperty(p)||(s||(s={}),s[p]="");for(p in C)C.hasOwnProperty(p)&&E[p]!==C[p]&&(s||(s={}),s[p]=C[p])}else s||(g||(g=[]),g.push(S,s)),s=C;else S==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,E=E?E.__html:void 0,C!=null&&E!==C&&(g=g||[]).push(S,C)):S==="children"?typeof C!="string"&&typeof C!="number"||(g=g||[]).push(S,""+C):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&(ss.hasOwnProperty(S)?(C!=null&&S==="onScroll"&&Ve("scroll",t),g||E===C||(g=[])):typeof C=="object"&&C!==null&&C.$$typeof===Pa?C.toString():(g=g||[]).push(S,C))}s&&(g=g||[]).push("style",s);var S=g;(r.updateQueue=S)&&(r.flags|=4)}};W0=function(t,r,s,c){s!==c&&(r.flags|=4)};function Ui(t,r){if(!Tn)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function _h(t,r,s){var c=r.pendingProps;switch(r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return kt(r.type)&&wo(),null;case 3:return ci(),He(Bt),He(yt),su(),c=r.stateNode,c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(Zs(r)?r.flags|=4:c.hydrate||(r.flags|=256)),fa(r),null;case 5:iu(r);var d=Cr(ms.current);if(s=r.type,t!==null&&r.stateNode!=null)H0(t,r,s,c,d),t.ref!==r.ref&&(r.flags|=128);else{if(!c){if(r.stateNode===null)throw Error(Z(166));return null}if(t=Cr(Sn.current),Zs(r)){c=r.stateNode,s=r.type;var g=r.memoizedProps;switch(c[Zn]=r,c[mo]=g,s){case"dialog":Ve("cancel",c),Ve("close",c);break;case"iframe":case"object":case"embed":Ve("load",c);break;case"video":case"audio":for(t=0;t<Wi.length;t++)Ve(Wi[t],c);break;case"source":Ve("error",c);break;case"img":case"image":case"link":Ve("error",c),Ve("load",c);break;case"details":Ve("toggle",c);break;case"input":Xu(c,g),Ve("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ve("invalid",c);break;case"textarea":Qu(c,g),Ve("invalid",c)}Gl(s,g),t=null;for(var p in g)g.hasOwnProperty(p)&&(d=g[p],p==="children"?typeof d=="string"?c.textContent!==d&&(t=["children",d]):typeof d=="number"&&c.textContent!==""+d&&(t=["children",""+d]):ss.hasOwnProperty(p)&&d!=null&&p==="onScroll"&&Ve("scroll",c));switch(s){case"input":Vs(c),Zu(c,g,!0);break;case"textarea":Vs(c),Ku(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=po)}c=t,r.updateQueue=c,c!==null&&(r.flags|=4)}else{switch(p=d.nodeType===9?d:d.ownerDocument,t===Hl.html&&(t=Pc(s)),t===Hl.html?s==="script"?(t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=p.createElement(s,{is:c.is}):(t=p.createElement(s),s==="select"&&(p=t,c.multiple?p.multiple=!0:c.size&&(p.size=c.size))):t=p.createElementNS(t,s),t[Zn]=r,t[mo]=c,V0(t,r,!1,!1),r.stateNode=t,p=Yl(s,c),s){case"dialog":Ve("cancel",t),Ve("close",t),d=c;break;case"iframe":case"object":case"embed":Ve("load",t),d=c;break;case"video":case"audio":for(d=0;d<Wi.length;d++)Ve(Wi[d],t);d=c;break;case"source":Ve("error",t),d=c;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),d=c;break;case"details":Ve("toggle",t),d=c;break;case"input":Xu(t,c),d=Fl(t,c),Ve("invalid",t);break;case"option":d=jl(t,c);break;case"select":t._wrapperState={wasMultiple:!!c.multiple},d=Ge({},c,{value:void 0}),Ve("invalid",t);break;case"textarea":Qu(t,c),d=Vl(t,c),Ve("invalid",t);break;default:d=c}Gl(s,d);var E=d;for(g in E)if(E.hasOwnProperty(g)){var C=E[g];g==="style"?zc(t,C):g==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Fc(t,C)):g==="children"?typeof C=="string"?(s!=="textarea"||C!=="")&&os(t,C):typeof C=="number"&&os(t,""+C):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ss.hasOwnProperty(g)?C!=null&&g==="onScroll"&&Ve("scroll",t):C!=null&&Da(t,g,C,p))}switch(s){case"input":Vs(t),Zu(t,c,!1);break;case"textarea":Vs(t),Ku(t);break;case"option":c.value!=null&&t.setAttribute("value",""+ir(c.value));break;case"select":t.multiple=!!c.multiple,g=c.value,g!=null?Jr(t,!!c.multiple,g,!1):c.defaultValue!=null&&Jr(t,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=po)}m0(s,c)&&(r.flags|=4)}r.ref!==null&&(r.flags|=128)}return null;case 6:if(t&&r.stateNode!=null)W0(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(Z(166));s=Cr(ms.current),Cr(Sn.current),Zs(r)?(c=r.stateNode,s=r.memoizedProps,c[Zn]=r,c.nodeValue!==s&&(r.flags|=4)):(c=(s.nodeType===9?s:s.ownerDocument).createTextNode(c),c[Zn]=r,r.stateNode=c)}return null;case 13:return He(qe),c=r.memoizedState,(r.flags&64)!==0?(r.lanes=s,r):(c=c!==null,s=!1,t===null?r.memoizedProps.fallback!==void 0&&Zs(r):s=t.memoizedState!==null,c&&!s&&(r.mode&2)!==0&&(t===null&&r.memoizedProps.unstable_avoidThisFallback!==!0||(qe.current&1)!==0?xt===0&&(xt=3):((xt===0||xt===3)&&(xt=4),Tt===null||(Is&134217727)===0&&(pi&134217727)===0||ii(Tt,Ct))),(c||s)&&(r.flags|=4),null);case 4:return ci(),fa(r),t===null&&g0(r.stateNode.containerInfo),null;case 10:return nu(r),null;case 17:return kt(r.type)&&wo(),null;case 19:if(He(qe),c=r.memoizedState,c===null)return null;if(g=(r.flags&64)!==0,p=c.rendering,p===null)if(g)Ui(c,!1);else{if(xt!==0||t!==null&&(t.flags&64)!==0)for(t=r.child;t!==null;){if(p=So(t),p!==null){for(r.flags|=64,Ui(c,!1),g=p.updateQueue,g!==null&&(r.updateQueue=g,r.flags|=4),c.lastEffect===null&&(r.firstEffect=null),r.lastEffect=c.lastEffect,c=s,s=r.child;s!==null;)g=s,t=c,g.flags&=2,g.nextEffect=null,g.firstEffect=null,g.lastEffect=null,p=g.alternate,p===null?(g.childLanes=0,g.lanes=t,g.child=null,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=p.childLanes,g.lanes=p.lanes,g.child=p.child,g.memoizedProps=p.memoizedProps,g.memoizedState=p.memoizedState,g.updateQueue=p.updateQueue,g.type=p.type,t=p.dependencies,g.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return Je(qe,qe.current&1|2),r.child}t=t.sibling}c.tail!==null&&At()>ma&&(r.flags|=64,g=!0,Ui(c,!1),r.lanes=33554432)}else{if(!g)if(t=So(p),t!==null){if(r.flags|=64,g=!0,s=t.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),Ui(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Tn)return r=r.lastEffect=c.lastEffect,r!==null&&(r.nextEffect=null),null}else 2*At()-c.renderingStartTime>ma&&s!==1073741824&&(r.flags|=64,g=!0,Ui(c,!1),r.lanes=33554432);c.isBackwards?(p.sibling=r.child,r.child=p):(s=c.last,s!==null?s.sibling=p:r.child=p,c.last=p)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.lastEffect=r.lastEffect,c.renderingStartTime=At(),s.sibling=null,r=qe.current,Je(qe,g?r&1|2:r&1),s):null;case 23:case 24:return xu(),t!==null&&t.memoizedState!==null!=(r.memoizedState!==null)&&c.mode!=="unstable-defer-without-hiding"&&(r.flags|=4),null}throw Error(Z(156,r.tag))}function Oh(t){switch(t.tag){case 1:kt(t.type)&&wo();var r=t.flags;return r&4096?(t.flags=r&-4097|64,t):null;case 3:if(ci(),He(Bt),He(yt),su(),r=t.flags,(r&64)!==0)throw Error(Z(285));return t.flags=r&-4097|64,t;case 5:return iu(t),null;case 13:return He(qe),r=t.flags,r&4096?(t.flags=r&-4097|64,t):null;case 19:return He(qe),null;case 4:return ci(),null;case 10:return nu(t),null;case 23:case 24:return xu(),null;default:return null}}function fu(t,r){try{var s="",c=r;do s+=cd(c),c=c.return;while(c);var d=s}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:t,source:r,stack:d}}function da(t,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var Dh=typeof WeakMap=="function"?WeakMap:Map;function G0(t,r,s){s=$n(-1,s),s.tag=3,s.payload={element:null};var c=r.value;return s.callback=function(){Do||(Do=!0,wa=c),da(t,r)},s}function Y0(t,r,s){s=$n(-1,s),s.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;s.payload=function(){return da(t,r),c(d)}}var g=t.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(s.callback=function(){typeof c!="function"&&(In===null?In=new Set([this]):In.add(this),da(t,r));var p=r.stack;this.componentDidCatch(r.value,{componentStack:p!==null?p:""})}),s}var Rh=typeof WeakSet=="function"?WeakSet:Set;function Z1(t){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){rr(t,s)}else r.current=null}function bh(t,r){switch(r.tag){case 0:case 11:case 15:case 22:return;case 1:if(r.flags&256&&t!==null){var s=t.memoizedProps,c=t.memoizedState;t=r.stateNode,r=t.getSnapshotBeforeUpdate(r.elementType===r.type?s:cn(r.type,s),c),t.__reactInternalSnapshotBeforeUpdate=r}return;case 3:r.flags&256&&Ja(r.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Z(163))}function Lh(t,r,s){switch(s.tag){case 0:case 11:case 15:case 22:if(r=s.updateQueue,r=r!==null?r.lastEffect:null,r!==null){t=r=r.next;do{if((t.tag&3)===3){var c=t.create;t.destroy=c()}t=t.next}while(t!==r)}if(r=s.updateQueue,r=r!==null?r.lastEffect:null,r!==null){t=r=r.next;do{var d=t;c=d.next,d=d.tag,(d&4)!==0&&(d&1)!==0&&(tf(s,t),Vh(s,t)),t=c}while(t!==r)}return;case 1:t=s.stateNode,s.flags&4&&(r===null?t.componentDidMount():(c=s.elementType===s.type?r.memoizedProps:cn(s.type,r.memoizedProps),t.componentDidUpdate(c,r.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),r=s.updateQueue,r!==null&&_1(s,r,t);return;case 3:if(r=s.updateQueue,r!==null){if(t=null,s.child!==null)switch(s.child.tag){case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}_1(s,r,t)}return;case 5:t=s.stateNode,r===null&&s.flags&4&&m0(s.type,s.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:s.memoizedState===null&&(s=s.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&Kc(s))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Z(163))}function Q1(t,r){for(var s=t;;){if(s.tag===5){var c=s.stateNode;if(r)c=c.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{c=s.stateNode;var d=s.memoizedProps.style;d=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=Uc("display",d)}}else if(s.tag===6)s.stateNode.nodeValue=r?"":s.memoizedProps;else if((s.tag!==23&&s.tag!==24||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}}function K1(t,r){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount($a,r)}catch{}switch(r.tag){case 0:case 11:case 14:case 15:case 22:if(t=r.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var s=t=t.next;do{var c=s,d=c.destroy;if(c=c.tag,d!==void 0)if((c&4)!==0)tf(r,s);else{c=r;try{d()}catch(g){rr(c,g)}}s=s.next}while(s!==t)}break;case 1:if(Z1(r),t=r.stateNode,typeof t.componentWillUnmount=="function")try{t.props=r.memoizedProps,t.state=r.memoizedState,t.componentWillUnmount()}catch(g){rr(r,g)}break;case 5:Z1(r);break;case 4:X0(t,r)}}function q1(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function J1(t){return t.tag===5||t.tag===3||t.tag===4}function $1(t){e:{for(var r=t.return;r!==null;){if(J1(r))break e;r=r.return}throw Error(Z(160))}var s=r;switch(r=s.stateNode,s.tag){case 5:var c=!1;break;case 3:r=r.containerInfo,c=!0;break;case 4:r=r.containerInfo,c=!0;break;default:throw Error(Z(161))}s.flags&16&&(os(r,""),s.flags&=-17);e:t:for(s=t;;){for(;s.sibling===null;){if(s.return===null||J1(s.return)){s=null;break e}s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2)){s=s.stateNode;break e}}c?ha(t,s,r):ga(t,s,r)}function ha(t,r,s){var c=t.tag,d=c===5||c===6;if(d)t=d?t.stateNode:t.stateNode.instance,r?s.nodeType===8?s.parentNode.insertBefore(t,r):s.insertBefore(t,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(t,s)):(r=s,r.appendChild(t)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=po));else if(c!==4&&(t=t.child,t!==null))for(ha(t,r,s),t=t.sibling;t!==null;)ha(t,r,s),t=t.sibling}function ga(t,r,s){var c=t.tag,d=c===5||c===6;if(d)t=d?t.stateNode:t.stateNode.instance,r?s.insertBefore(t,r):s.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(ga(t,r,s),t=t.sibling;t!==null;)ga(t,r,s),t=t.sibling}function X0(t,r){for(var s=r,c=!1,d,g;;){if(!c){c=s.return;e:for(;;){if(c===null)throw Error(Z(160));switch(d=c.stateNode,c.tag){case 5:g=!1;break e;case 3:d=d.containerInfo,g=!0;break e;case 4:d=d.containerInfo,g=!0;break e}c=c.return}c=!0}if(s.tag===5||s.tag===6){e:for(var p=t,E=s,C=E;;)if(K1(p,C),C.child!==null&&C.tag!==4)C.child.return=C,C=C.child;else{if(C===E)break e;for(;C.sibling===null;){if(C.return===null||C.return===E)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}g?(p=d,E=s.stateNode,p.nodeType===8?p.parentNode.removeChild(E):p.removeChild(E)):d.removeChild(s.stateNode)}else if(s.tag===4){if(s.child!==null){d=s.stateNode.containerInfo,g=!0,s.child.return=s,s=s.child;continue}}else if(K1(t,s),s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return,s.tag===4&&(c=!1)}s.sibling.return=s.return,s=s.sibling}}function bl(t,r){switch(r.tag){case 0:case 11:case 14:case 15:case 22:var s=r.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do(c.tag&3)===3&&(t=c.destroy,c.destroy=void 0,t!==void 0&&t()),c=c.next;while(c!==s)}return;case 1:return;case 5:if(s=r.stateNode,s!=null){c=r.memoizedProps;var d=t!==null?t.memoizedProps:c;t=r.type;var g=r.updateQueue;if(r.updateQueue=null,g!==null){for(s[mo]=c,t==="input"&&c.type==="radio"&&c.name!=null&&Bc(s,c),Yl(t,d),r=Yl(t,c),d=0;d<g.length;d+=2){var p=g[d],E=g[d+1];p==="style"?zc(s,E):p==="dangerouslySetInnerHTML"?Fc(s,E):p==="children"?os(s,E):Da(s,p,E,r)}switch(t){case"input":Ul(s,c);break;case"textarea":kc(s,c);break;case"select":t=s._wrapperState.wasMultiple,s._wrapperState.wasMultiple=!!c.multiple,g=c.value,g!=null?Jr(s,!!c.multiple,g,!1):t!==!!c.multiple&&(c.defaultValue!=null?Jr(s,!!c.multiple,c.defaultValue,!0):Jr(s,!!c.multiple,c.multiple?[]:"",!1))}}}return;case 6:if(r.stateNode===null)throw Error(Z(162));r.stateNode.nodeValue=r.memoizedProps;return;case 3:s=r.stateNode,s.hydrate&&(s.hydrate=!1,Kc(s.containerInfo));return;case 12:return;case 13:r.memoizedState!==null&&(gu=At(),Q1(r.child,!0)),ec(r);return;case 19:ec(r);return;case 17:return;case 23:case 24:Q1(r,r.memoizedState!==null);return}throw Error(Z(163))}function ec(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new Rh),r.forEach(function(c){var d=Gh.bind(null,t,c);s.has(c)||(s.add(c),c.then(d,d))})}}function Bh(t,r){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(r=r.memoizedState,r!==null&&r.dehydrated===null):!1}var kh=Math.ceil,Oo=Mr.ReactCurrentDispatcher,du=Mr.ReactCurrentOwner,ge=0,Tt=null,st=null,Ct=0,Nr=0,xa=ur(0),xt=0,Wo=null,xi=0,Is=0,pi=0,hu=0,pa=null,gu=0,ma=1/0;function mi(){ma=At()+500}var ie=null,Do=!1,wa=null,In=null,lr=!1,ns=null,Gi=90,Ea=[],Aa=[],Ln=null,rs=0,Ca=null,so=-1,Dn=0,oo=0,is=null,lo=!1;function Ut(){return(ge&48)!==0?At():so!==-1?so:so=At()}function tr(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return ui()===99?1:2;if(Dn===0&&(Dn=xi),Ih.transition!==0){oo!==0&&(oo=pa!==null?pa.pendingLanes:0),t=Dn;var r=4186112&~oo;return r&=-r,r===0&&(t=4186112&~t,r=t&-t,r===0&&(r=8192)),r}return t=ui(),(ge&4)!==0&&t===98?t=go(12,Dn):(t=Nd(t),t=go(t,Dn)),t}function nr(t,r,s){if(50<rs)throw rs=0,Ca=null,Error(Z(185));if(t=Go(t,r),t===null)return null;Po(t,r,s),t===Tt&&(pi|=r,xt===4&&ii(t,Ct));var c=ui();r===1?(ge&8)!==0&&(ge&48)===0?ya(t):(en(t,s),ge===0&&(mi(),Nn())):((ge&4)===0||c!==98&&c!==99||(Ln===null?Ln=new Set([t]):Ln.add(t)),en(t,s)),pa=t}function Go(t,r){t.lanes|=r;var s=t.alternate;for(s!==null&&(s.lanes|=r),s=t,t=t.return;t!==null;)t.childLanes|=r,s=t.alternate,s!==null&&(s.childLanes|=r),s=t,t=t.return;return s.tag===3?s.stateNode:null}function en(t,r){for(var s=t.callbackNode,c=t.suspendedLanes,d=t.pingedLanes,g=t.expirationTimes,p=t.pendingLanes;0<p;){var E=31-sr(p),C=1<<E,S=g[E];if(S===-1){if((C&c)===0||(C&d)!==0){S=r,Vr(C);var O=Ue;g[E]=10<=O?S+250:6<=O?S+5e3:-1}}else S<=r&&(t.expiredLanes|=C);p&=~C}if(c=cs(t,t===Tt?Ct:0),r=Ue,c===0)s!==null&&(s!==Ml&&ra(s),t.callbackNode=null,t.callbackPriority=0);else{if(s!==null){if(t.callbackPriority===r)return;s!==Ml&&ra(s)}r===15?(s=ya.bind(null,t),On===null?(On=[s],io=eu(Vo,T0)):On.push(s),s=Ml):r===14?s=gs(99,ya.bind(null,t)):(s=vd(r),s=gs(s,Z0.bind(null,t))),t.callbackPriority=r,t.callbackNode=s}}function Z0(t){if(so=-1,oo=Dn=0,(ge&48)!==0)throw Error(Z(327));var r=t.callbackNode;if(cr()&&t.callbackNode!==r)return null;var s=cs(t,t===Tt?Ct:0);if(s===0)return null;var c=s,d=ge;ge|=16;var g=J0();(Tt!==t||Ct!==c)&&(mi(),si(t,c));do try{Uh();break}catch(E){q0(t,E)}while(1);if(tu(),Oo.current=g,ge=d,st!==null?c=0:(Tt=null,Ct=0,c=xt),(xi&pi)!==0)si(t,0);else if(c!==0){if(c===2&&(ge|=64,t.hydrate&&(t.hydrate=!1,Ja(t.containerInfo)),s=r0(t),s!==0&&(c=Yi(t,s))),c===1)throw r=Wo,si(t,0),ii(t,s),en(t,At()),r;switch(t.finishedWork=t.current.alternate,t.finishedLanes=s,c){case 0:case 1:throw Error(Z(345));case 2:mr(t);break;case 3:if(ii(t,s),(s&62914560)===s&&(c=gu+500-At(),10<c)){if(cs(t,0)!==0)break;if(d=t.suspendedLanes,(d&s)!==s){Ut(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=C1(mr.bind(null,t),c);break}mr(t);break;case 4:if(ii(t,s),(s&4186112)===s)break;for(c=t.eventTimes,d=-1;0<s;){var p=31-sr(s);g=1<<p,p=c[p],p>d&&(d=p),s&=~g}if(s=d,s=At()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*kh(s/1960))-s,10<s){t.timeoutHandle=C1(mr.bind(null,t),s);break}mr(t);break;case 5:mr(t);break;default:throw Error(Z(329))}}return en(t,At()),t.callbackNode===r?Z0.bind(null,t):null}function ii(t,r){for(r&=~hu,r&=~pi,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var s=31-sr(r),c=1<<s;t[s]=-1,r&=~c}}function ya(t){if((ge&48)!==0)throw Error(Z(327));if(cr(),t===Tt&&(t.expiredLanes&Ct)!==0){var r=Ct,s=Yi(t,r);(xi&pi)!==0&&(r=cs(t,r),s=Yi(t,r))}else r=cs(t,0),s=Yi(t,r);if(t.tag!==0&&s===2&&(ge|=64,t.hydrate&&(t.hydrate=!1,Ja(t.containerInfo)),r=r0(t),r!==0&&(s=Yi(t,r))),s===1)throw s=Wo,si(t,0),ii(t,r),en(t,At()),s;return t.finishedWork=t.current.alternate,t.finishedLanes=r,mr(t),en(t,At()),null}function Ph(){if(Ln!==null){var t=Ln;Ln=null,t.forEach(function(r){r.expiredLanes|=24&r.pendingLanes,en(r,At())})}Nn()}function Q0(t,r){var s=ge;ge|=1;try{return t(r)}finally{ge=s,ge===0&&(mi(),Nn())}}function K0(t,r){var s=ge;ge&=-2,ge|=8;try{return t(r)}finally{ge=s,ge===0&&(mi(),Nn())}}function Ks(t,r){Je(xa,Nr),Nr|=r,xi|=r}function xu(){Nr=xa.current,He(xa)}function si(t,r){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,mh(s)),st!==null)for(s=st.return;s!==null;){var c=s;switch(c.tag){case 1:c=c.type.childContextTypes,c!=null&&wo();break;case 3:ci(),He(Bt),He(yt),su();break;case 5:iu(c);break;case 4:ci();break;case 13:He(qe);break;case 19:He(qe);break;case 10:nu(c);break;case 23:case 24:xu()}s=s.return}Tt=t,st=ar(t.current,null),Ct=Nr=xi=r,xt=0,Wo=null,hu=pi=Is=0}function q0(t,r){do{var s=st;try{if(tu(),es.current=_o,To){for(var c=et.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}To=!1}if(ws=0,gt=Et=et=null,ts=!1,du.current=null,s===null||s.return===null){xt=1,Wo=r,st=null;break}e:{var g=t,p=s.return,E=s,C=r;if(r=Ct,E.flags|=2048,E.firstEffect=E.lastEffect=null,C!==null&&typeof C=="object"&&typeof C.then=="function"){var S=C;if((E.mode&2)===0){var O=E.alternate;O?(E.updateQueue=O.updateQueue,E.memoizedState=O.memoizedState,E.lanes=O.lanes):(E.updateQueue=null,E.memoizedState=null)}var G=(qe.current&1)!==0,L=p;do{var Q;if(Q=L.tag===13){var j=L.memoizedState;if(j!==null)Q=j.dehydrated!==null;else{var J=L.memoizedProps;Q=J.fallback===void 0?!1:J.unstable_avoidThisFallback!==!0?!0:!G}}if(Q){var _=L.updateQueue;if(_===null){var T=new Set;T.add(S),L.updateQueue=T}else _.add(S);if((L.mode&2)===0){if(L.flags|=64,E.flags|=16384,E.flags&=-2981,E.tag===1)if(E.alternate===null)E.tag=17;else{var N=$n(-1,1);N.tag=2,er(E,N)}E.lanes|=1;break e}C=void 0,E=r;var B=g.pingCache;if(B===null?(B=g.pingCache=new Dh,C=new Set,B.set(S,C)):(C=B.get(S),C===void 0&&(C=new Set,B.set(S,C))),!C.has(E)){C.add(E);var z=Wh.bind(null,g,S,E);S.then(z,z)}L.flags|=4096,L.lanes=r;break e}L=L.return}while(L!==null);C=Error((qr(E.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}xt!==5&&(xt=2),C=fu(C,E),L=p;do{switch(L.tag){case 3:g=C,L.flags|=4096,r&=-r,L.lanes|=r;var $=G0(L,g,r);M1(L,$);break e;case 1:g=C;var R=L.type,K=L.stateNode;if((L.flags&64)===0&&(typeof R.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(In===null||!In.has(K)))){L.flags|=4096,r&=-r,L.lanes|=r;var F=Y0(L,g,r);M1(L,F);break e}}L=L.return}while(L!==null)}ef(s)}catch(re){r=re,st===s&&s!==null&&(st=s=s.return);continue}break}while(1)}function J0(){var t=Oo.current;return Oo.current=_o,t===null?_o:t}function Yi(t,r){var s=ge;ge|=16;var c=J0();Tt===t&&Ct===r||si(t,r);do try{Fh();break}catch(d){q0(t,d)}while(1);if(tu(),ge=s,Oo.current=c,st!==null)throw Error(Z(261));return Tt=null,Ct=0,xt}function Fh(){for(;st!==null;)$0(st)}function Uh(){for(;st!==null&&!Ah();)$0(st)}function $0(t){var r=nf(t.alternate,t,Nr);t.memoizedProps=t.pendingProps,r===null?ef(t):st=r,du.current=null}function ef(t){var r=t;do{var s=r.alternate;if(t=r.return,(r.flags&2048)===0){if(s=_h(s,r,Nr),s!==null){st=s;return}if(s=r,s.tag!==24&&s.tag!==23||s.memoizedState===null||(Nr&1073741824)!==0||(s.mode&4)===0){for(var c=0,d=s.child;d!==null;)c|=d.lanes|d.childLanes,d=d.sibling;s.childLanes=c}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=r.firstEffect),r.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=r.firstEffect),t.lastEffect=r.lastEffect),1<r.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=r:t.firstEffect=r,t.lastEffect=r))}else{if(s=Oh(r),s!==null){s.flags&=2047,st=s;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(r=r.sibling,r!==null){st=r;return}st=r=t}while(r!==null);xt===0&&(xt=5)}function mr(t){var r=ui();return Tr(99,zh.bind(null,t,r)),null}function zh(t,r){do cr();while(ns!==null);if((ge&48)!==0)throw Error(Z(327));var s=t.finishedWork;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(Z(177));t.callbackNode=null;var c=s.lanes|s.childLanes,d=c,g=t.pendingLanes&~d;t.pendingLanes=d,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=d,t.mutableReadLanes&=d,t.entangledLanes&=d,d=t.entanglements;for(var p=t.eventTimes,E=t.expirationTimes;0<g;){var C=31-sr(g),S=1<<C;d[C]=0,p[C]=-1,E[C]=-1,g&=~S}if(Ln!==null&&(c&24)===0&&Ln.has(t)&&Ln.delete(t),t===Tt&&(st=Tt=null,Ct=0),1<s.flags?s.lastEffect!==null?(s.lastEffect.nextEffect=s,c=s.firstEffect):c=s:c=s.firstEffect,c!==null){if(d=ge,ge|=32,du.current=null,Tl=eo,p=g1(),Jl(p)){if("selectionStart"in p)E={start:p.selectionStart,end:p.selectionEnd};else e:if(E=(E=p.ownerDocument)&&E.defaultView||window,(S=E.getSelection&&E.getSelection())&&S.rangeCount!==0){E=S.anchorNode,g=S.anchorOffset,C=S.focusNode,S=S.focusOffset;try{E.nodeType,C.nodeType}catch{E=null;break e}var O=0,G=-1,L=-1,Q=0,j=0,J=p,_=null;t:for(;;){for(var T;J!==E||g!==0&&J.nodeType!==3||(G=O+g),J!==C||S!==0&&J.nodeType!==3||(L=O+S),J.nodeType===3&&(O+=J.nodeValue.length),(T=J.firstChild)!==null;)_=J,J=T;for(;;){if(J===p)break t;if(_===E&&++Q===g&&(G=O),_===C&&++j===S&&(L=O),(T=J.nextSibling)!==null)break;J=_,_=J.parentNode}J=T}E=G===-1||L===-1?null:{start:G,end:L}}else E=null;E=E||{start:0,end:0}}else E=null;Nl={focusedElem:p,selectionRange:E},eo=!1,is=null,lo=!1,ie=c;do try{jh()}catch(re){if(ie===null)throw Error(Z(330));rr(ie,re),ie=ie.nextEffect}while(ie!==null);is=null,ie=c;do try{for(p=t;ie!==null;){var N=ie.flags;if(N&16&&os(ie.stateNode,""),N&128){var B=ie.alternate;if(B!==null){var z=B.ref;z!==null&&(typeof z=="function"?z(null):z.current=null)}}switch(N&1038){case 2:$1(ie),ie.flags&=-3;break;case 6:$1(ie),ie.flags&=-3,bl(ie.alternate,ie);break;case 1024:ie.flags&=-1025;break;case 1028:ie.flags&=-1025,bl(ie.alternate,ie);break;case 4:bl(ie.alternate,ie);break;case 8:E=ie,X0(p,E);var $=E.alternate;q1(E),$!==null&&q1($)}ie=ie.nextEffect}}catch(re){if(ie===null)throw Error(Z(330));rr(ie,re),ie=ie.nextEffect}while(ie!==null);if(z=Nl,B=g1(),N=z.focusedElem,p=z.selectionRange,B!==N&&N&&N.ownerDocument&&f0(N.ownerDocument.documentElement,N)){for(p!==null&&Jl(N)&&(B=p.start,z=p.end,z===void 0&&(z=B),"selectionStart"in N?(N.selectionStart=B,N.selectionEnd=Math.min(z,N.value.length)):(z=(B=N.ownerDocument||document)&&B.defaultView||window,z.getSelection&&(z=z.getSelection(),E=N.textContent.length,$=Math.min(p.start,E),p=p.end===void 0?$:Math.min(p.end,E),!z.extend&&$>p&&(E=p,p=$,$=E),E=h1(N,$),g=h1(N,p),E&&g&&(z.rangeCount!==1||z.anchorNode!==E.node||z.anchorOffset!==E.offset||z.focusNode!==g.node||z.focusOffset!==g.offset)&&(B=B.createRange(),B.setStart(E.node,E.offset),z.removeAllRanges(),$>p?(z.addRange(B),z.extend(g.node,g.offset)):(B.setEnd(g.node,g.offset),z.addRange(B)))))),B=[],z=N;z=z.parentNode;)z.nodeType===1&&B.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<B.length;N++)z=B[N],z.element.scrollLeft=z.left,z.element.scrollTop=z.top}eo=!!Tl,Nl=Tl=null,t.current=s,ie=c;do try{for(N=t;ie!==null;){var R=ie.flags;if(R&36&&Lh(N,ie.alternate,ie),R&128){B=void 0;var K=ie.ref;if(K!==null){var F=ie.stateNode;switch(ie.tag){case 5:B=F;break;default:B=F}typeof K=="function"?K(B):K.current=B}}ie=ie.nextEffect}}catch(re){if(ie===null)throw Error(Z(330));rr(ie,re),ie=ie.nextEffect}while(ie!==null);ie=null,yh(),ge=d}else t.current=s;if(lr)lr=!1,ns=t,Gi=r;else for(ie=c;ie!==null;)r=ie.nextEffect,ie.nextEffect=null,ie.flags&8&&(R=ie,R.sibling=null,R.stateNode=null),ie=r;if(c=t.pendingLanes,c===0&&(In=null),c===1?t===Ca?rs++:(rs=0,Ca=t):rs=0,s=s.stateNode,Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot($a,s,void 0,(s.current.flags&64)===64)}catch{}if(en(t,At()),Do)throw Do=!1,t=wa,wa=null,t;return(ge&8)!==0||Nn(),null}function jh(){for(;ie!==null;){var t=ie.alternate;lo||is===null||((ie.flags&8)!==0?$u(ie,is)&&(lo=!0):ie.tag===13&&Bh(t,ie)&&$u(ie,is)&&(lo=!0));var r=ie.flags;(r&256)!==0&&bh(t,ie),(r&512)===0||lr||(lr=!0,gs(97,function(){return cr(),null})),ie=ie.nextEffect}}function cr(){if(Gi!==90){var t=97<Gi?97:Gi;return Gi=90,Tr(t,Hh)}return!1}function Vh(t,r){Ea.push(r,t),lr||(lr=!0,gs(97,function(){return cr(),null}))}function tf(t,r){Aa.push(r,t),lr||(lr=!0,gs(97,function(){return cr(),null}))}function Hh(){if(ns===null)return!1;var t=ns;if(ns=null,(ge&48)!==0)throw Error(Z(331));var r=ge;ge|=32;var s=Aa;Aa=[];for(var c=0;c<s.length;c+=2){var d=s[c],g=s[c+1],p=d.destroy;if(d.destroy=void 0,typeof p=="function")try{p()}catch(C){if(g===null)throw Error(Z(330));rr(g,C)}}for(s=Ea,Ea=[],c=0;c<s.length;c+=2){d=s[c],g=s[c+1];try{var E=d.create;d.destroy=E()}catch(C){if(g===null)throw Error(Z(330));rr(g,C)}}for(E=t.current.firstEffect;E!==null;)t=E.nextEffect,E.nextEffect=null,E.flags&8&&(E.sibling=null,E.stateNode=null),E=t;return ge=r,Nn(),!0}function tc(t,r,s){r=fu(s,r),r=G0(t,r,1),er(t,r),r=Ut(),t=Go(t,1),t!==null&&(Po(t,1,r),en(t,r))}function rr(t,r){if(t.tag===3)tc(t,t,r);else for(var s=t.return;s!==null;){if(s.tag===3){tc(s,t,r);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(In===null||!In.has(c))){t=fu(r,t);var d=Y0(s,t,1);if(er(s,d),d=Ut(),s=Go(s,1),s!==null)Po(s,1,d),en(s,d);else if(typeof c.componentDidCatch=="function"&&(In===null||!In.has(c)))try{c.componentDidCatch(r,t)}catch{}break}}s=s.return}}function Wh(t,r,s){var c=t.pingCache;c!==null&&c.delete(r),r=Ut(),t.pingedLanes|=t.suspendedLanes&s,Tt===t&&(Ct&s)===s&&(xt===4||xt===3&&(Ct&62914560)===Ct&&500>At()-gu?si(t,0):hu|=s),en(t,r)}function Gh(t,r){var s=t.stateNode;s!==null&&s.delete(r),r=0,r===0&&(r=t.mode,(r&2)===0?r=1:(r&4)===0?r=ui()===99?1:2:(Dn===0&&(Dn=xi),r=Hr(62914560&~Dn),r===0&&(r=4194304))),s=Ut(),t=Go(t,r),t!==null&&(Po(t,r,s),en(t,s))}var nf;nf=function(t,r,s){var c=r.lanes;if(t!==null)if(t.memoizedProps!==r.pendingProps||Bt.current)dn=!0;else if((s&c)!==0)dn=(t.flags&16384)!==0;else{switch(dn=!1,r.tag){case 3:j1(r),Ol();break;case 5:R1(r);break;case 1:kt(r.type)&&ro(r);break;case 4:oa(r,r.stateNode.containerInfo);break;case 10:c=r.memoizedProps.value;var d=r.type._context;Je(Eo,d._currentValue),d._currentValue=c;break;case 13:if(r.memoizedState!==null)return(s&r.child.childLanes)!==0?V1(t,r,s):(Je(qe,qe.current&1),r=bn(t,r,s),r!==null?r.sibling:null);Je(qe,qe.current&1);break;case 19:if(c=(s&r.childLanes)!==0,(t.flags&64)!==0){if(c)return X1(t,r,s);r.flags|=64}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Je(qe,qe.current),c)break;return null;case 23:case 24:return r.lanes=0,Dl(t,r,s)}return bn(t,r,s)}else dn=!1;switch(r.lanes=0,r.tag){case 2:if(c=r.type,t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2),t=r.pendingProps,d=ai(r,yt.current),ni(r,s),d=lu(null,r,c,t,d,s),r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0){if(r.tag=1,r.memoizedState=null,r.updateQueue=null,kt(c)){var g=!0;ro(r)}else g=!1;r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,ru(r);var p=c.getDerivedStateFromProps;typeof p=="function"&&yo(r,c,p,t),d.updater=Ho,r.stateNode=d,d._reactInternals=r,sa(r,c,t,s),r=ca(null,r,c,!0,g,s)}else r.tag=0,Lt(null,r,d,s),r=r.child;return r;case 16:d=r.elementType;e:{switch(t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2),t=r.pendingProps,g=d._init,d=g(d._payload),r.type=d,g=r.tag=Xh(d),t=cn(d,t),g){case 0:r=ua(null,r,d,t,s);break e;case 1:r=z1(null,r,d,t,s);break e;case 11:r=F1(null,r,d,t,s);break e;case 14:r=U1(null,r,d,cn(d.type,t),c,s);break e}throw Error(Z(306,d,""))}return r;case 0:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:cn(c,d),ua(t,r,c,d,s);case 1:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:cn(c,d),z1(t,r,c,d,s);case 3:if(j1(r),c=r.updateQueue,t===null||c===null)throw Error(Z(282));if(c=r.pendingProps,d=r.memoizedState,d=d!==null?d.element:null,v0(t,r),xs(r,c,null,s),c=r.memoizedState.element,c===d)Ol(),r=bn(t,r,s);else{if(d=r.stateNode,(g=d.hydrate)&&(Qn=ti(r.stateNode.containerInfo.firstChild),Rn=r,g=Tn=!0),g){if(t=d.mutableSourceEagerHydrationData,t!=null)for(d=0;d<t.length;d+=2)g=t[d],g._workInProgressVersionPrimary=t[d+1],ri.push(g);for(s=D0(r,null,c,s),r.child=s;s;)s.flags=s.flags&-3|1024,s=s.sibling}else Lt(t,r,c,s),Ol();r=r.child}return r;case 5:return R1(r),t===null&&la(r),c=r.type,d=r.pendingProps,g=t!==null?t.memoizedProps:null,p=d.children,ta(c,d)?p=null:g!==null&&ta(c,g)&&(r.flags|=16),j0(t,r),Lt(t,r,p,s),r.child;case 6:return t===null&&la(r),null;case 13:return V1(t,r,s);case 4:return oa(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=Io(r,null,c,s):Lt(t,r,c,s),r.child;case 11:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:cn(c,d),F1(t,r,c,d,s);case 7:return Lt(t,r,r.pendingProps,s),r.child;case 8:return Lt(t,r,r.pendingProps.children,s),r.child;case 12:return Lt(t,r,r.pendingProps.children,s),r.child;case 10:e:{c=r.type._context,d=r.pendingProps,p=r.memoizedProps,g=d.value;var E=r.type._context;if(Je(Eo,E._currentValue),E._currentValue=g,p!==null)if(E=p.value,g=Kt(E,g)?0:(typeof c._calculateChangedBits=="function"?c._calculateChangedBits(E,g):1073741823)|0,g===0){if(p.children===d.children&&!Bt.current){r=bn(t,r,s);break e}}else for(E=r.child,E!==null&&(E.return=r);E!==null;){var C=E.dependencies;if(C!==null){p=E.child;for(var S=C.firstContext;S!==null;){if(S.context===c&&(S.observedBits&g)!==0){E.tag===1&&(S=$n(-1,s&-s),S.tag=2,er(E,S)),E.lanes|=s,S=E.alternate,S!==null&&(S.lanes|=s),N0(E.return,s),C.lanes|=s;break}S=S.next}}else p=E.tag===10&&E.type===r.type?null:E.child;if(p!==null)p.return=E;else for(p=E;p!==null;){if(p===r){p=null;break}if(E=p.sibling,E!==null){E.return=p.return,p=E;break}p=p.return}E=p}Lt(t,r,d.children,s),r=r.child}return r;case 9:return d=r.type,g=r.pendingProps,c=g.children,ni(r,s),d=$t(d,g.unstable_observedBits),c=c(d),r.flags|=1,Lt(t,r,c,s),r.child;case 14:return d=r.type,g=cn(d,r.pendingProps),g=cn(d.type,g),U1(t,r,d,g,c,s);case 15:return z0(t,r,r.type,r.pendingProps,c,s);case 17:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:cn(c,d),t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2),r.tag=1,kt(c)?(t=!0,ro(r)):t=!1,ni(r,s),_0(r,c,d),sa(r,c,d,s),ca(null,r,c,!0,t,s);case 19:return X1(t,r,s);case 23:return Dl(t,r,s);case 24:return Dl(t,r,s)}throw Error(Z(156,r.tag))};function Yh(t,r,s,c){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(t,r,s,c){return new Yh(t,r,s,c)}function pu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xh(t){if(typeof t=="function")return pu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lo)return 11;if(t===Bo)return 14}return 2}function ar(t,r){var s=t.alternate;return s===null?(s=qt(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null),s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function ao(t,r,s,c,d,g){var p=2;if(c=t,typeof t=="function")pu(t)&&(p=1);else if(typeof t=="string")p=5;else e:switch(t){case Yn:return oi(s.children,d,g,r);case Rc:p=8,d|=16;break;case Ra:p=8,d|=1;break;case Xi:return t=qt(12,s,r,d|8),t.elementType=Xi,t.type=Xi,t.lanes=g,t;case Zi:return t=qt(13,s,r,d),t.type=Zi,t.elementType=Zi,t.lanes=g,t;case uo:return t=qt(19,s,r,d),t.elementType=uo,t.lanes=g,t;case Fa:return mu(s,d,g,r);case Pl:return t=qt(24,s,r,d),t.elementType=Pl,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ba:p=10;break e;case La:p=9;break e;case Lo:p=11;break e;case Bo:p=14;break e;case Ba:p=16,c=null;break e;case ka:p=22;break e}throw Error(Z(130,t==null?t:typeof t,""))}return r=qt(p,s,r,d),r.elementType=t,r.type=c,r.lanes=g,r}function oi(t,r,s,c){return t=qt(7,t,c,r),t.lanes=s,t}function mu(t,r,s,c){return t=qt(23,t,c,r),t.elementType=Fa,t.lanes=s,t}function Ll(t,r,s){return t=qt(6,t,null,r),t.lanes=s,t}function Bl(t,r,s){return r=qt(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Zh(t,r,s){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=s,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.mutableSourceEagerHydrationData=null}function Qh(t,r,s){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wr,key:c==null?null:""+c,children:t,containerInfo:r,implementation:s}}function Ro(t,r,s,c){var d=r.current,g=Ut(),p=tr(d);e:if(s){s=s._reactInternals;t:{if(_r(s)!==s||s.tag!==1)throw Error(Z(170));var E=s;do{switch(E.tag){case 3:E=E.stateNode.context;break t;case 1:if(kt(E.type)){E=E.stateNode.__reactInternalMemoizedMergedChildContext;break t}}E=E.return}while(E!==null);throw Error(Z(171))}if(s.tag===1){var C=s.type;if(kt(C)){s=E0(s,C,E);break e}}s=E}else s=or;return r.context===null?r.context=s:r.pendingContext=s,r=$n(g,p),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),er(d,r),nr(d,p,g),p}function kl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nc(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function wu(t,r){nc(t,r),(t=t.alternate)&&nc(t,r)}function Kh(){return null}function Eu(t,r,s){var c=s!=null&&s.hydrationOptions!=null&&s.hydrationOptions.mutableSources||null;if(s=new Zh(t,r,s!=null&&s.hydrate===!0),r=qt(3,null,null,r===2?7:r===1?3:0),s.current=r,r.stateNode=s,ru(r),t[gi]=s.current,g0(t.nodeType===8?t.parentNode:t),c)for(t=0;t<c.length;t++){r=c[t];var d=r._getVersion;d=d(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,d]:s.mutableSourceEagerHydrationData.push(r,d)}this._internalRoot=s}Eu.prototype.render=function(t){Ro(t,this._internalRoot,null,null)};Eu.prototype.unmount=function(){var t=this._internalRoot,r=t.containerInfo;Ro(null,t,null,function(){r[gi]=null})};function Ss(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qh(t,r){if(r||(r=t?t.nodeType===9?t.documentElement:t.firstChild:null,r=!(!r||r.nodeType!==1||!r.hasAttribute("data-reactroot"))),!r)for(var s;s=t.lastChild;)t.removeChild(s);return new Eu(t,0,r?{hydrate:!0}:void 0)}function Yo(t,r,s,c,d){var g=s._reactRootContainer;if(g){var p=g._internalRoot;if(typeof d=="function"){var E=d;d=function(){var S=kl(p);E.call(S)}}Ro(r,p,t,d)}else{if(g=s._reactRootContainer=qh(s,c),p=g._internalRoot,typeof d=="function"){var C=d;d=function(){var S=kl(p);C.call(S)}}K0(function(){Ro(r,p,t,d)})}return kl(p)}Xc=function(t){if(t.tag===13){var r=Ut();nr(t,4,r),wu(t,4)}};Ha=function(t){if(t.tag===13){var r=Ut();nr(t,67108864,r),wu(t,67108864)}};Zc=function(t){if(t.tag===13){var r=Ut(),s=tr(t);nr(t,s,r),wu(t,s)}};Qc=function(t,r){return r()};Xl=function(t,r,s){switch(r){case"input":if(Ul(t,s),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var c=s[r];if(c!==t&&c.form===t.form){var d=jo(c);if(!d)throw Error(Z(90));Lc(c),Ul(c,d)}}}break;case"textarea":kc(t,s);break;case"select":r=s.value,r!=null&&Jr(t,!!s.multiple,r,!1)}};za=Q0;Hc=function(t,r,s,c,d){var g=ge;ge|=4;try{return Tr(98,t.bind(null,r,s,c,d))}finally{ge=g,ge===0&&(mi(),Nn())}};ja=function(){(ge&49)===0&&(Ph(),cr())};Wc=function(t,r){var s=ge;ge|=2;try{return t(r)}finally{ge=s,ge===0&&(mi(),Nn())}};function rf(t,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ss(r))throw Error(Z(200));return Qh(t,r,null,s)}var Jh={Events:[Cs,Xr,jo,jc,Vc,cr,{current:!1}]},zi={findFiberByHostInstance:Ar,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},$h={bundleType:zi.bundleType,version:zi.version,rendererPackageName:zi.rendererPackageName,rendererConfig:zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Yc(t),t===null?null:t.stateNode},findFiberByHostInstance:zi.findFiberByHostInstance||Kh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qs.isDisabled&&qs.supportsFiber)try{$a=qs.inject($h),Ir=qs}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jh;tn.createPortal=rf;tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(Z(188)):Error(Z(268,Object.keys(t)));return t=Yc(r),t=t===null?null:t.stateNode,t};tn.flushSync=function(t,r){var s=ge;if((s&48)!==0)return t(r);ge|=1;try{if(t)return Tr(99,t.bind(null,r))}finally{ge=s,Nn()}};tn.hydrate=function(t,r,s){if(!Ss(r))throw Error(Z(200));return Yo(null,t,r,!0,s)};tn.render=function(t,r,s){if(!Ss(r))throw Error(Z(200));return Yo(null,t,r,!1,s)};tn.unmountComponentAtNode=function(t){if(!Ss(t))throw Error(Z(40));return t._reactRootContainer?(K0(function(){Yo(null,null,t,!1,function(){t._reactRootContainer=null,t[gi]=null})}),!0):!1};tn.unstable_batchedUpdates=Q0;tn.unstable_createPortal=function(t,r){return rf(t,r,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};tn.unstable_renderSubtreeIntoContainer=function(t,r,s,c){if(!Ss(s))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Yo(t,r,s,!1,c)};tn.version="17.0.2";function sf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sf)}catch(t){console.error(t)}}sf(),Mc.exports=tn;var e2=Mc.exports;const of=async t=>new Promise(async(r,s)=>{const c={method:"POST",mode:"cors",headers:{"x-api-key":"VdjIxwlkqL6W08i8moxbB6GmHsWrAfag9EK39mdh"},body:JSON.stringify({code:t})};try{const d=await fetch("https://6a14zxbte9.execute-api.us-east-1.amazonaws.com/default/qr-validator-api",c);console.log("hola",d),!d.ok&&d.status!==401&&s(new Error("Error validating code"));const g=await d.json();console.log(g),r(g)}catch(d){s(d)}});var ne;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ne||(ne={}));var rc=new Map([[ne.QR_CODE,"QR_CODE"],[ne.AZTEC,"AZTEC"],[ne.CODABAR,"CODABAR"],[ne.CODE_39,"CODE_39"],[ne.CODE_93,"CODE_93"],[ne.CODE_128,"CODE_128"],[ne.DATA_MATRIX,"DATA_MATRIX"],[ne.MAXICODE,"MAXICODE"],[ne.ITF,"ITF"],[ne.EAN_13,"EAN_13"],[ne.EAN_8,"EAN_8"],[ne.PDF_417,"PDF_417"],[ne.RSS_14,"RSS_14"],[ne.RSS_EXPANDED,"RSS_EXPANDED"],[ne.UPC_A,"UPC_A"],[ne.UPC_E,"UPC_E"],[ne.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),ic;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(ic||(ic={}));function t2(t){return Object.values(ne).includes(t)}var kn;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(kn||(kn={}));var An=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[kn.SCAN_TYPE_CAMERA,kn.SCAN_TYPE_FILE],t}(),lf=function(){function t(r,s){this.format=r,this.formatName=s}return t.prototype.toString=function(){return this.formatName},t.create=function(r){if(!rc.has(r))throw r+" not in html5QrcodeSupportedFormatsTextMap";return new t(r,rc.get(r))},t}(),sc=function(){function t(){}return t.createFromText=function(r){var s={text:r};return{decodedText:r,result:s}},t.createFromQrcodeResult=function(r){return{decodedText:r.text,result:r}},t}(),Ia;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Ia||(Ia={}));var af=function(){function t(){}return t.createFrom=function(r){return{errorMessage:r,type:Ia.UNKWOWN_ERROR}},t}(),uf=function(){function t(r){this.verbose=r}return t.prototype.log=function(r){this.verbose&&console.log(r)},t.prototype.warn=function(r){this.verbose&&console.warn(r)},t.prototype.logError=function(r,s){(this.verbose||s===!0)&&console.error(r)},t.prototype.logErrors=function(r){if(r.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(r)},t}();function Kr(t){return typeof t=="undefined"||t===null}var ji=function(){function t(){}return t.codeParseError=function(r){return"QR code parse error, error = "+r},t.errorGettingUserMedia=function(r){return"Error getting userMedia, error = "+r},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t}(),un=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(r){return"Last Match: "+r},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t}(),oc=function(){function t(){}return t.builtUsing=function(){return"Built using "},t.reportIssues=function(){return"Report issues"},t}(),cf=function(){function t(){}return t.isMediaStreamConstraintsValid=function(r,s){if(typeof r!="object"){var c=typeof r;return s.logError("videoConstraints should be of type object, the "+("object passed is of type "+c+"."),!0),!1}for(var d=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],g=new Set(d),p=Object.keys(r),E=0,C=p;E<C.length;E++){var S=C[E];if(g.has(S))return s.logError(S+" is not supported videoConstaints.",!0),!1}return!0},t}(),Fe={exports:{}};(function(t,r){(function(s,c){c(r)})(Mi,function(s){/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var n in e)e.hasOwnProperty(n)&&(m[n]=e[n])};function d(m,e){c(m,e);function n(){this.constructor=m}m.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function g(m,e){var n=Object.setPrototypeOf;n?n(m,e):m.__proto__=e}function p(m,e){e===void 0&&(e=m.constructor);var n=Error.captureStackTrace;n&&n(m,e)}var E=function(m){d(e,m);function e(n){var i=this.constructor,o=m.call(this,n)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1}),g(o,i.prototype),p(o),o}return e}(Error);class C extends E{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}C.kind="Exception";class S extends C{}S.kind="ArgumentException";class O extends C{}O.kind="IllegalArgumentException";class G{constructor(e){if(this.binarizer=e,e===null)throw new O("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,i,o){const l=this.binarizer.getLuminanceSource().crop(e,n,i,o);return new G(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new G(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new G(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class L extends C{static getChecksumInstance(){return new L}}L.kind="ChecksumException";class Q{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class j{static arraycopy(e,n,i,o,l){for(;l--;)i[o++]=e[n++]}static currentTimeMillis(){return Date.now()}}class J extends C{}J.kind="IndexOutOfBoundsException";class _ extends J{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}_.kind="ArrayIndexOutOfBoundsException";class T{static fill(e,n){for(let i=0,o=e.length;i<o;i++)e[i]=n}static fillWithin(e,n,i,o){T.rangeCheck(e.length,n,i);for(let l=n;l<i;l++)e[l]=o}static rangeCheck(e,n,i){if(n>i)throw new O("fromIndex("+n+") > toIndex("+i+")");if(n<0)throw new _(n);if(i>e)throw new _(i)}static asList(...e){return e}static create(e,n,i){return Array.from({length:e}).map(l=>Array.from({length:n}).fill(i))}static createInt32Array(e,n,i){return Array.from({length:e}).map(l=>Int32Array.from({length:n}).fill(i))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let i=0,o=e.length;i<o;i++)if(e[i]!==n[i])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const i of e)n=31*n+i;return n}static fillUint8Array(e,n){for(let i=0;i!==e.length;i++)e[i]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const i=new Uint8Array(n);return i.set(e),i}return e.slice(0,n)}static copyOfRange(e,n,i){const o=i-n,l=new Int32Array(o);return j.arraycopy(e,n,l,0,o),l}static binarySearch(e,n,i){i===void 0&&(i=T.numberComparator);let o=0,l=e.length-1;for(;o<=l;){const a=l+o>>1,u=i(n,e[a]);if(u>0)o=a+1;else if(u<0)l=a-1;else return a}return-o-1}static numberComparator(e,n){return e-n}}class N{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let i=31;return n=e<<16,n!==0&&(i-=16,e=n),n=e<<8,n!==0&&(i-=8,e=n),n=e<<4,n!==0&&(i-=4,e=n),n=e<<2,n!==0&&(i-=2,e=n),i-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16===0&&(n+=16,e<<=16),e>>>24===0&&(n+=8,e<<=8),e>>>28===0&&(n+=4,e<<=4),e>>>30===0&&(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}N.MIN_VALUE_32_BITS=-2147483648,N.MAX_VALUE=Number.MAX_SAFE_INTEGER;class B{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=B.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=B.makeArray(e);j.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const i=this.bits;let o=Math.floor(e/32),l=i[o];l&=~((1<<(e&31))-1);const a=i.length;for(;l===0;){if(++o===a)return n;l=i[o]}const u=o*32+N.numberOfTrailingZeros(l);return u>n?n:u}getNextUnset(e){const n=this.size;if(e>=n)return n;const i=this.bits;let o=Math.floor(e/32),l=~i[o];l&=~((1<<(e&31))-1);const a=i.length;for(;l===0;){if(++o===a)return n;l=~i[o]}const u=o*32+N.numberOfTrailingZeros(l);return u>n?n:u}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new O;if(n===e)return;n--;const i=Math.floor(e/32),o=Math.floor(n/32),l=this.bits;for(let a=i;a<=o;a++){const u=a>i?0:e&31,f=a<o?31:n&31,h=(2<<f)-(1<<u);l[a]|=h}}clear(){const e=this.bits.length,n=this.bits;for(let i=0;i<e;i++)n[i]=0}isRange(e,n,i){if(n<e||e<0||n>this.size)throw new O;if(n===e)return!0;n--;const o=Math.floor(e/32),l=Math.floor(n/32),a=this.bits;for(let u=o;u<=l;u++){const f=u>o?0:e&31,h=u<l?31:n&31,x=(2<<h)-(1<<f)&4294967295;if((a[u]&x)!==(i?x:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new O("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let i=n;i>0;i--)this.appendBit((e>>i-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let i=0;i<n;i++)this.appendBit(e.get(i))}xor(e){if(this.size!==e.size)throw new O("Sizes don't match");const n=this.bits;for(let i=0,o=n.length;i<o;i++)n[i]^=e.bits[i]}toBytes(e,n,i,o){for(let l=0;l<o;l++){let a=0;for(let u=0;u<8;u++)this.get(e)&&(a|=1<<7-u),e++;n[i+l]=a}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),i=n+1,o=this.bits;for(let l=0;l<i;l++){let a=o[l];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[n-l]=a}if(this.size!==i*32){const l=i*32-this.size;let a=e[0]>>>l;for(let u=1;u<i;u++){const f=e[u];a|=f<<32-l,e[u-1]=a,a=f>>>l}e[i-1]=a}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof B))return!1;const n=e;return this.size===n.size&&T.equals(this.bits,n.bits)}hashCode(){return 31*this.size+T.hashCode(this.bits)}toString(){let e="";for(let n=0,i=this.size;n<i;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new B(this.size,this.bits.slice())}}var z;(function(m){m[m.OTHER=0]="OTHER",m[m.PURE_BARCODE=1]="PURE_BARCODE",m[m.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",m[m.TRY_HARDER=3]="TRY_HARDER",m[m.CHARACTER_SET=4]="CHARACTER_SET",m[m.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",m[m.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",m[m.ASSUME_GS1=7]="ASSUME_GS1",m[m.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",m[m.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",m[m.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(z||(z={}));var $=z;class R extends C{static getFormatInstance(){return new R}}R.kind="FormatException";var K;(function(m){m[m.Cp437=0]="Cp437",m[m.ISO8859_1=1]="ISO8859_1",m[m.ISO8859_2=2]="ISO8859_2",m[m.ISO8859_3=3]="ISO8859_3",m[m.ISO8859_4=4]="ISO8859_4",m[m.ISO8859_5=5]="ISO8859_5",m[m.ISO8859_6=6]="ISO8859_6",m[m.ISO8859_7=7]="ISO8859_7",m[m.ISO8859_8=8]="ISO8859_8",m[m.ISO8859_9=9]="ISO8859_9",m[m.ISO8859_10=10]="ISO8859_10",m[m.ISO8859_11=11]="ISO8859_11",m[m.ISO8859_13=12]="ISO8859_13",m[m.ISO8859_14=13]="ISO8859_14",m[m.ISO8859_15=14]="ISO8859_15",m[m.ISO8859_16=15]="ISO8859_16",m[m.SJIS=16]="SJIS",m[m.Cp1250=17]="Cp1250",m[m.Cp1251=18]="Cp1251",m[m.Cp1252=19]="Cp1252",m[m.Cp1256=20]="Cp1256",m[m.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",m[m.UTF8=22]="UTF8",m[m.ASCII=23]="ASCII",m[m.Big5=24]="Big5",m[m.GB18030=25]="GB18030",m[m.EUC_KR=26]="EUC_KR"})(K||(K={}));class F{constructor(e,n,i,...o){this.valueIdentifier=e,this.name=i,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=o,F.VALUE_IDENTIFIER_TO_ECI.set(e,this),F.NAME_TO_ECI.set(i,this);const l=this.values;for(let a=0,u=l.length;a!==u;a++){const f=l[a];F.VALUES_TO_ECI.set(f,this)}for(const a of o)F.NAME_TO_ECI.set(a,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new R("incorect value");const n=F.VALUES_TO_ECI.get(e);if(n===void 0)throw new R("incorect value");return n}static getCharacterSetECIByName(e){const n=F.NAME_TO_ECI.get(e);if(n===void 0)throw new R("incorect value");return n}equals(e){if(!(e instanceof F))return!1;const n=e;return this.getName()===n.getName()}}F.VALUE_IDENTIFIER_TO_ECI=new Map,F.VALUES_TO_ECI=new Map,F.NAME_TO_ECI=new Map,F.Cp437=new F(K.Cp437,Int32Array.from([0,2]),"Cp437"),F.ISO8859_1=new F(K.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),F.ISO8859_2=new F(K.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),F.ISO8859_3=new F(K.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),F.ISO8859_4=new F(K.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),F.ISO8859_5=new F(K.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),F.ISO8859_6=new F(K.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),F.ISO8859_7=new F(K.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),F.ISO8859_8=new F(K.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),F.ISO8859_9=new F(K.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),F.ISO8859_10=new F(K.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),F.ISO8859_11=new F(K.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),F.ISO8859_13=new F(K.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),F.ISO8859_14=new F(K.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),F.ISO8859_15=new F(K.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),F.ISO8859_16=new F(K.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),F.SJIS=new F(K.SJIS,20,"SJIS","Shift_JIS"),F.Cp1250=new F(K.Cp1250,21,"Cp1250","windows-1250"),F.Cp1251=new F(K.Cp1251,22,"Cp1251","windows-1251"),F.Cp1252=new F(K.Cp1252,23,"Cp1252","windows-1252"),F.Cp1256=new F(K.Cp1256,24,"Cp1256","windows-1256"),F.UnicodeBigUnmarked=new F(K.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),F.UTF8=new F(K.UTF8,26,"UTF8","UTF-8"),F.ASCII=new F(K.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),F.Big5=new F(K.Big5,28,"Big5"),F.GB18030=new F(K.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),F.EUC_KR=new F(K.EUC_KR,30,"EUC_KR","EUC-KR");class re extends C{}re.kind="UnsupportedOperationException";class Ae{static decode(e,n){const i=this.encodingName(n);return this.customDecoder?this.customDecoder(e,i):typeof TextDecoder=="undefined"||this.shouldDecodeOnFallback(i)?this.decodeFallback(e,i):new TextDecoder(i).decode(e)}static shouldDecodeOnFallback(e){return!Ae.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const i=this.encodingName(n);return this.customEncoder?this.customEncoder(e,i):typeof TextEncoder=="undefined"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window!="undefined"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof F?e:F.getCharacterSetECIByName(e)}static decodeFallback(e,n){const i=this.encodingCharacterSet(n);if(Ae.isDecodeFallbackSupported(i)){let o="";for(let l=0,a=e.length;l<a;l++){let u=e[l].toString(16);u.length<2&&(u="0"+u),o+="%"+u}return decodeURIComponent(o)}if(i.equals(F.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new re(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(F.UTF8)||e.equals(F.ISO8859_1)||e.equals(F.ASCII)}static encodeFallback(e){const i=btoa(unescape(encodeURIComponent(e))).split(""),o=[];for(let l=0;l<i.length;l++)o.push(i[l].charCodeAt(0));return new Uint8Array(o)}}class fe{static castAsNonUtf8Char(e,n=null){const i=n?n.getName():this.ISO88591;return Ae.decode(new Uint8Array([e]),i)}static guessEncoding(e,n){if(n!=null&&n.get($.CHARACTER_SET)!==void 0)return n.get($.CHARACTER_SET).toString();const i=e.length;let o=!0,l=!0,a=!0,u=0,f=0,h=0,x=0,w=0,A=0,I=0,v=0,M=0,D=0,P=0;const W=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let Y=0;Y<i&&(o||l||a);Y++){const H=e[Y]&255;a&&(u>0?(H&128)===0?a=!1:u--:(H&128)!==0&&((H&64)===0?a=!1:(u++,(H&32)===0?f++:(u++,(H&16)===0?h++:(u++,(H&8)===0?x++:a=!1))))),o&&(H>127&&H<160?o=!1:H>159&&(H<192||H===215||H===247)&&P++),l&&(w>0?H<64||H===127||H>252?l=!1:w--:H===128||H===160||H>239?l=!1:H>160&&H<224?(A++,v=0,I++,I>M&&(M=I)):H>127?(w++,I=0,v++,v>D&&(D=v)):(I=0,v=0))}return a&&u>0&&(a=!1),l&&w>0&&(l=!1),a&&(W||f+h+x>0)?fe.UTF8:l&&(fe.ASSUME_SHIFT_JIS||M>=3||D>=3)?fe.SHIFT_JIS:o&&l?M===2&&A===2||P*10>=i?fe.SHIFT_JIS:fe.ISO88591:o?fe.ISO88591:l?fe.SHIFT_JIS:a?fe.UTF8:fe.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let i=-1;function o(a,u,f,h,x,w){if(a==="%%")return"%";if(n[++i]===void 0)return;a=h?parseInt(h.substr(1)):void 0;let A=x?parseInt(x.substr(1)):void 0,I;switch(w){case"s":I=n[i];break;case"c":I=n[i][0];break;case"f":I=parseFloat(n[i]).toFixed(a);break;case"p":I=parseFloat(n[i]).toPrecision(a);break;case"e":I=parseFloat(n[i]).toExponential(a);break;case"x":I=parseInt(n[i]).toString(A||16);break;case"d":I=parseFloat(parseInt(n[i],A||10).toPrecision(a)).toFixed(0);break}I=typeof I=="object"?JSON.stringify(I):(+I).toString(A);let v=parseInt(f),M=f&&f[0]+""=="0"?"0":" ";for(;I.length<v;)I=u!==void 0?I+M:M+I;return I}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(l,o)}static getBytes(e,n){return Ae.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}fe.SHIFT_JIS=F.SJIS.getName(),fe.GB2312="GB2312",fe.ISO88591=F.ISO8859_1.getName(),fe.EUC_JP="EUC_JP",fe.UTF8=F.UTF8.getName(),fe.PLATFORM_DEFAULT_ENCODING=fe.UTF8,fe.ASSUME_SHIFT_JIS=!1;class xe{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=fe.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,i){for(let o=n;n<n+i;o++)this.append(e[o]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class Ce{constructor(e,n,i,o){if(this.width=e,this.height=n,this.rowSize=i,this.bits=o,n==null&&(n=e),this.height=n,e<1||n<1)throw new O("Both dimensions must be greater than 0");i==null&&(i=Math.floor((e+31)/32)),this.rowSize=i,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,i=e[0].length,o=new Ce(i,n);for(let l=0;l<n;l++){const a=e[l];for(let u=0;u<i;u++)a[u]&&o.set(u,l)}return o}static parseFromString(e,n,i){if(e===null)throw new O("stringRepresentation cannot be null");const o=new Array(e.length);let l=0,a=0,u=-1,f=0,h=0;for(;h<e.length;)if(e.charAt(h)===`
`||e.charAt(h)==="\r"){if(l>a){if(u===-1)u=l-a;else if(l-a!==u)throw new O("row lengths do not match");a=l,f++}h++}else if(e.substring(h,h+n.length)===n)h+=n.length,o[l]=!0,l++;else if(e.substring(h,h+i.length)===i)h+=i.length,o[l]=!1,l++;else throw new O("illegal character encountered: "+e.substring(h));if(l>a){if(u===-1)u=l-a;else if(l-a!==u)throw new O("row lengths do not match");f++}const x=new Ce(u,f);for(let w=0;w<l;w++)o[w]&&x.set(Math.floor(w%u),Math.floor(w/u));return x}get(e,n){const i=n*this.rowSize+Math.floor(e/32);return(this.bits[i]>>>(e&31)&1)!==0}set(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]|=1<<(e&31)&4294967295}unset(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]&=~(1<<(e&31)&4294967295)}flip(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new O("input matrix dimensions do not match");const n=new B(Math.floor(this.width/32)+1),i=this.rowSize,o=this.bits;for(let l=0,a=this.height;l<a;l++){const u=l*i,f=e.getRow(l,n).getBitArray();for(let h=0;h<i;h++)o[u+h]^=f[h]}}clear(){const e=this.bits,n=e.length;for(let i=0;i<n;i++)e[i]=0}setRegion(e,n,i,o){if(n<0||e<0)throw new O("Left and top must be nonnegative");if(o<1||i<1)throw new O("Height and width must be at least 1");const l=e+i,a=n+o;if(a>this.height||l>this.width)throw new O("The region must fit inside the matrix");const u=this.rowSize,f=this.bits;for(let h=n;h<a;h++){const x=h*u;for(let w=e;w<l;w++)f[x+Math.floor(w/32)]|=1<<(w&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new B(this.width):n.clear();const i=this.rowSize,o=this.bits,l=e*i;for(let a=0;a<i;a++)n.setBulk(a*32,o[l+a]);return n}setRow(e,n){j.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let i=new B(e),o=new B(e);for(let l=0,a=Math.floor((n+1)/2);l<a;l++)i=this.getRow(l,i),o=this.getRow(n-1-l,o),i.reverse(),o.reverse(),this.setRow(l,o),this.setRow(n-1-l,i)}getEnclosingRectangle(){const e=this.width,n=this.height,i=this.rowSize,o=this.bits;let l=e,a=n,u=-1,f=-1;for(let h=0;h<n;h++)for(let x=0;x<i;x++){const w=o[h*i+x];if(w!==0){if(h<a&&(a=h),h>f&&(f=h),x*32<l){let A=0;for(;(w<<31-A&4294967295)===0;)A++;x*32+A<l&&(l=x*32+A)}if(x*32+31>u){let A=31;for(;w>>>A===0;)A--;x*32+A>u&&(u=x*32+A)}}}return u<l||f<a?null:Int32Array.from([l,a,u-l+1,f-a+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let i=0;for(;i<n.length&&n[i]===0;)i++;if(i===n.length)return null;const o=i/e;let l=i%e*32;const a=n[i];let u=0;for(;(a<<31-u&4294967295)===0;)u++;return l+=u,Int32Array.from([l,o])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let i=n.length-1;for(;i>=0&&n[i]===0;)i--;if(i<0)return null;const o=Math.floor(i/e);let l=Math.floor(i%e)*32;const a=n[i];let u=31;for(;a>>>u===0;)u--;return l+=u,Int32Array.from([l,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Ce))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&T.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+T.hashCode(this.bits),e}toString(e="X ",n="  ",i=`
`){return this.buildToString(e,n,i)}buildToString(e,n,i){let o=new xe;for(let l=0,a=this.height;l<a;l++){for(let u=0,f=this.width;u<f;u++)o.append(this.get(u,l)?e:n);o.append(i)}return o.toString()}clone(){return new Ce(this.width,this.height,this.rowSize,this.bits.slice())}}class U extends C{static getNotFoundInstance(){return new U}}U.kind="NotFoundException";class Le extends Q{constructor(e){super(e),this.luminances=Le.EMPTY,this.buckets=new Int32Array(Le.LUMINANCE_BUCKETS)}getBlackRow(e,n){const i=this.getLuminanceSource(),o=i.getWidth();n==null||n.getSize()<o?n=new B(o):n.clear(),this.initArrays(o);const l=i.getRow(e,this.luminances),a=this.buckets;for(let f=0;f<o;f++)a[(l[f]&255)>>Le.LUMINANCE_SHIFT]++;const u=Le.estimateBlackPoint(a);if(o<3)for(let f=0;f<o;f++)(l[f]&255)<u&&n.set(f);else{let f=l[0]&255,h=l[1]&255;for(let x=1;x<o-1;x++){const w=l[x+1]&255;(h*4-f-w)/2<u&&n.set(x),f=h,h=w}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),i=e.getHeight(),o=new Ce(n,i);this.initArrays(n);const l=this.buckets;for(let f=1;f<5;f++){const h=Math.floor(i*f/5),x=e.getRow(h,this.luminances),w=Math.floor(n*4/5);for(let A=Math.floor(n/5);A<w;A++){const I=x[A]&255;l[I>>Le.LUMINANCE_SHIFT]++}}const a=Le.estimateBlackPoint(l),u=e.getMatrix();for(let f=0;f<i;f++){const h=f*n;for(let x=0;x<n;x++)(u[h+x]&255)<a&&o.set(x,f)}return o}createBinarizer(e){return new Le(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let i=0;i<Le.LUMINANCE_BUCKETS;i++)n[i]=0}static estimateBlackPoint(e){const n=e.length;let i=0,o=0,l=0;for(let x=0;x<n;x++)e[x]>l&&(o=x,l=e[x]),e[x]>i&&(i=e[x]);let a=0,u=0;for(let x=0;x<n;x++){const w=x-o,A=e[x]*w*w;A>u&&(a=x,u=A)}if(o>a){const x=o;o=a,a=x}if(a-o<=n/16)throw new U;let f=a-1,h=-1;for(let x=a-1;x>o;x--){const w=x-o,A=w*w*(a-x)*(i-e[x]);A>h&&(f=x,h=A)}return f<<Le.LUMINANCE_SHIFT}}Le.LUMINANCE_BITS=5,Le.LUMINANCE_SHIFT=8-Le.LUMINANCE_BITS,Le.LUMINANCE_BUCKETS=1<<Le.LUMINANCE_BITS,Le.EMPTY=Uint8ClampedArray.from([0]);class he extends Le{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),i=e.getHeight();if(n>=he.MINIMUM_DIMENSION&&i>=he.MINIMUM_DIMENSION){const o=e.getMatrix();let l=n>>he.BLOCK_SIZE_POWER;(n&he.BLOCK_SIZE_MASK)!==0&&l++;let a=i>>he.BLOCK_SIZE_POWER;(i&he.BLOCK_SIZE_MASK)!==0&&a++;const u=he.calculateBlackPoints(o,l,a,n,i),f=new Ce(n,i);he.calculateThresholdForBlock(o,l,a,n,i,u,f),this.matrix=f}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new he(e)}static calculateThresholdForBlock(e,n,i,o,l,a,u){const f=l-he.BLOCK_SIZE,h=o-he.BLOCK_SIZE;for(let x=0;x<i;x++){let w=x<<he.BLOCK_SIZE_POWER;w>f&&(w=f);const A=he.cap(x,2,i-3);for(let I=0;I<n;I++){let v=I<<he.BLOCK_SIZE_POWER;v>h&&(v=h);const M=he.cap(I,2,n-3);let D=0;for(let W=-2;W<=2;W++){const Y=a[A+W];D+=Y[M-2]+Y[M-1]+Y[M]+Y[M+1]+Y[M+2]}const P=D/25;he.thresholdBlock(e,v,w,P,o,u)}}}static cap(e,n,i){return e<n?n:e>i?i:e}static thresholdBlock(e,n,i,o,l,a){for(let u=0,f=i*l+n;u<he.BLOCK_SIZE;u++,f+=l)for(let h=0;h<he.BLOCK_SIZE;h++)(e[f+h]&255)<=o&&a.set(n+h,i+u)}static calculateBlackPoints(e,n,i,o,l){const a=l-he.BLOCK_SIZE,u=o-he.BLOCK_SIZE,f=new Array(i);for(let h=0;h<i;h++){f[h]=new Int32Array(n);let x=h<<he.BLOCK_SIZE_POWER;x>a&&(x=a);for(let w=0;w<n;w++){let A=w<<he.BLOCK_SIZE_POWER;A>u&&(A=u);let I=0,v=255,M=0;for(let P=0,W=x*o+A;P<he.BLOCK_SIZE;P++,W+=o){for(let Y=0;Y<he.BLOCK_SIZE;Y++){const H=e[W+Y]&255;I+=H,H<v&&(v=H),H>M&&(M=H)}if(M-v>he.MIN_DYNAMIC_RANGE)for(P++,W+=o;P<he.BLOCK_SIZE;P++,W+=o)for(let Y=0;Y<he.BLOCK_SIZE;Y++)I+=e[W+Y]&255}let D=I>>he.BLOCK_SIZE_POWER*2;if(M-v<=he.MIN_DYNAMIC_RANGE&&(D=v/2,h>0&&w>0)){const P=(f[h-1][w]+2*f[h][w-1]+f[h-1][w-1])/4;v<P&&(D=P)}f[h][w]=D}}return f}}he.BLOCK_SIZE_POWER=3,he.BLOCK_SIZE=1<<he.BLOCK_SIZE_POWER,he.BLOCK_SIZE_MASK=he.BLOCK_SIZE-1,he.MINIMUM_DIMENSION=he.BLOCK_SIZE*5,he.MIN_DYNAMIC_RANGE=24;class vn{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,i,o){throw new re("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new re("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new re("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new xe;for(let i=0;i<this.height;i++){const o=this.getRow(i,e);for(let l=0;l<this.width;l++){const a=o[l]&255;let u;a<64?u="#":a<128?u="+":a<192?u=".":u=" ",n.append(u)}n.append(`
`)}return n.toString()}}class jt extends vn{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const i=this.delegate.getRow(e,n),o=this.getWidth();for(let l=0;l<o;l++)i[l]=255-(i[l]&255);return i}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n);for(let o=0;o<n;o++)i[o]=255-(e[o]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,i,o){return new jt(this.delegate.crop(e,n,i,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new jt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new jt(this.delegate.rotateCounterClockwise45())}}class Vt extends vn{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=Vt.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return Vt.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,i){const o=new Uint8ClampedArray(n*i);for(let l=0,a=0,u=e.length;l<u;l+=4,a++){let f;if(e[l+3]===0)f=255;else{const x=e[l],w=e[l+1],A=e[l+2];f=306*x+601*w+117*A+512>>10}o[a]=f}return o}getRow(e,n){if(e<0||e>=this.getHeight())throw new O("Requested row is outside the image: "+e);const i=this.getWidth(),o=e*i;return n===null?n=this.buffer.slice(o,o+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(o,o+i))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,i,o){return super.crop(e,n,i,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),i=n.getContext("2d"),o=e*Vt.DEGREE_TO_RADIANS,l=this.canvas.width,a=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*a),f=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*a);return n.width=u,n.height=f,i.translate(u/2,f/2),i.rotate(o),i.drawImage(this.canvas,l/-2,a/-2),this.buffer=Vt.makeBufferFromCanvasImageData(n),this}invert(){return new jt(this)}}Vt.DEGREE_TO_RADIANS=Math.PI/180;class Ns{constructor(e,n,i){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var X=(globalThis||Mi||self||window||void 0)&&(globalThis||Mi||self||window||void 0).__awaiter||function(m,e,n,i){function o(l){return l instanceof n?l:new n(function(a){a(l)})}return new(n||(n=Promise))(function(l,a){function u(x){try{h(i.next(x))}catch(w){a(w)}}function f(x){try{h(i.throw(x))}catch(w){a(w)}}function h(x){x.done?l(x.value):o(x.value).then(u,f)}h((i=i.apply(m,e||[])).next())})};class le{constructor(e,n=500,i){this.reader=e,this.timeBetweenScansMillis=n,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator!="undefined"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return X(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const i of e){const o=i.kind==="video"?"videoinput":i.kind;if(o!=="videoinput")continue;const l=i.deviceId||i.id,a=i.label||`Video device ${n.length+1}`,u=i.groupId,f={deviceId:l,label:a,kind:o,groupId:u};n.push(f)}return n})}getVideoInputDevices(){return X(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new Ns(n.deviceId,n.label))})}findDeviceById(e){return X(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(i=>i.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return X(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return X(this,void 0,void 0,function*(){this.reset();let i;e?i={deviceId:{exact:e}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeOnceFromConstraints(o,n)})}decodeOnceFromConstraints(e,n){return X(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(i,n)})}decodeOnceFromStream(e,n){return X(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(e,n,i){return X(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,i)})}decodeFromVideoDevice(e,n,i){return X(this,void 0,void 0,function*(){let o;e?o={deviceId:{exact:e}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeFromConstraints(l,n,i)})}decodeFromConstraints(e,n,i){return X(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(o,n,i)})}decodeFromStream(e,n,i){return X(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(o,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return X(this,void 0,void 0,function*(){const i=this.prepareVideoElement(n);return this.addVideoSource(i,e),this.videoElement=i,this.stream=e,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(e){return new Promise((n,i)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return X(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const i=document.getElementById(e);if(!i)throw new S(`element with id '${e}' not found`);if(i.nodeName.toLowerCase()!==n.toLowerCase())throw new S(`element with id '${e}' must be an ${n} element`);return i}decodeFromImage(e,n){if(!e&&!n)throw new S("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new S("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,i){if(e===void 0&&n===void 0)throw new S("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,i):this.decodeFromVideoElementContinuously(e,i)}decodeFromImageElement(e){if(!e)throw new S("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let i;return this.isImageLoaded(n)?i=this.decodeOnce(n,!1,!0):i=this._decodeOnLoadImage(n),i}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const i=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(i,n)}_decodeFromVideoElementSetup(e){if(!e)throw new S("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new S("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const i=this._decodeOnLoadImage(n);return n.src=e,i}decodeFromVideoUrl(e){if(!e)throw new S("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),i=this.decodeFromVideoElement(n);return n.src=e,i}decodeFromVideoUrlContinuously(e,n){if(!e)throw new S("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(i,n);return i.src=e,o}_decodeOnLoadImage(e){return new Promise((n,i)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,i),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return X(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return X(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e=="undefined"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document!="undefined"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,i=!0){this._stopAsyncDecode=!1;const o=(l,a)=>{if(this._stopAsyncDecode){a(new U("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(e);l(u)}catch(u){const f=n&&u instanceof U,x=(u instanceof L||u instanceof R)&&i;if(f||x)return setTimeout(o,this._timeBetweenDecodingAttempts,l,a);a(u)}};return new Promise((l,a)=>o(l,a))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(e);n(o,null),setTimeout(i,this.timeBetweenScansMillis)}catch(o){n(null,o);const l=o instanceof L||o instanceof R,a=o instanceof U;(l||a)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}createBinaryBitmap(e){const n=this.getCaptureCanvasContext(e);this.drawImageOnCanvas(n,e);const i=this.getCaptureCanvas(e),o=new Vt(i),l=new he(o);return new G(l)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}drawImageOnCanvas(e,n){e.drawImage(n,0,0)}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document=="undefined")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let i,o;return typeof e!="undefined"&&(e instanceof HTMLVideoElement?(i=e.videoWidth,o=e.videoHeight):e instanceof HTMLImageElement&&(i=e.naturalWidth||e.width,o=e.naturalHeight||e.height)),n.style.width=i+"px",n.style.height=o+"px",n.width=i,n.height=o,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){!this.videoElement||(typeof this.videoEndedListener!="undefined"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener!="undefined"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener!="undefined"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){!this.imageElement||(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class ae{constructor(e,n,i=n==null?0:8*n.length,o,l,a=j.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=i,this.resultPoints=o,this.format=l,this.timestamp=a,this.text=e,this.rawBytes=n,i==null?this.numBits=n==null?0:8*n.length:this.numBits=i,this.resultPoints=o,this.format=l,this.resultMetadata=null,a==null?this.timestamp=j.currentTimeMillis():this.timestamp=a}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const i=new Array(n.length+e.length);j.arraycopy(n,0,i,0,n.length),j.arraycopy(e,0,i,n.length,e.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ze;(function(m){m[m.AZTEC=0]="AZTEC",m[m.CODABAR=1]="CODABAR",m[m.CODE_39=2]="CODE_39",m[m.CODE_93=3]="CODE_93",m[m.CODE_128=4]="CODE_128",m[m.DATA_MATRIX=5]="DATA_MATRIX",m[m.EAN_8=6]="EAN_8",m[m.EAN_13=7]="EAN_13",m[m.ITF=8]="ITF",m[m.MAXICODE=9]="MAXICODE",m[m.PDF_417=10]="PDF_417",m[m.QR_CODE=11]="QR_CODE",m[m.RSS_14=12]="RSS_14",m[m.RSS_EXPANDED=13]="RSS_EXPANDED",m[m.UPC_A=14]="UPC_A",m[m.UPC_E=15]="UPC_E",m[m.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ze||(ze={}));var ee=ze,nn;(function(m){m[m.OTHER=0]="OTHER",m[m.ORIENTATION=1]="ORIENTATION",m[m.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",m[m.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",m[m.ISSUE_NUMBER=4]="ISSUE_NUMBER",m[m.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",m[m.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",m[m.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",m[m.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",m[m.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",m[m.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(nn||(nn={}));var Be=nn;class rn{constructor(e,n,i,o,l=-1,a=-1){this.rawBytes=e,this.text=n,this.byteSegments=i,this.ecLevel=o,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ht{exp(e){return this.expTable[e]}log(e){if(e===0)throw new O;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class vt{constructor(e,n){if(n.length===0)throw new O;this.field=e;const i=n.length;if(i>1&&n[0]===0){let o=1;for(;o<i&&n[o]===0;)o++;o===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-o),j.arraycopy(n,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let i;if(e===1){i=0;for(let a=0,u=n.length;a!==u;a++){const f=n[a];i=Ht.addOrSubtract(i,f)}return i}i=n[0];const o=n.length,l=this.field;for(let a=1;a<o;a++)i=Ht.addOrSubtract(l.multiply(e,i),n[a]);return i}addOrSubtract(e){if(!this.field.equals(e.field))throw new O("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,i=e.coefficients;if(n.length>i.length){const a=n;n=i,i=a}let o=new Int32Array(i.length);const l=i.length-n.length;j.arraycopy(i,0,o,0,l);for(let a=l;a<i.length;a++)o[a]=Ht.addOrSubtract(n[a-l],i[a]);return new vt(this.field,o)}multiply(e){if(!this.field.equals(e.field))throw new O("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,i=n.length,o=e.coefficients,l=o.length,a=new Int32Array(i+l-1),u=this.field;for(let f=0;f<i;f++){const h=n[f];for(let x=0;x<l;x++)a[f+x]=Ht.addOrSubtract(a[f+x],u.multiply(h,o[x]))}return new vt(u,a)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,i=this.field,o=new Int32Array(n),l=this.coefficients;for(let a=0;a<n;a++)o[a]=i.multiply(l[a],e);return new vt(i,o)}multiplyByMonomial(e,n){if(e<0)throw new O;if(n===0)return this.field.getZero();const i=this.coefficients,o=i.length,l=new Int32Array(o+e),a=this.field;for(let u=0;u<o;u++)l[u]=a.multiply(i[u],n);return new vt(a,l)}divide(e){if(!this.field.equals(e.field))throw new O("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new O("Divide by 0");const n=this.field;let i=n.getZero(),o=this;const l=e.getCoefficient(e.getDegree()),a=n.inverse(l);for(;o.getDegree()>=e.getDegree()&&!o.isZero();){const u=o.getDegree()-e.getDegree(),f=n.multiply(o.getCoefficient(o.getDegree()),a),h=e.multiplyByMonomial(u,f),x=n.buildMonomial(u,f);i=i.addOrSubtract(x),o=o.addOrSubtract(h)}return[i,o]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);if(i!==0){if(i<0?(e+=" - ",i=-i):e.length>0&&(e+=" + "),n===0||i!==1){const o=this.field.log(i);o===0?e+="1":o===1?e+="a":(e+="a^",e+=o)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class vs extends C{}vs.kind="ArithmeticException";class ve extends Ht{constructor(e,n,i){super(),this.primitive=e,this.size=n,this.generatorBase=i;const o=new Int32Array(n);let l=1;for(let u=0;u<n;u++)o[u]=l,l*=2,l>=n&&(l^=e,l&=n-1);this.expTable=o;const a=new Int32Array(n);for(let u=0;u<n-1;u++)a[o[u]]=u;this.logTable=a,this.zero=new vt(this,Int32Array.from([0])),this.one=new vt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new O;if(n===0)return this.zero;const i=new Int32Array(e+1);return i[0]=n,new vt(this,i)}inverse(e){if(e===0)throw new vs;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+N.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}ve.AZTEC_DATA_12=new ve(4201,4096,1),ve.AZTEC_DATA_10=new ve(1033,1024,1),ve.AZTEC_DATA_6=new ve(67,64,1),ve.AZTEC_PARAM=new ve(19,16,1),ve.QR_CODE_FIELD_256=new ve(285,256,0),ve.DATA_MATRIX_FIELD_256=new ve(301,256,1),ve.AZTEC_DATA_8=ve.DATA_MATRIX_FIELD_256,ve.MAXICODE_FIELD_64=ve.AZTEC_DATA_6;class Dr extends C{}Dr.kind="ReedSolomonException";class hn extends C{}hn.kind="IllegalStateException";class wi{constructor(e){this.field=e}decode(e,n){const i=this.field,o=new vt(i,e),l=new Int32Array(n);let a=!0;for(let I=0;I<n;I++){const v=o.evaluateAt(i.exp(I+i.getGeneratorBase()));l[l.length-1-I]=v,v!==0&&(a=!1)}if(a)return;const u=new vt(i,l),f=this.runEuclideanAlgorithm(i.buildMonomial(n,1),u,n),h=f[0],x=f[1],w=this.findErrorLocations(h),A=this.findErrorMagnitudes(x,w);for(let I=0;I<w.length;I++){const v=e.length-1-i.log(w[I]);if(v<0)throw new Dr("Bad error location");e[v]=ve.addOrSubtract(e[v],A[I])}}runEuclideanAlgorithm(e,n,i){if(e.getDegree()<n.getDegree()){const I=e;e=n,n=I}const o=this.field;let l=e,a=n,u=o.getZero(),f=o.getOne();for(;a.getDegree()>=(i/2|0);){let I=l,v=u;if(l=a,u=f,l.isZero())throw new Dr("r_{i-1} was zero");a=I;let M=o.getZero();const D=l.getCoefficient(l.getDegree()),P=o.inverse(D);for(;a.getDegree()>=l.getDegree()&&!a.isZero();){const W=a.getDegree()-l.getDegree(),Y=o.multiply(a.getCoefficient(a.getDegree()),P);M=M.addOrSubtract(o.buildMonomial(W,Y)),a=a.addOrSubtract(l.multiplyByMonomial(W,Y))}if(f=M.multiply(u).addOrSubtract(v),a.getDegree()>=l.getDegree())throw new hn("Division algorithm failed to reduce polynomial?")}const h=f.getCoefficient(0);if(h===0)throw new Dr("sigmaTilde(0) was zero");const x=o.inverse(h),w=f.multiplyScalar(x),A=a.multiplyScalar(x);return[w,A]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const i=new Int32Array(n);let o=0;const l=this.field;for(let a=1;a<l.getSize()&&o<n;a++)e.evaluateAt(a)===0&&(i[o]=l.inverse(a),o++);if(o!==n)throw new Dr("Error locator degree does not match number of roots");return i}findErrorMagnitudes(e,n){const i=n.length,o=new Int32Array(i),l=this.field;for(let a=0;a<i;a++){const u=l.inverse(n[a]);let f=1;for(let h=0;h<i;h++)if(a!==h){const x=l.multiply(n[h],u),w=(x&1)===0?x|1:x&-2;f=l.multiply(f,w)}o[a]=l.multiply(e.evaluateAt(u),l.inverse(f)),l.getGeneratorBase()!==0&&(o[a]=l.multiply(o[a],u))}return o}}var ct;(function(m){m[m.UPPER=0]="UPPER",m[m.LOWER=1]="LOWER",m[m.MIXED=2]="MIXED",m[m.DIGIT=3]="DIGIT",m[m.PUNCT=4]="PUNCT",m[m.BINARY=5]="BINARY"})(ct||(ct={}));class ke{decode(e){this.ddata=e;let n=e.getBits(),i=this.extractBits(n),o=this.correctBits(i),l=ke.convertBoolArrayToByteArray(o),a=ke.getEncodedData(o),u=new rn(l,a,null,null);return u.setNumBits(o.length),u}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,i=ct.UPPER,o=ct.UPPER,l="",a=0;for(;a<n;)if(o===ct.BINARY){if(n-a<5)break;let u=ke.readCode(e,a,5);if(a+=5,u===0){if(n-a<11)break;u=ke.readCode(e,a,11)+31,a+=11}for(let f=0;f<u;f++){if(n-a<8){a=n;break}const h=ke.readCode(e,a,8);l+=fe.castAsNonUtf8Char(h),a+=8}o=i}else{let u=o===ct.DIGIT?4:5;if(n-a<u)break;let f=ke.readCode(e,a,u);a+=u;let h=ke.getCharacter(o,f);h.startsWith("CTRL_")?(i=o,o=ke.getTable(h.charAt(5)),h.charAt(6)==="L"&&(i=o)):(l+=h,o=i)}return l}static getTable(e){switch(e){case"L":return ct.LOWER;case"P":return ct.PUNCT;case"M":return ct.MIXED;case"D":return ct.DIGIT;case"B":return ct.BINARY;case"U":default:return ct.UPPER}}static getCharacter(e,n){switch(e){case ct.UPPER:return ke.UPPER_TABLE[n];case ct.LOWER:return ke.LOWER_TABLE[n];case ct.MIXED:return ke.MIXED_TABLE[n];case ct.PUNCT:return ke.PUNCT_TABLE[n];case ct.DIGIT:return ke.DIGIT_TABLE[n];default:throw new hn("Bad table")}}correctBits(e){let n,i;this.ddata.getNbLayers()<=2?(i=6,n=ve.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,n=ve.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,n=ve.AZTEC_DATA_10):(i=12,n=ve.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),l=e.length/i;if(l<o)throw new R;let a=e.length%i,u=new Int32Array(l);for(let A=0;A<l;A++,a+=i)u[A]=ke.readCode(e,a,i);try{new wi(n).decode(u,l-o)}catch(A){throw new R(A)}let f=(1<<i)-1,h=0;for(let A=0;A<o;A++){let I=u[A];if(I===0||I===f)throw new R;(I===1||I===f-1)&&h++}let x=new Array(o*i-h),w=0;for(let A=0;A<o;A++){let I=u[A];if(I===1||I===f-1)x.fill(I>1,w,w+i-1),w+=i-1;else for(let v=i-1;v>=0;--v)x[w++]=(I&1<<v)!==0}return x}extractBits(e){let n=this.ddata.isCompact(),i=this.ddata.getNbLayers(),o=(n?11:14)+i*4,l=new Int32Array(o),a=new Array(this.totalBitsInLayer(i,n));if(n)for(let u=0;u<l.length;u++)l[u]=u;else{let u=o+1+2*N.truncDivision(N.truncDivision(o,2)-1,15),f=o/2,h=N.truncDivision(u,2);for(let x=0;x<f;x++){let w=x+N.truncDivision(x,15);l[f-x-1]=h-w-1,l[f+x]=h+w+1}}for(let u=0,f=0;u<i;u++){let h=(i-u)*4+(n?9:12),x=u*2,w=o-1-x;for(let A=0;A<h;A++){let I=A*2;for(let v=0;v<2;v++)a[f+I+v]=e.get(l[x+v],l[x+A]),a[f+2*h+I+v]=e.get(l[x+A],l[w-v]),a[f+4*h+I+v]=e.get(l[w-v],l[w-A]),a[f+6*h+I+v]=e.get(l[w-A],l[x+v])}f+=h*8}return a}static readCode(e,n,i){let o=0;for(let l=n;l<n+i;l++)o<<=1,e[l]&&(o|=1);return o}static readByte(e,n){let i=e.length-n;return i>=8?ke.readCode(e,n,8):ke.readCode(e,n,i)<<8-i}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let i=0;i<n.length;i++)n[i]=ke.readByte(e,8*i);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}ke.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ke.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ke.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ke.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ke.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ie{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,i,o){const l=e-i,a=n-o;return Math.sqrt(l*l+a*a)}static sum(e){let n=0;for(let i=0,o=e.length;i!==o;i++)n+=e[i];return n}}class Ms{static floatToIntBits(e){return e}}Ms.MAX_VALUE=Number.MAX_SAFE_INTEGER;class se{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof se){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*Ms.floatToIntBits(this.x)+Ms.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),i=this.distance(e[1],e[2]),o=this.distance(e[0],e[2]);let l,a,u;if(i>=n&&i>=o?(a=e[0],l=e[1],u=e[2]):o>=i&&o>=n?(a=e[1],l=e[0],u=e[2]):(a=e[2],l=e[0],u=e[1]),this.crossProductZ(l,a,u)<0){const f=l;l=u,u=f}e[0]=l,e[1]=a,e[2]=u}static distance(e,n){return Ie.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,i){const o=n.x,l=n.y;return(i.x-o)*(e.y-l)-(i.y-l)*(e.x-o)}}class _s{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Cu extends _s{constructor(e,n,i,o,l){super(e,n),this.compact=i,this.nbDatablocks=o,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Mn{constructor(e,n,i,o){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=Mn.INIT_SIZE),i==null&&(i=e.getWidth()/2|0),o==null&&(o=e.getHeight()/2|0);const l=n/2|0;if(this.leftInit=i-l,this.rightInit=i+l,this.upInit=o-l,this.downInit=o+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new U}detect(){let e=this.leftInit,n=this.rightInit,i=this.upInit,o=this.downInit,l=!1,a=!0,u=!1,f=!1,h=!1,x=!1,w=!1;const A=this.width,I=this.height;for(;a;){a=!1;let v=!0;for(;(v||!f)&&n<A;)v=this.containsBlackPoint(i,o,n,!1),v?(n++,a=!0,f=!0):f||n++;if(n>=A){l=!0;break}let M=!0;for(;(M||!h)&&o<I;)M=this.containsBlackPoint(e,n,o,!0),M?(o++,a=!0,h=!0):h||o++;if(o>=I){l=!0;break}let D=!0;for(;(D||!x)&&e>=0;)D=this.containsBlackPoint(i,o,e,!1),D?(e--,a=!0,x=!0):x||e--;if(e<0){l=!0;break}let P=!0;for(;(P||!w)&&i>=0;)P=this.containsBlackPoint(e,n,i,!0),P?(i--,a=!0,w=!0):w||i--;if(i<0){l=!0;break}a&&(u=!0)}if(!l&&u){const v=n-e;let M=null;for(let Y=1;M===null&&Y<v;Y++)M=this.getBlackPointOnSegment(e,o-Y,e+Y,o);if(M==null)throw new U;let D=null;for(let Y=1;D===null&&Y<v;Y++)D=this.getBlackPointOnSegment(e,i+Y,e+Y,i);if(D==null)throw new U;let P=null;for(let Y=1;P===null&&Y<v;Y++)P=this.getBlackPointOnSegment(n,i+Y,n-Y,i);if(P==null)throw new U;let W=null;for(let Y=1;W===null&&Y<v;Y++)W=this.getBlackPointOnSegment(n,o-Y,n-Y,o);if(W==null)throw new U;return this.centerEdges(W,M,P,D)}else throw new U}getBlackPointOnSegment(e,n,i,o){const l=Ie.round(Ie.distance(e,n,i,o)),a=(i-e)/l,u=(o-n)/l,f=this.image;for(let h=0;h<l;h++){const x=Ie.round(e+h*a),w=Ie.round(n+h*u);if(f.get(x,w))return new se(x,w)}return null}centerEdges(e,n,i,o){const l=e.getX(),a=e.getY(),u=n.getX(),f=n.getY(),h=i.getX(),x=i.getY(),w=o.getX(),A=o.getY(),I=Mn.CORR;return l<this.width/2?[new se(w-I,A+I),new se(u+I,f+I),new se(h-I,x-I),new se(l+I,a-I)]:[new se(w+I,A+I),new se(u+I,f-I),new se(h-I,x+I),new se(l-I,a-I)]}containsBlackPoint(e,n,i,o){const l=this.image;if(o){for(let a=e;a<=n;a++)if(l.get(a,i))return!0}else for(let a=e;a<=n;a++)if(l.get(i,a))return!0;return!1}}Mn.INIT_SIZE=10,Mn.CORR=1;class Zo{static checkAndNudgePoints(e,n){const i=e.getWidth(),o=e.getHeight();let l=!0;for(let a=0;a<n.length&&l;a+=2){const u=Math.floor(n[a]),f=Math.floor(n[a+1]);if(u<-1||u>i||f<-1||f>o)throw new U;l=!1,u===-1?(n[a]=0,l=!0):u===i&&(n[a]=i-1,l=!0),f===-1?(n[a+1]=0,l=!0):f===o&&(n[a+1]=o-1,l=!0)}l=!0;for(let a=n.length-2;a>=0&&l;a-=2){const u=Math.floor(n[a]),f=Math.floor(n[a+1]);if(u<-1||u>i||f<-1||f>o)throw new U;l=!1,u===-1?(n[a]=0,l=!0):u===i&&(n[a]=i-1,l=!0),f===-1?(n[a+1]=0,l=!0):f===o&&(n[a+1]=o-1,l=!0)}}}class sn{constructor(e,n,i,o,l,a,u,f,h){this.a11=e,this.a21=n,this.a31=i,this.a12=o,this.a22=l,this.a32=a,this.a13=u,this.a23=f,this.a33=h}static quadrilateralToQuadrilateral(e,n,i,o,l,a,u,f,h,x,w,A,I,v,M,D){const P=sn.quadrilateralToSquare(e,n,i,o,l,a,u,f);return sn.squareToQuadrilateral(h,x,w,A,I,v,M,D).times(P)}transformPoints(e){const n=e.length,i=this.a11,o=this.a12,l=this.a13,a=this.a21,u=this.a22,f=this.a23,h=this.a31,x=this.a32,w=this.a33;for(let A=0;A<n;A+=2){const I=e[A],v=e[A+1],M=l*I+f*v+w;e[A]=(i*I+a*v+h)/M,e[A+1]=(o*I+u*v+x)/M}}transformPointsWithValues(e,n){const i=this.a11,o=this.a12,l=this.a13,a=this.a21,u=this.a22,f=this.a23,h=this.a31,x=this.a32,w=this.a33,A=e.length;for(let I=0;I<A;I++){const v=e[I],M=n[I],D=l*v+f*M+w;e[I]=(i*v+a*M+h)/D,n[I]=(o*v+u*M+x)/D}}static squareToQuadrilateral(e,n,i,o,l,a,u,f){const h=e-i+l-u,x=n-o+a-f;if(h===0&&x===0)return new sn(i-e,l-i,e,o-n,a-o,n,0,0,1);{const w=i-l,A=u-l,I=o-a,v=f-a,M=w*v-A*I,D=(h*v-A*x)/M,P=(w*x-h*I)/M;return new sn(i-e+D*i,u-e+P*u,e,o-n+D*o,f-n+P*f,n,D,P,1)}}static quadrilateralToSquare(e,n,i,o,l,a,u,f){return sn.squareToQuadrilateral(e,n,i,o,l,a,u,f).buildAdjoint()}buildAdjoint(){return new sn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new sn(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class yu extends Zo{sampleGrid(e,n,i,o,l,a,u,f,h,x,w,A,I,v,M,D,P,W,Y){const H=sn.quadrilateralToQuadrilateral(o,l,a,u,f,h,x,w,A,I,v,M,D,P,W,Y);return this.sampleGridWithTransform(e,n,i,H)}sampleGridWithTransform(e,n,i,o){if(n<=0||i<=0)throw new U;const l=new Ce(n,i),a=new Float32Array(2*n);for(let u=0;u<i;u++){const f=a.length,h=u+.5;for(let x=0;x<f;x+=2)a[x]=x/2+.5,a[x+1]=h;o.transformPoints(a),Zo.checkAndNudgePoints(e,a);try{for(let x=0;x<f;x+=2)e.get(Math.floor(a[x]),Math.floor(a[x+1]))&&l.set(x/2,u)}catch{throw new U}}return l}}class Fn{static setGridSampler(e){Fn.gridSampler=e}static getInstance(){return Fn.gridSampler}}Fn.gridSampler=new yu;class It{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new se(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Iu{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),i=this.getBullsEyeCorners(n);if(e){let a=i[0];i[0]=i[2],i[2]=a}this.extractParameters(i);let o=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),l=this.getMatrixCornerPoints(i);return new Cu(o,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new U;let n=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(i,n);let o=0;for(let a=0;a<4;a++){let u=i[(this.shift+a)%4];this.compact?(o<<=7,o+=u>>1&127):(o<<=10,o+=(u>>2&31<<5)+(u>>1&31))}let l=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(e,n){let i=0;e.forEach((o,l,a)=>{let u=(o>>n-2<<1)+(o&1);i=(i<<3)+u}),i=((i&1)<<11)+(i>>1);for(let o=0;o<4;o++)if(N.bitCount(i^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new U}getCorrectedParameterData(e,n){let i,o;n?(i=7,o=2):(i=10,o=4);let l=i-o,a=new Int32Array(i);for(let f=i-1;f>=0;--f)a[f]=e&15,e>>=4;try{new wi(ve.AZTEC_PARAM).decode(a,l)}catch{throw new U}let u=0;for(let f=0;f<o;f++)u=(u<<4)+a[f];return u}getBullsEyeCorners(e){let n=e,i=e,o=e,l=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let w=this.getFirstDifferent(n,a,1,-1),A=this.getFirstDifferent(i,a,1,1),I=this.getFirstDifferent(o,a,-1,1),v=this.getFirstDifferent(l,a,-1,-1);if(this.nbCenterLayers>2){let M=this.distancePoint(v,w)*this.nbCenterLayers/(this.distancePoint(l,n)*(this.nbCenterLayers+2));if(M<.75||M>1.25||!this.isWhiteOrBlackRectangle(w,A,I,v))break}n=w,i=A,o=I,l=v,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new U;this.compact=this.nbCenterLayers===5;let u=new se(n.getX()+.5,n.getY()-.5),f=new se(i.getX()+.5,i.getY()+.5),h=new se(o.getX()-.5,o.getY()+.5),x=new se(l.getX()-.5,l.getY()-.5);return this.expandSquare([u,f,h,x],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,i,o;try{let u=new Mn(this.image).detect();e=u[0],n=u[1],i=u[2],o=u[3]}catch{let f=this.image.getWidth()/2,h=this.image.getHeight()/2;e=this.getFirstDifferent(new It(f+7,h-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new It(f+7,h+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new It(f-7,h+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new It(f-7,h-7),!1,-1,-1).toResultPoint()}let l=Ie.round((e.getX()+o.getX()+n.getX()+i.getX())/4),a=Ie.round((e.getY()+o.getY()+n.getY()+i.getY())/4);try{let u=new Mn(this.image,15,l,a).detect();e=u[0],n=u[1],i=u[2],o=u[3]}catch{e=this.getFirstDifferent(new It(l+7,a-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new It(l+7,a+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new It(l-7,a+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new It(l-7,a-7),!1,-1,-1).toResultPoint()}return l=Ie.round((e.getX()+o.getX()+n.getX()+i.getX())/4),a=Ie.round((e.getY()+o.getY()+n.getY()+i.getY())/4),new It(l,a)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,i,o,l){let a=Fn.getInstance(),u=this.getDimension(),f=u/2-this.nbCenterLayers,h=u/2+this.nbCenterLayers;return a.sampleGrid(e,u,u,f,f,h,f,h,h,f,h,n.getX(),n.getY(),i.getX(),i.getY(),o.getX(),o.getY(),l.getX(),l.getY())}sampleLine(e,n,i){let o=0,l=this.distanceResultPoint(e,n),a=l/i,u=e.getX(),f=e.getY(),h=a*(n.getX()-e.getX())/l,x=a*(n.getY()-e.getY())/l;for(let w=0;w<i;w++)this.image.get(Ie.round(u+w*h),Ie.round(f+w*x))&&(o|=1<<i-w-1);return o}isWhiteOrBlackRectangle(e,n,i,o){let l=3;e=new It(e.getX()-l,e.getY()+l),n=new It(n.getX()-l,n.getY()-l),i=new It(i.getX()+l,i.getY()-l),o=new It(o.getX()+l,o.getY()+l);let a=this.getColor(o,e);if(a===0)return!1;let u=this.getColor(e,n);return u!==a||(u=this.getColor(n,i),u!==a)?!1:(u=this.getColor(i,o),u===a)}getColor(e,n){let i=this.distancePoint(e,n),o=(n.getX()-e.getX())/i,l=(n.getY()-e.getY())/i,a=0,u=e.getX(),f=e.getY(),h=this.image.get(e.getX(),e.getY()),x=Math.ceil(i);for(let A=0;A<x;A++)u+=o,f+=l,this.image.get(Ie.round(u),Ie.round(f))!==h&&a++;let w=a/i;return w>.1&&w<.9?0:w<=.1===h?1:-1}getFirstDifferent(e,n,i,o){let l=e.getX()+i,a=e.getY()+o;for(;this.isValid(l,a)&&this.image.get(l,a)===n;)l+=i,a+=o;for(l-=i,a-=o;this.isValid(l,a)&&this.image.get(l,a)===n;)l+=i;for(l-=i;this.isValid(l,a)&&this.image.get(l,a)===n;)a+=o;return a-=o,new It(l,a)}expandSquare(e,n,i){let o=i/(2*n),l=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,f=(e[0].getY()+e[2].getY())/2,h=new se(u+o*l,f+o*a),x=new se(u-o*l,f-o*a);l=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,f=(e[1].getY()+e[3].getY())/2;let w=new se(u+o*l,f+o*a),A=new se(u-o*l,f-o*a);return[h,w,x,A]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=Ie.round(e.getX()),i=Ie.round(e.getY());return this.isValid(n,i)}distancePoint(e,n){return Ie.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return Ie.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(N.truncDivision(this.nbLayers-4,8)+1)+15}}class Os{decode(e,n=null){let i=null,o=new Iu(e.getBlackMatrix()),l=null,a=null;try{let x=o.detectMirror(!1);l=x.getPoints(),this.reportFoundResultPoints(n,l),a=new ke().decode(x)}catch(x){i=x}if(a==null)try{let x=o.detectMirror(!0);l=x.getPoints(),this.reportFoundResultPoints(n,l),a=new ke().decode(x)}catch(x){throw i!=null?i:x}let u=new ae(a.getText(),a.getRawBytes(),a.getNumBits(),l,ee.AZTEC,j.currentTimeMillis()),f=a.getByteSegments();f!=null&&u.putMetadata(Be.BYTE_SEGMENTS,f);let h=a.getECLevel();return h!=null&&u.putMetadata(Be.ERROR_CORRECTION_LEVEL,h),u}reportFoundResultPoints(e,n){if(e!=null){let i=e.get($.NEED_RESULT_POINT_CALLBACK);i!=null&&n.forEach((o,l,a)=>{i.foundPossibleResultPoint(o)})}}reset(){}}class gf extends le{constructor(e=500){super(new Os,e)}}class tt{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get($.TRY_HARDER)===!0&&e.isRotateSupported()){const l=e.rotateCounterClockwise(),a=this.doDecode(l,n),u=a.getResultMetadata();let f=270;u!==null&&u.get(Be.ORIENTATION)===!0&&(f=f+u.get(Be.ORIENTATION)%360),a.putMetadata(Be.ORIENTATION,f);const h=a.getResultPoints();if(h!==null){const x=l.getHeight();for(let w=0;w<h.length;w++)h[w]=new se(x-h[w].getY()-1,h[w].getX())}return a}else throw new U}}reset(){}doDecode(e,n){const i=e.getWidth(),o=e.getHeight();let l=new B(i);const a=n&&n.get($.TRY_HARDER)===!0,u=Math.max(1,o>>(a?8:5));let f;a?f=o:f=15;const h=Math.trunc(o/2);for(let x=0;x<f;x++){const w=Math.trunc((x+1)/2),A=(x&1)===0,I=h+u*(A?w:-w);if(I<0||I>=o)break;try{l=e.getBlackRow(I,l)}catch{continue}for(let v=0;v<2;v++){if(v===1&&(l.reverse(),n&&n.get($.NEED_RESULT_POINT_CALLBACK)===!0)){const M=new Map;n.forEach((D,P)=>M.set(P,D)),M.delete($.NEED_RESULT_POINT_CALLBACK),n=M}try{const M=this.decodeRow(I,l,n);if(v===1){M.putMetadata(Be.ORIENTATION,180);const D=M.getResultPoints();D!==null&&(D[0]=new se(i-D[0].getX()-1,D[0].getY()),D[1]=new se(i-D[1].getX()-1,D[1].getY()))}return M}catch{}}}throw new U}static recordPattern(e,n,i){const o=i.length;for(let h=0;h<o;h++)i[h]=0;const l=e.getSize();if(n>=l)throw new U;let a=!e.get(n),u=0,f=n;for(;f<l;){if(e.get(f)!==a)i[u]++;else{if(++u===o)break;i[u]=1,a=!a}f++}if(!(u===o||u===o-1&&f===l))throw new U}static recordPatternInReverse(e,n,i){let o=i.length,l=e.get(n);for(;n>0&&o>=0;)e.get(--n)!==l&&(o--,l=!l);if(o>=0)throw new U;tt.recordPattern(e,n+1,i)}static patternMatchVariance(e,n,i){const o=e.length;let l=0,a=0;for(let h=0;h<o;h++)l+=e[h],a+=n[h];if(l<a)return Number.POSITIVE_INFINITY;const u=l/a;i*=u;let f=0;for(let h=0;h<o;h++){const x=e[h],w=n[h]*u,A=x>w?x-w:w-x;if(A>i)return Number.POSITIVE_INFINITY;f+=A}return f/l}}class q extends tt{static findStartPattern(e){const n=e.getSize(),i=e.getNextSet(0);let o=0,l=Int32Array.from([0,0,0,0,0,0]),a=i,u=!1;const f=6;for(let h=i;h<n;h++)if(e.get(h)!==u)l[o]++;else{if(o===f-1){let x=q.MAX_AVG_VARIANCE,w=-1;for(let A=q.CODE_START_A;A<=q.CODE_START_C;A++){const I=tt.patternMatchVariance(l,q.CODE_PATTERNS[A],q.MAX_INDIVIDUAL_VARIANCE);I<x&&(x=I,w=A)}if(w>=0&&e.isRange(Math.max(0,a-(h-a)/2),a,!1))return Int32Array.from([a,h,w]);a+=l[0]+l[1],l=l.slice(2,l.length-1),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,u=!u}throw new U}static decodeCode(e,n,i){tt.recordPattern(e,i,n);let o=q.MAX_AVG_VARIANCE,l=-1;for(let a=0;a<q.CODE_PATTERNS.length;a++){const u=q.CODE_PATTERNS[a],f=this.patternMatchVariance(n,u,q.MAX_INDIVIDUAL_VARIANCE);f<o&&(o=f,l=a)}if(l>=0)return l;throw new U}decodeRow(e,n,i){const o=i&&i.get($.ASSUME_GS1)===!0,l=q.findStartPattern(n),a=l[2];let u=0;const f=new Uint8Array(20);f[u++]=a;let h;switch(a){case q.CODE_START_A:h=q.CODE_CODE_A;break;case q.CODE_START_B:h=q.CODE_CODE_B;break;case q.CODE_START_C:h=q.CODE_CODE_C;break;default:throw new R}let x=!1,w=!1,A="",I=l[0],v=l[1];const M=Int32Array.from([0,0,0,0,0,0]);let D=0,P=0,W=a,Y=0,H=!0,Ee=!1,pe=!1;for(;!x;){const zr=w;switch(w=!1,D=P,P=q.decodeCode(n,M,v),f[u++]=P,P!==q.CODE_STOP&&(H=!0),P!==q.CODE_STOP&&(Y++,W+=Y*P),I=v,v+=M.reduce((Gf,Yf)=>Gf+Yf,0),P){case q.CODE_START_A:case q.CODE_START_B:case q.CODE_START_C:throw new R}switch(h){case q.CODE_CODE_A:if(P<64)pe===Ee?A+=String.fromCharCode(" ".charCodeAt(0)+P):A+=String.fromCharCode(" ".charCodeAt(0)+P+128),pe=!1;else if(P<96)pe===Ee?A+=String.fromCharCode(P-64):A+=String.fromCharCode(P+64),pe=!1;else switch(P!==q.CODE_STOP&&(H=!1),P){case q.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+=String.fromCharCode(29));break;case q.CODE_FNC_2:case q.CODE_FNC_3:break;case q.CODE_FNC_4_A:!Ee&&pe?(Ee=!0,pe=!1):Ee&&pe?(Ee=!1,pe=!1):pe=!0;break;case q.CODE_SHIFT:w=!0,h=q.CODE_CODE_B;break;case q.CODE_CODE_B:h=q.CODE_CODE_B;break;case q.CODE_CODE_C:h=q.CODE_CODE_C;break;case q.CODE_STOP:x=!0;break}break;case q.CODE_CODE_B:if(P<96)pe===Ee?A+=String.fromCharCode(" ".charCodeAt(0)+P):A+=String.fromCharCode(" ".charCodeAt(0)+P+128),pe=!1;else switch(P!==q.CODE_STOP&&(H=!1),P){case q.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+=String.fromCharCode(29));break;case q.CODE_FNC_2:case q.CODE_FNC_3:break;case q.CODE_FNC_4_B:!Ee&&pe?(Ee=!0,pe=!1):Ee&&pe?(Ee=!1,pe=!1):pe=!0;break;case q.CODE_SHIFT:w=!0,h=q.CODE_CODE_A;break;case q.CODE_CODE_A:h=q.CODE_CODE_A;break;case q.CODE_CODE_C:h=q.CODE_CODE_C;break;case q.CODE_STOP:x=!0;break}break;case q.CODE_CODE_C:if(P<100)P<10&&(A+="0"),A+=P;else switch(P!==q.CODE_STOP&&(H=!1),P){case q.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+=String.fromCharCode(29));break;case q.CODE_CODE_A:h=q.CODE_CODE_A;break;case q.CODE_CODE_B:h=q.CODE_CODE_B;break;case q.CODE_STOP:x=!0;break}break}zr&&(h=h===q.CODE_CODE_A?q.CODE_CODE_B:q.CODE_CODE_A)}const Dt=v-I;if(v=n.getNextUnset(v),!n.isRange(v,Math.min(n.getSize(),v+(v-I)/2),!1))throw new U;if(W-=Y*D,W%103!==D)throw new L;const ln=A.length;if(ln===0)throw new U;ln>0&&H&&(h===q.CODE_CODE_C?A=A.substring(0,ln-2):A=A.substring(0,ln-1));const Rt=(l[1]+l[0])/2,be=I+Dt/2,ht=f.length,Pt=new Uint8Array(ht);for(let zr=0;zr<ht;zr++)Pt[zr]=f[zr];const Ur=[new se(Rt,e),new se(be,e)];return new ae(A,Pt,0,Ur,ee.CODE_128,new Date().getTime())}}q.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],q.MAX_AVG_VARIANCE=.25,q.MAX_INDIVIDUAL_VARIANCE=.7,q.CODE_SHIFT=98,q.CODE_CODE_C=99,q.CODE_CODE_B=100,q.CODE_CODE_A=101,q.CODE_FNC_1=102,q.CODE_FNC_2=97,q.CODE_FNC_3=96,q.CODE_FNC_4_A=101,q.CODE_FNC_4_B=100,q.CODE_START_A=103,q.CODE_START_B=104,q.CODE_START_C=105,q.CODE_STOP=106;class nt extends tt{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,i){let o=this.counters;o.fill(0),this.decodeRowResult="";let l=nt.findAsteriskPattern(n,o),a=n.getNextSet(l[1]),u=n.getSize(),f,h;do{nt.recordPattern(n,a,o);let M=nt.toNarrowWidePattern(o);if(M<0)throw new U;f=nt.patternToChar(M),this.decodeRowResult+=f,h=a;for(let D of o)a+=D;a=n.getNextSet(a)}while(f!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let x=0;for(let M of o)x+=M;let w=a-h-x;if(a!==u&&w*2<x)throw new U;if(this.usingCheckDigit){let M=this.decodeRowResult.length-1,D=0;for(let P=0;P<M;P++)D+=nt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(P));if(this.decodeRowResult.charAt(M)!==nt.ALPHABET_STRING.charAt(D%43))throw new L;this.decodeRowResult=this.decodeRowResult.substring(0,M)}if(this.decodeRowResult.length===0)throw new U;let A;this.extendedMode?A=nt.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let I=(l[1]+l[0])/2,v=h+x/2;return new ae(A,null,0,[new se(I,e),new se(v,e)],ee.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let i=e.getSize(),o=e.getNextSet(0),l=0,a=o,u=!1,f=n.length;for(let h=o;h<i;h++)if(e.get(h)!==u)n[l]++;else{if(l===f-1){if(this.toNarrowWidePattern(n)===nt.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((h-a)/2)),a,!1))return[a,h];a+=n[0]+n[1],n.copyWithin(0,2,2+l-1),n[l-1]=0,n[l]=0,l--}else l++;n[l]=1,u=!u}throw new U}static toNarrowWidePattern(e){let n=e.length,i=0,o;do{let l=2147483647;for(let f of e)f<l&&f>i&&(l=f);i=l,o=0;let a=0,u=0;for(let f=0;f<n;f++){let h=e[f];h>i&&(u|=1<<n-1-f,o++,a+=h)}if(o===3){for(let f=0;f<n&&o>0;f++){let h=e[f];if(h>i&&(o--,h*2>=a))return-1}return u}}while(o>3);return-1}static patternToChar(e){for(let n=0;n<nt.CHARACTER_ENCODINGS.length;n++)if(nt.CHARACTER_ENCODINGS[n]===e)return nt.ALPHABET_STRING.charAt(n);if(e===nt.ASTERISK_ENCODING)return"*";throw new U}static decodeExtended(e){let n=e.length,i="";for(let o=0;o<n;o++){let l=e.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){let a=e.charAt(o+1),u="\0";switch(l){case"+":if(a>="A"&&a<="Z")u=String.fromCharCode(a.charCodeAt(0)+32);else throw new R;break;case"$":if(a>="A"&&a<="Z")u=String.fromCharCode(a.charCodeAt(0)-64);else throw new R;break;case"%":if(a>="A"&&a<="E")u=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")u=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")u=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")u=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")u="\0";else if(a==="V")u="@";else if(a==="W")u="`";else if(a==="X"||a==="Y"||a==="Z")u="\x7F";else throw new R;break;case"/":if(a>="A"&&a<="O")u=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")u=":";else throw new R;break}i+=u,o++}else i+=l}return i}}nt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",nt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],nt.ASTERISK_ENCODING=148;class De extends tt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,i){let o=this.decodeStart(n),l=this.decodeEnd(n),a=new xe;De.decodeMiddle(n,o[1],l[0],a);let u=a.toString(),f=null;i!=null&&(f=i.get($.ALLOWED_LENGTHS)),f==null&&(f=De.DEFAULT_ALLOWED_LENGTHS);let h=u.length,x=!1,w=0;for(let v of f){if(h===v){x=!0;break}v>w&&(w=v)}if(!x&&h>w&&(x=!0),!x)throw new R;const A=[new se(o[1],e),new se(l[0],e)];return new ae(u,null,0,A,ee.ITF,new Date().getTime())}static decodeMiddle(e,n,i,o){let l=new Int32Array(10),a=new Int32Array(5),u=new Int32Array(5);for(l.fill(0),a.fill(0),u.fill(0);n<i;){tt.recordPattern(e,n,l);for(let h=0;h<5;h++){let x=2*h;a[h]=l[x],u[h]=l[x+1]}let f=De.decodeDigit(a);o.append(f.toString()),f=this.decodeDigit(u),o.append(f.toString()),l.forEach(function(h){n+=h})}}decodeStart(e){let n=De.skipWhiteSpace(e),i=De.findGuardPattern(e,n,De.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(e,i[0]),i}validateQuietZone(e,n){let i=this.narrowLineWidth*10;i=i<n?i:n;for(let o=n-1;i>0&&o>=0&&!e.get(o);o--)i--;if(i!==0)throw new U}static skipWhiteSpace(e){const n=e.getSize(),i=e.getNextSet(0);if(i===n)throw new U;return i}decodeEnd(e){e.reverse();try{let n=De.skipWhiteSpace(e),i;try{i=De.findGuardPattern(e,n,De.END_PATTERN_REVERSED[0])}catch(l){l instanceof U&&(i=De.findGuardPattern(e,n,De.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,i[0]);let o=i[0];return i[0]=e.getSize()-i[1],i[1]=e.getSize()-o,i}finally{e.reverse()}}static findGuardPattern(e,n,i){let o=i.length,l=new Int32Array(o),a=e.getSize(),u=!1,f=0,h=n;l.fill(0);for(let x=n;x<a;x++)if(e.get(x)!==u)l[f]++;else{if(f===o-1){if(tt.patternMatchVariance(l,i,De.MAX_INDIVIDUAL_VARIANCE)<De.MAX_AVG_VARIANCE)return[h,x];h+=l[0]+l[1],j.arraycopy(l,2,l,0,f-1),l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,u=!u}throw new U}static decodeDigit(e){let n=De.MAX_AVG_VARIANCE,i=-1,o=De.PATTERNS.length;for(let l=0;l<o;l++){let a=De.PATTERNS[l],u=tt.patternMatchVariance(e,a,De.MAX_INDIVIDUAL_VARIANCE);u<n?(n=u,i=l):u===n&&(i=-1)}if(i>=0)return i%10;throw new U}}De.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],De.MAX_AVG_VARIANCE=.38,De.MAX_INDIVIDUAL_VARIANCE=.5,De.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],De.START_PATTERN=Int32Array.from([1,1,1,1]),De.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Xe extends tt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,i,o=0,l=Int32Array.from([0,0,0]);for(;!n;){l=Int32Array.from([0,0,0]),i=Xe.findGuardPattern(e,o,!1,this.START_END_PATTERN,l);let a=i[0];o=i[1];let u=a-(o-a);u>=0&&(n=e.isRange(u,a,!1))}return i}static checkChecksum(e){return Xe.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let i=parseInt(e.charAt(n-1),10);return Xe.getStandardUPCEANChecksum(e.substring(0,n-1))===i}static getStandardUPCEANChecksum(e){let n=e.length,i=0;for(let o=n-1;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new R;i+=l}i*=3;for(let o=n-2;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new R;i+=l}return(1e3-i)%10}static decodeEnd(e,n){return Xe.findGuardPattern(e,n,!1,Xe.START_END_PATTERN,new Int32Array(Xe.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,i,o){return this.findGuardPattern(e,n,i,o,new Int32Array(o.length))}static findGuardPattern(e,n,i,o,l){let a=e.getSize();n=i?e.getNextUnset(n):e.getNextSet(n);let u=0,f=n,h=o.length,x=i;for(let w=n;w<a;w++)if(e.get(w)!==x)l[u]++;else{if(u===h-1){if(tt.patternMatchVariance(l,o,Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE)return Int32Array.from([f,w]);f+=l[0]+l[1];let A=l.slice(2,l.length-1);for(let I=0;I<u-1;I++)l[I]=A[I];l[u-1]=0,l[u]=0,u--}else u++;l[u]=1,x=!x}throw new U}static decodeDigit(e,n,i,o){this.recordPattern(e,i,n);let l=this.MAX_AVG_VARIANCE,a=-1,u=o.length;for(let f=0;f<u;f++){let h=o[f],x=tt.patternMatchVariance(n,h,Xe.MAX_INDIVIDUAL_VARIANCE);x<l&&(l=x,a=f)}if(a>=0)return a;throw new U}}Xe.MAX_AVG_VARIANCE=.48,Xe.MAX_INDIVIDUAL_VARIANCE=.7,Xe.START_END_PATTERN=Int32Array.from([1,1,1]),Xe.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Xe.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Xe.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ei{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,i){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(n,i,o),a=o.toString(),u=Ei.parseExtensionString(a),f=[new se((i[0]+i[1])/2,e),new se(l,e)],h=new ae(a,null,0,f,ee.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&h.putAllMetadata(u),h}decodeMiddle(e,n,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),a=n[1],u=0;for(let h=0;h<5&&a<l;h++){let x=Xe.decodeDigit(e,o,a,Xe.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+x%10);for(let w of o)a+=w;x>=10&&(u|=1<<4-h),h!==4&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(i.length!==5)throw new U;let f=this.determineCheckDigit(u);if(Ei.extensionChecksum(i.toString())!==f)throw new U;return a}static extensionChecksum(e){let n=e.length,i=0;for(let o=n-2;o>=0;o-=2)i+=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);i*=3;for(let o=n-1;o>=0;o-=2)i+=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);return i*=3,i%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new U}static parseExtensionString(e){if(e.length!==5)return null;let n=Ei.parseExtension5String(e);return n==null?null:new Map([[Be.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="\xA3";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let i=parseInt(e.substring(1)),o=(i/100).toString(),l=i%100,a=l<10?"0"+l:l.toString();return n+o+"."+a}}class Qo{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,i){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(n,i,o),a=o.toString(),u=Qo.parseExtensionString(a),f=[new se((i[0]+i[1])/2,e),new se(l,e)],h=new ae(a,null,0,f,ee.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&h.putAllMetadata(u),h}decodeMiddle(e,n,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),a=n[1],u=0;for(let f=0;f<2&&a<l;f++){let h=Xe.decodeDigit(e,o,a,Xe.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+h%10);for(let x of o)a+=x;h>=10&&(u|=1<<1-f),f!==1&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(i.length!==2)throw new U;if(parseInt(i.toString())%4!==u)throw new U;return a}static parseExtensionString(e){return e.length!==2?null:new Map([[Be.ISSUE_NUMBER,parseInt(e)]])}}class Su{static decodeRow(e,n,i){let o=Xe.findGuardPattern(n,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ei().decodeRow(e,n,o)}catch{return new Qo().decodeRow(e,n,o)}}}Su.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ne extends Xe{constructor(){super(),this.decodeRowStringBuffer="",Ne.L_AND_G_PATTERNS=Ne.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=Ne.L_PATTERNS[e-10],i=new Int32Array(n.length);for(let o=0;o<n.length;o++)i[o]=n[n.length-o-1];Ne.L_AND_G_PATTERNS[e]=i}}decodeRow(e,n,i){let o=Ne.findStartGuardPattern(n),l=i==null?null:i.get($.NEED_RESULT_POINT_CALLBACK);if(l!=null){const H=new se((o[0]+o[1])/2,e);l.foundPossibleResultPoint(H)}let a=this.decodeMiddle(n,o,this.decodeRowStringBuffer),u=a.rowOffset,f=a.resultString;if(l!=null){const H=new se(u,e);l.foundPossibleResultPoint(H)}let h=Ne.decodeEnd(n,u);if(l!=null){const H=new se((h[0]+h[1])/2,e);l.foundPossibleResultPoint(H)}let x=h[1],w=x+(x-h[0]);if(w>=n.getSize()||!n.isRange(x,w,!1))throw new U;let A=f.toString();if(A.length<8)throw new R;if(!Ne.checkChecksum(A))throw new L;let I=(o[1]+o[0])/2,v=(h[1]+h[0])/2,M=this.getBarcodeFormat(),D=[new se(I,e),new se(v,e)],P=new ae(A,null,0,D,M,new Date().getTime()),W=0;try{let H=Su.decodeRow(e,n,h[1]);P.putMetadata(Be.UPC_EAN_EXTENSION,H.getText()),P.putAllMetadata(H.getResultMetadata()),P.addResultPoints(H.getResultPoints()),W=H.getText().length}catch{}let Y=i==null?null:i.get($.ALLOWED_EAN_EXTENSIONS);if(Y!=null){let H=!1;for(let Ee in Y)if(W.toString()===Ee){H=!0;break}if(!H)throw new U}return M===ee.EAN_13||ee.UPC_A,P}static checkChecksum(e){return Ne.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let i=parseInt(e.charAt(n-1),10);return Ne.getStandardUPCEANChecksum(e.substring(0,n-1))===i}static getStandardUPCEANChecksum(e){let n=e.length,i=0;for(let o=n-1;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new R;i+=l}i*=3;for(let o=n-2;o>=0;o-=2){let l=e.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new R;i+=l}return(1e3-i)%10}static decodeEnd(e,n){return Ne.findGuardPattern(e,n,!1,Ne.START_END_PATTERN,new Int32Array(Ne.START_END_PATTERN.length).fill(0))}}class fr extends Ne{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),a=n[1],u=0;for(let h=0;h<6&&a<l;h++){let x=Ne.decodeDigit(e,o,a,Ne.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+x%10);for(let w of o)a+=w;x>=10&&(u|=1<<5-h)}i=fr.determineFirstDigit(i,u),a=Ne.findGuardPattern(e,a,!0,Ne.MIDDLE_PATTERN,new Int32Array(Ne.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<6&&a<l;h++){let x=Ne.decodeDigit(e,o,a,Ne.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+x);for(let w of o)a+=w}return{rowOffset:a,resultString:i}}getBarcodeFormat(){return ee.EAN_13}static determineFirstDigit(e,n){for(let i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return e=String.fromCharCode("0".charCodeAt(0)+i)+e,e;throw new U}}fr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Tu extends Ne{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,i){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),a=n[1];for(let f=0;f<4&&a<l;f++){let h=Ne.decodeDigit(e,o,a,Ne.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+h);for(let x of o)a+=x}a=Ne.findGuardPattern(e,a,!0,Ne.MIDDLE_PATTERN,new Int32Array(Ne.MIDDLE_PATTERN.length).fill(0))[1];for(let f=0;f<4&&a<l;f++){let h=Ne.decodeDigit(e,o,a,Ne.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+h);for(let x of o)a+=x}return{rowOffset:a,resultString:i}}getBarcodeFormat(){return ee.EAN_8}}class xf extends Ne{constructor(){super(...arguments),this.ean13Reader=new fr}getBarcodeFormat(){return ee.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,i))}decodeMiddle(e,n,i){return this.ean13Reader.decodeMiddle(e,n,i)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let i=new ae(n.substring(1),null,null,e.getResultPoints(),ee.UPC_A);return e.getResultMetadata()!=null&&i.putAllMetadata(e.getResultMetadata()),i}else throw new U}reset(){this.ean13Reader.reset()}}class on extends Ne{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,i){const o=this.decodeMiddleCounters.map(f=>f);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const l=e.getSize();let a=n[1],u=0;for(let f=0;f<6&&a<l;f++){const h=on.decodeDigit(e,o,a,on.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+h%10);for(let x of o)a+=x;h>=10&&(u|=1<<5-f)}return on.determineNumSysAndCheckDigit(new xe(i),u),a}decodeEnd(e,n){return on.findGuardPatternWithoutCounters(e,n,!0,on.MIDDLE_END_PATTERN)}checkChecksum(e){return Ne.checkChecksum(on.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let i=0;i<=1;i++)for(let o=0;o<10;o++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){e.insert(0,"0"+i),e.append("0"+o);return}throw U.getNotFoundInstance()}getBarcodeFormat(){return ee.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(l=>l.charCodeAt(0)),i=new xe;i.append(e.charAt(0));let o=n[5];switch(o){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(o),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(o);break}return e.length>=8&&i.append(e.charAt(7)),i.toString()}}on.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),on.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])];class Ko extends tt{constructor(e){super();let n=e==null?null:e.get($.POSSIBLE_FORMATS),i=[];n!=null&&(n.indexOf(ee.EAN_13)>-1?i.push(new fr):n.indexOf(ee.UPC_A)>-1&&i.push(new xf),n.indexOf(ee.EAN_8)>-1&&i.push(new Tu),n.indexOf(ee.UPC_E)>-1&&i.push(new on)),i.length===0&&(i.push(new fr),i.push(new Tu),i.push(new on)),this.readers=i}decodeRow(e,n,i){for(let o of this.readers)try{const l=o.decodeRow(e,n,i),a=l.getBarcodeFormat()===ee.EAN_13&&l.getText().charAt(0)==="0",u=i==null?null:i.get($.POSSIBLE_FORMATS),f=u==null||u.includes(ee.UPC_A);if(a&&f){const h=l.getRawBytes(),x=new ae(l.getText().substring(1),h,h.length,l.getResultPoints(),ee.UPC_A);return x.putAllMetadata(l.getResultMetadata()),x}return l}catch{}throw new U}reset(){for(let e of this.readers)e.reset()}}class mt extends tt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let i=0;i<n.length;i++)if(tt.patternMatchVariance(e,n[i],mt.MAX_INDIVIDUAL_VARIANCE)<mt.MAX_AVG_VARIANCE)return i;throw new U}static count(e){return Ie.sum(new Int32Array(e))}static increment(e,n){let i=0,o=n[0];for(let l=1;l<e.length;l++)n[l]>o&&(o=n[l],i=l);e[i]++}static decrement(e,n){let i=0,o=n[0];for(let l=1;l<e.length;l++)n[l]<o&&(o=n[l],i=l);e[i]--}static isFinderPattern(e){let n=e[0]+e[1],i=n+e[2]+e[3],o=n/i;if(o>=mt.MIN_FINDER_PATTERN_RATIO&&o<=mt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(let u of e)u>a&&(a=u),u<l&&(l=u);return a<10*l}return!1}}mt.MAX_AVG_VARIANCE=.2,mt.MAX_INDIVIDUAL_VARIANCE=.45,mt.MIN_FINDER_PATTERN_RATIO=9.5/12,mt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Rr{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Rr))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ds{constructor(e,n,i,o,l){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new se(i,l)),this.resultPoints.push(new se(o,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Ds))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class gn{constructor(){}static getRSSvalue(e,n,i){let o=0;for(let f of e)o+=f;let l=0,a=0,u=e.length;for(let f=0;f<u-1;f++){let h;for(h=1,a|=1<<f;h<e[f];h++,a&=~(1<<f)){let x=gn.combins(o-h-1,u-f-2);if(i&&a===0&&o-h-(u-f-1)>=u-f-1&&(x-=gn.combins(o-h-(u-f),u-f-2)),u-f-1>1){let w=0;for(let A=o-h-(u-f-2);A>n;A--)w+=gn.combins(o-h-A-1,u-f-3);x-=w*(u-1-f)}else o-h>n&&x--;l+=x}o-=h}return l}static combins(e,n){let i,o;e-n>n?(o=n,i=e-n):(o=e-n,i=n);let l=1,a=1;for(let u=e;u>i;u--)l*=u,a<=o&&(l/=a,a++);for(;a<=o;)l/=a,a++;return l}}class pf{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let i=12*n,o=new B(i),l=0,u=e[0].getRightChar().getValue();for(let f=11;f>=0;--f)(u&1<<f)!=0&&o.set(l),l++;for(let f=1;f<e.length;++f){let h=e[f],x=h.getLeftChar().getValue();for(let w=11;w>=0;--w)(x&1<<w)!=0&&o.set(l),l++;if(h.getRightChar()!=null){let w=h.getRightChar().getValue();for(let A=11;A>=0;--A)(w&1<<A)!=0&&o.set(l),l++}}return o}}class dr{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class qo{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Mt extends qo{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===Mt.FNC1}}Mt.FNC1="$";class hr extends qo{constructor(e,n,i){super(e),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Wt extends qo{constructor(e,n,i){if(super(e),n<0||n>10||i<0||i>10)throw new R;this.firstDigit=n,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Wt.FNC1}isSecondDigitFNC1(){return this.secondDigit===Wt.FNC1}isAnyFNC1(){return this.firstDigit===Wt.FNC1||this.secondDigit===Wt.FNC1}}Wt.FNC1=10;class te{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new U;let n=e.substring(0,2);for(let l of te.TWO_DIGIT_DATA_LENGTH)if(l[0]===n)return l[1]===te.VARIABLE_LENGTH?te.processVariableAI(2,l[2],e):te.processFixedAI(2,l[1],e);if(e.length<3)throw new U;let i=e.substring(0,3);for(let l of te.THREE_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===te.VARIABLE_LENGTH?te.processVariableAI(3,l[2],e):te.processFixedAI(3,l[1],e);for(let l of te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===te.VARIABLE_LENGTH?te.processVariableAI(4,l[2],e):te.processFixedAI(4,l[1],e);if(e.length<4)throw new U;let o=e.substring(0,4);for(let l of te.FOUR_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===te.VARIABLE_LENGTH?te.processVariableAI(4,l[2],e):te.processFixedAI(4,l[1],e);throw new U}static processFixedAI(e,n,i){if(i.length<e)throw new U;let o=i.substring(0,e);if(i.length<e+n)throw new U;let l=i.substring(e,e+n),a=i.substring(e+n),u="("+o+")"+l,f=te.parseFieldsInGeneralPurpose(a);return f==null?u:u+f}static processVariableAI(e,n,i){let o=i.substring(0,e),l;i.length<e+n?l=i.length:l=e+n;let a=i.substring(e,l),u=i.substring(l),f="("+o+")"+a,h=te.parseFieldsInGeneralPurpose(u);return h==null?f:f+h}}te.VARIABLE_LENGTH=[],te.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",te.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",te.VARIABLE_LENGTH,20],["22",te.VARIABLE_LENGTH,29],["30",te.VARIABLE_LENGTH,8],["37",te.VARIABLE_LENGTH,8],["90",te.VARIABLE_LENGTH,30],["91",te.VARIABLE_LENGTH,30],["92",te.VARIABLE_LENGTH,30],["93",te.VARIABLE_LENGTH,30],["94",te.VARIABLE_LENGTH,30],["95",te.VARIABLE_LENGTH,30],["96",te.VARIABLE_LENGTH,30],["97",te.VARIABLE_LENGTH,3],["98",te.VARIABLE_LENGTH,30],["99",te.VARIABLE_LENGTH,30]],te.THREE_DIGIT_DATA_LENGTH=[["240",te.VARIABLE_LENGTH,30],["241",te.VARIABLE_LENGTH,30],["242",te.VARIABLE_LENGTH,6],["250",te.VARIABLE_LENGTH,30],["251",te.VARIABLE_LENGTH,30],["253",te.VARIABLE_LENGTH,17],["254",te.VARIABLE_LENGTH,20],["400",te.VARIABLE_LENGTH,30],["401",te.VARIABLE_LENGTH,30],["402",17],["403",te.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",te.VARIABLE_LENGTH,20],["421",te.VARIABLE_LENGTH,15],["422",3],["423",te.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],te.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",te.VARIABLE_LENGTH,15],["391",te.VARIABLE_LENGTH,18],["392",te.VARIABLE_LENGTH,15],["393",te.VARIABLE_LENGTH,18],["703",te.VARIABLE_LENGTH,30]],te.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",te.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",te.VARIABLE_LENGTH,20],["8003",te.VARIABLE_LENGTH,30],["8004",te.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",te.VARIABLE_LENGTH,30],["8008",te.VARIABLE_LENGTH,12],["8018",18],["8020",te.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",te.VARIABLE_LENGTH,70],["8200",te.VARIABLE_LENGTH,70]];class br{constructor(e){this.buffer=new xe,this.information=e}decodeAllCodes(e,n){let i=n,o=null;do{let l=this.decodeGeneralPurposeField(i,o),a=te.parseFieldsInGeneralPurpose(l.getNewString());if(a!=null&&e.append(a),l.isRemaining()?o=""+l.getRemainingValue():o=null,i===l.getNewPosition())break;i=l.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(e,4);return l===0?new Wt(this.information.getSize(),Wt.FNC1,Wt.FNC1):new Wt(this.information.getSize(),l-1,Wt.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,o=(n-8)%11;return new Wt(e+7,i,o)}extractNumericValueFromBitArray(e,n){return br.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,i){let o=0;for(let l=0;l<i;++l)e.get(n+l)&&(o|=1<<i-l-1);return o}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new hr(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new hr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let i=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(i!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new hr(this.current.getPosition(),this.buffer.toString()):n=new hr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new dr(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new hr(this.current.getPosition(),this.buffer.toString());return new dr(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new dr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new hr(this.current.getPosition(),this.buffer.toString());return new dr(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new dr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new hr(this.current.getPosition(),this.buffer.toString());return new dr(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new dr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<116)return!0;if(e+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,8);return o>=232&&o<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Mt(e+5,Mt.FNC1);if(n>=5&&n<15)return new Mt(e+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<90)return new Mt(e+7,""+(i+1));if(i>=90&&i<116)return new Mt(e+7,""+(i+7));let o=this.extractNumericValueFromBitArray(e,8),l;switch(o){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new R}return new Mt(e+8,l)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,6);return i>=16&&i<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Mt(e+5,Mt.FNC1);if(n>=5&&n<15)return new Mt(e+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(e,6);if(i>=32&&i<58)return new Mt(e+6,""+(i+33));let o;switch(i){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new hn("Decoding invalid alphanumeric value: "+i)}return new Mt(e+6,o)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class Nu{constructor(e){this.information=e,this.generalDecoder=new br(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class _t extends Nu{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let i=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,i)}encodeCompressedGtinWithoutAI(e,n,i){for(let o=0;o<4;++o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);l/100===0&&e.append("0"),l/10===0&&e.append("0"),e.append(l)}_t.appendCheckDigit(e,i)}static appendCheckDigit(e,n){let i=0;for(let o=0;o<13;o++){let l=e.charAt(o+n).charCodeAt(0)-"0".charCodeAt(0);i+=(o&1)===0?3*l:l}i=10-i%10,i===10&&(i=0),e.append(i)}}_t.GTIN_SIZE=40;class Lr extends _t{constructor(e){super(e)}parseInformation(){let e=new xe;e.append("(01)");let n=e.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(Lr.HEADER_SIZE,4);return e.append(i),this.encodeCompressedGtinWithoutAI(e,Lr.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,Lr.HEADER_SIZE+44)}}Lr.HEADER_SIZE=1+1+2;class Rs extends Nu{constructor(e){super(e)}parseInformation(){let e=new xe;return this.getGeneralDecoder().decodeAllCodes(e,Rs.HEADER_SIZE)}}Rs.HEADER_SIZE=2+1+2;class bs extends _t{constructor(e){super(e)}encodeCompressedWeight(e,n,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(e,o);let l=this.checkWeight(o),a=1e5;for(let u=0;u<5;++u)l/a===0&&e.append("0"),a/=10;e.append(l)}}class xn extends bs{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=xn.HEADER_SIZE+bs.GTIN_SIZE+xn.WEIGHT_SIZE)throw new U;let e=new xe;return this.encodeCompressedGtin(e,xn.HEADER_SIZE),this.encodeCompressedWeight(e,xn.HEADER_SIZE+bs.GTIN_SIZE,xn.WEIGHT_SIZE),e.toString()}}xn.HEADER_SIZE=4+1,xn.WEIGHT_SIZE=15;class mf extends xn{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class wf extends xn{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class pn extends _t{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<pn.HEADER_SIZE+_t.GTIN_SIZE)throw new U;let e=new xe;this.encodeCompressedGtin(e,pn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(pn.HEADER_SIZE+_t.GTIN_SIZE,pn.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(pn.HEADER_SIZE+_t.GTIN_SIZE+pn.LAST_DIGIT_SIZE,null);return e.append(i.getNewString()),e.toString()}}pn.HEADER_SIZE=5+1+2,pn.LAST_DIGIT_SIZE=2;class St extends _t{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<St.HEADER_SIZE+_t.GTIN_SIZE)throw new U;let e=new xe;this.encodeCompressedGtin(e,St.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(St.HEADER_SIZE+_t.GTIN_SIZE,St.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(St.HEADER_SIZE+_t.GTIN_SIZE+St.LAST_DIGIT_SIZE,St.FIRST_THREE_DIGITS_SIZE);i/100==0&&e.append("0"),i/10==0&&e.append("0"),e.append(i);let o=this.getGeneralDecoder().decodeGeneralPurposeField(St.HEADER_SIZE+_t.GTIN_SIZE+St.LAST_DIGIT_SIZE+St.FIRST_THREE_DIGITS_SIZE,null);return e.append(o.getNewString()),e.toString()}}St.HEADER_SIZE=5+1+2,St.LAST_DIGIT_SIZE=2,St.FIRST_THREE_DIGITS_SIZE=10;class We extends bs{constructor(e,n,i){super(e),this.dateCode=i,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=We.HEADER_SIZE+We.GTIN_SIZE+We.WEIGHT_SIZE+We.DATE_SIZE)throw new U;let e=new xe;return this.encodeCompressedGtin(e,We.HEADER_SIZE),this.encodeCompressedWeight(e,We.HEADER_SIZE+We.GTIN_SIZE,We.WEIGHT_SIZE),this.encodeCompressedDate(e,We.HEADER_SIZE+We.GTIN_SIZE+We.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,We.DATE_SIZE);if(i==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let o=i%32;i/=32;let l=i%12+1;i/=12;let a=i;a/10==0&&e.append("0"),e.append(a),l/10==0&&e.append("0"),e.append(l),o/10==0&&e.append("0"),e.append(o)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}We.HEADER_SIZE=7+1,We.WEIGHT_SIZE=20,We.DATE_SIZE=16;function Ef(m){try{if(m.get(1))return new Lr(m);if(!m.get(2))return new Rs(m);switch(br.extractNumericValueFromBitArray(m,1,4)){case 4:return new mf(m);case 5:return new wf(m)}switch(br.extractNumericValueFromBitArray(m,1,5)){case 12:return new pn(m);case 13:return new St(m)}switch(br.extractNumericValueFromBitArray(m,1,7)){case 56:return new We(m,"310","11");case 57:return new We(m,"320","11");case 58:return new We(m,"310","13");case 59:return new We(m,"320","13");case 60:return new We(m,"310","15");case 61:return new We(m,"320","15");case 62:return new We(m,"310","17");case 63:return new We(m,"320","17")}}catch(e){throw console.log(e),new hn("unknown decoder: "+m)}}class Un{constructor(e,n,i,o){this.leftchar=e,this.rightchar=n,this.finderpattern=i,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof Un?Un.equalsOrNull(e.leftchar,n.leftchar)&&Un.equalsOrNull(e.rightchar,n.rightchar)&&Un.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:Un.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Jo{constructor(e,n,i){this.pairs=e,this.rowNumber=n,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof Jo?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let i;return e.forEach((o,l)=>{n.forEach(a=>{o.getLeftChar().getValue()===a.getLeftChar().getValue()&&o.getRightChar().getValue()===a.getRightChar().getValue()&&o.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(i=!0)})}),i}}class V extends mt{constructor(e){super(...arguments),this.pairs=new Array(V.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,i){this.pairs.length=0,this.startFromEven=!1;try{return V.constructResult(this.decodeRow2pairs(e,n))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,V.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(l){if(l instanceof U){if(!this.pairs.length)throw new U;i=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(e,!1),o){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new U}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let i=n;i<this.rows.length;i++){let o=this.rows[i];this.pairs.length=0;for(let a of e)this.pairs.push(a.getPairs());if(this.pairs.push(o.getPairs()),!V.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(e);l.push(o);try{return this.checkRows(l,i+1)}catch(a){this.verbose&&console.log(a)}}throw new U}static isValidSequence(e){for(let n of V.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let i=!0;for(let o=0;o<e.length;o++)if(e[o].getFinderPattern().getValue()!=n[o]){i=!1;break}if(i)return!0}return!1}storeRow(e,n){let i=0,o=!1,l=!1;for(;i<this.rows.length;){let a=this.rows[i];if(a.getRowNumber()>e){l=a.isEquivalent(this.pairs);break}o=a.isEquivalent(this.pairs),i++}l||o||V.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Jo(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let i of n)if(i.getPairs().length!==e.length){for(let o of i.getPairs())for(let l of e)if(Un.equals(o,l))break}}static isPartialRow(e,n){for(let i of n){let o=!0;for(let l of e){let a=!1;for(let u of i.getPairs())if(l.equals(u)){a=!0;break}if(!a){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=pf.buildBitArray(e),o=Ef(n).parseInformation(),l=e[0].getFinderPattern().getResultPoints(),a=e[e.length-1].getFinderPattern().getResultPoints(),u=[l[0],l[1],a[0],a[1]];return new ae(o,null,null,u,ee.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),i=e.getRightChar();if(i==null)return!1;let o=i.getChecksumPortion(),l=2;for(let u=1;u<this.pairs.size();++u){let f=this.pairs.get(u);o+=f.getLeftChar().getChecksumPortion(),l++;let h=f.getRightChar();h!=null&&(o+=h.getChecksumPortion(),l++)}return o%=211,211*(l-4)+o==n.getValue()}static getNextSecondBar(e,n){let i;return e.get(n)?(i=e.getNextUnset(n),i=e.getNextSet(i)):(i=e.getNextSet(n),i=e.getNextUnset(i)),i}retrieveNextPair(e,n,i){let o=n.length%2==0;this.startFromEven&&(o=!o);let l,a=!0,u=-1;do this.findNextPair(e,n,u),l=this.parseFoundFinderPattern(e,i,o),l==null?u=V.getNextSecondBar(e,this.startEnd[0]):a=!1;while(a);let f=this.decodeDataCharacter(e,l,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new U;let h;try{h=this.decodeDataCharacter(e,l,o,!1)}catch(x){h=null,this.verbose&&console.log(x)}return new Un(f,h,l,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),a;i>=0?a=i:this.isEmptyPair(n)?a=0:a=n[n.length-1].getFinderPattern().getStartEnd()[1];let u=n.length%2!=0;this.startFromEven&&(u=!u);let f=!1;for(;a<l&&(f=!e.get(a),!!f);)a++;let h=0,x=a;for(let w=a;w<l;w++)if(e.get(w)!=f)o[h]++;else{if(h==3){if(u&&V.reverseCounters(o),V.isFinderPattern(o)){this.startEnd[0]=x,this.startEnd[1]=w;return}u&&V.reverseCounters(o),x+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,h--}else h++;o[h]=1,f=!f}throw new U}static reverseCounters(e){let n=e.length;for(let i=0;i<n/2;++i){let o=e[i];e[i]=e[n-i-1],e[n-i-1]=o}}parseFoundFinderPattern(e,n,i){let o,l,a;if(i){let h=this.startEnd[0]-1;for(;h>=0&&!e.get(h);)h--;h++,o=this.startEnd[0]-h,l=h,a=this.startEnd[1]}else l=this.startEnd[0],a=e.getNextUnset(this.startEnd[1]+1),o=a-this.startEnd[1];let u=this.getDecodeFinderCounters();j.arraycopy(u,0,u,1,u.length-1),u[0]=o;let f;try{f=this.parseFinderValue(u,V.FINDER_PATTERNS)}catch{return null}return new Ds(f,[l,a],l,a,n)}decodeDataCharacter(e,n,i,o){let l=this.getDataCharacterCounters();for(let be=0;be<l.length;be++)l[be]=0;if(o)V.recordPatternInReverse(e,n.getStartEnd()[0],l);else{V.recordPattern(e,n.getStartEnd()[1],l);for(let be=0,ht=l.length-1;be<ht;be++,ht--){let Pt=l[be];l[be]=l[ht],l[ht]=Pt}}let a=17,u=Ie.sum(new Int32Array(l))/a,f=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(u-f)/f>.3)throw new U;let h=this.getOddCounts(),x=this.getEvenCounts(),w=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let be=0;be<l.length;be++){let ht=1*l[be]/u,Pt=ht+.5;if(Pt<1){if(ht<.3)throw new U;Pt=1}else if(Pt>8){if(ht>8.7)throw new U;Pt=8}let Ur=be/2;(be&1)==0?(h[Ur]=Pt,w[Ur]=ht-Pt):(x[Ur]=Pt,A[Ur]=ht-Pt)}this.adjustOddEvenCounts(a);let I=4*n.getValue()+(i?0:2)+(o?0:1)-1,v=0,M=0;for(let be=h.length-1;be>=0;be--){if(V.isNotA1left(n,i,o)){let ht=V.WEIGHTS[I][2*be];M+=h[be]*ht}v+=h[be]}let D=0;for(let be=x.length-1;be>=0;be--)if(V.isNotA1left(n,i,o)){let ht=V.WEIGHTS[I][2*be+1];D+=x[be]*ht}let P=M+D;if((v&1)!=0||v>13||v<4)throw new U;let W=(13-v)/2,Y=V.SYMBOL_WIDEST[W],H=9-Y,Ee=gn.getRSSvalue(h,Y,!0),pe=gn.getRSSvalue(x,H,!1),Dt=V.EVEN_TOTAL_SUBSET[W],ln=V.GSUM[W],Rt=Ee*Dt+pe+ln;return new Rr(Rt,P)}static isNotA1left(e,n,i){return!(e.getValue()==0&&n&&i)}adjustOddEvenCounts(e){let n=Ie.sum(new Int32Array(this.getOddCounts())),i=Ie.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;n>13?l=!0:n<4&&(o=!0);let a=!1,u=!1;i>13?u=!0:i<4&&(a=!0);let f=n+i-e,h=(n&1)==1,x=(i&1)==0;if(f==1)if(h){if(x)throw new U;l=!0}else{if(!x)throw new U;u=!0}else if(f==-1)if(h){if(x)throw new U;o=!0}else{if(!x)throw new U;a=!0}else if(f==0){if(h){if(!x)throw new U;n<i?(o=!0,u=!0):(l=!0,a=!0)}else if(x)throw new U}else throw new U;if(o){if(l)throw new U;V.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&V.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(u)throw new U;V.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&V.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}V.SYMBOL_WIDEST=[7,5,4,3,1],V.EVEN_TOTAL_SUBSET=[4,20,52,104,204],V.GSUM=[0,348,1388,2948,3988],V.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],V.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],V.FINDER_PAT_A=0,V.FINDER_PAT_B=1,V.FINDER_PAT_C=2,V.FINDER_PAT_D=3,V.FINDER_PAT_E=4,V.FINDER_PAT_F=5,V.FINDER_PATTERN_SEQUENCES=[[V.FINDER_PAT_A,V.FINDER_PAT_A],[V.FINDER_PAT_A,V.FINDER_PAT_B,V.FINDER_PAT_B],[V.FINDER_PAT_A,V.FINDER_PAT_C,V.FINDER_PAT_B,V.FINDER_PAT_D],[V.FINDER_PAT_A,V.FINDER_PAT_E,V.FINDER_PAT_B,V.FINDER_PAT_D,V.FINDER_PAT_C],[V.FINDER_PAT_A,V.FINDER_PAT_E,V.FINDER_PAT_B,V.FINDER_PAT_D,V.FINDER_PAT_D,V.FINDER_PAT_F],[V.FINDER_PAT_A,V.FINDER_PAT_E,V.FINDER_PAT_B,V.FINDER_PAT_D,V.FINDER_PAT_E,V.FINDER_PAT_F,V.FINDER_PAT_F],[V.FINDER_PAT_A,V.FINDER_PAT_A,V.FINDER_PAT_B,V.FINDER_PAT_B,V.FINDER_PAT_C,V.FINDER_PAT_C,V.FINDER_PAT_D,V.FINDER_PAT_D],[V.FINDER_PAT_A,V.FINDER_PAT_A,V.FINDER_PAT_B,V.FINDER_PAT_B,V.FINDER_PAT_C,V.FINDER_PAT_C,V.FINDER_PAT_D,V.FINDER_PAT_E,V.FINDER_PAT_E],[V.FINDER_PAT_A,V.FINDER_PAT_A,V.FINDER_PAT_B,V.FINDER_PAT_B,V.FINDER_PAT_C,V.FINDER_PAT_C,V.FINDER_PAT_D,V.FINDER_PAT_E,V.FINDER_PAT_F,V.FINDER_PAT_F],[V.FINDER_PAT_A,V.FINDER_PAT_A,V.FINDER_PAT_B,V.FINDER_PAT_B,V.FINDER_PAT_C,V.FINDER_PAT_D,V.FINDER_PAT_D,V.FINDER_PAT_E,V.FINDER_PAT_E,V.FINDER_PAT_F,V.FINDER_PAT_F]],V.MAX_PAIRS=11;class Af extends Rr{constructor(e,n,i){super(e,n),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ze extends mt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,i){const o=this.decodePair(n,!1,e,i);Ze.addOrTally(this.possibleLeftPairs,o),n.reverse();let l=this.decodePair(n,!0,e,i);Ze.addOrTally(this.possibleRightPairs,l),n.reverse();for(let a of this.possibleLeftPairs)if(a.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&Ze.checkChecksum(a,u))return Ze.constructResult(a,u)}throw new U}static addOrTally(e,n){if(n==null)return;let i=!1;for(let o of e)if(o.getValue()===n.getValue()){o.incrementCount(),i=!0;break}i||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let i=4537077*e.getValue()+n.getValue(),o=new String(i).toString(),l=new xe;for(let h=13-o.length;h>0;h--)l.append("0");l.append(o);let a=0;for(let h=0;h<13;h++){let x=l.charAt(h).charCodeAt(0)-"0".charCodeAt(0);a+=(h&1)===0?3*x:x}a=10-a%10,a===10&&(a=0),l.append(a.toString());let u=e.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new ae(l.toString(),null,0,[u[0],u[1],f[0],f[1]],ee.RSS_14,new Date().getTime())}static checkChecksum(e,n){let i=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,o=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o}decodePair(e,n,i,o){try{let l=this.findFinderPattern(e,n),a=this.parseFoundFinderPattern(e,i,n,l),u=o==null?null:o.get($.NEED_RESULT_POINT_CALLBACK);if(u!=null){let x=(l[0]+l[1])/2;n&&(x=e.getSize()-1-x),u.foundPossibleResultPoint(new se(x,i))}let f=this.decodeDataCharacter(e,a,!0),h=this.decodeDataCharacter(e,a,!1);return new Af(1597*f.getValue()+h.getValue(),f.getChecksumPortion()+4*h.getChecksumPortion(),a)}catch{return null}}decodeDataCharacter(e,n,i){let o=this.getDataCharacterCounters();for(let D=0;D<o.length;D++)o[D]=0;if(i)tt.recordPatternInReverse(e,n.getStartEnd()[0],o);else{tt.recordPattern(e,n.getStartEnd()[1]+1,o);for(let D=0,P=o.length-1;D<P;D++,P--){let W=o[D];o[D]=o[P],o[P]=W}}let l=i?16:15,a=Ie.sum(new Int32Array(o))/l,u=this.getOddCounts(),f=this.getEvenCounts(),h=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors();for(let D=0;D<o.length;D++){let P=o[D]/a,W=Math.floor(P+.5);W<1?W=1:W>8&&(W=8);let Y=Math.floor(D/2);(D&1)===0?(u[Y]=W,h[Y]=P-W):(f[Y]=W,x[Y]=P-W)}this.adjustOddEvenCounts(i,l);let w=0,A=0;for(let D=u.length-1;D>=0;D--)A*=9,A+=u[D],w+=u[D];let I=0,v=0;for(let D=f.length-1;D>=0;D--)I*=9,I+=f[D],v+=f[D];let M=A+3*I;if(i){if((w&1)!==0||w>12||w<4)throw new U;let D=(12-w)/2,P=Ze.OUTSIDE_ODD_WIDEST[D],W=9-P,Y=gn.getRSSvalue(u,P,!1),H=gn.getRSSvalue(f,W,!0),Ee=Ze.OUTSIDE_EVEN_TOTAL_SUBSET[D],pe=Ze.OUTSIDE_GSUM[D];return new Rr(Y*Ee+H+pe,M)}else{if((v&1)!==0||v>10||v<4)throw new U;let D=(10-v)/2,P=Ze.INSIDE_ODD_WIDEST[D],W=9-P,Y=gn.getRSSvalue(u,P,!0),H=gn.getRSSvalue(f,W,!1),Ee=Ze.INSIDE_ODD_TOTAL_SUBSET[D],pe=Ze.INSIDE_GSUM[D];return new Rr(H*Ee+Y+pe,M)}}findFinderPattern(e,n){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),l=!1,a=0;for(;a<o&&(l=!e.get(a),n!==l);)a++;let u=0,f=a;for(let h=a;h<o;h++)if(e.get(h)!==l)i[u]++;else{if(u===3){if(mt.isFinderPattern(i))return[f,h];f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,u--}else u++;i[u]=1,l=!l}throw new U}parseFoundFinderPattern(e,n,i,o){let l=e.get(o[0]),a=o[0]-1;for(;a>=0&&l!==e.get(a);)a--;a++;const u=o[0]-a,f=this.getDecodeFinderCounters(),h=new Int32Array(f.length);j.arraycopy(f,0,h,1,f.length-1),h[0]=u;const x=this.parseFinderValue(h,Ze.FINDER_PATTERNS);let w=a,A=o[1];return i&&(w=e.getSize()-1-w,A=e.getSize()-1-A),new Ds(x,[a,o[1]],w,A,n)}adjustOddEvenCounts(e,n){let i=Ie.sum(new Int32Array(this.getOddCounts())),o=Ie.sum(new Int32Array(this.getEvenCounts())),l=!1,a=!1,u=!1,f=!1;e?(i>12?a=!0:i<4&&(l=!0),o>12?f=!0:o<4&&(u=!0)):(i>11?a=!0:i<5&&(l=!0),o>10?f=!0:o<4&&(u=!0));let h=i+o-n,x=(i&1)===(e?1:0),w=(o&1)===1;if(h===1)if(x){if(w)throw new U;a=!0}else{if(!w)throw new U;f=!0}else if(h===-1)if(x){if(w)throw new U;l=!0}else{if(!w)throw new U;u=!0}else if(h===0){if(x){if(!w)throw new U;i<o?(l=!0,f=!0):(a=!0,u=!0)}else if(w)throw new U}else throw new U;if(l){if(a)throw new U;mt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&mt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new U;mt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&mt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ze.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ze.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ze.OUTSIDE_GSUM=[0,161,961,2015,2715],Ze.INSIDE_GSUM=[0,336,1036,1516],Ze.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ze.INSIDE_ODD_WIDEST=[2,4,6,8],Ze.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Br extends tt{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const i=e?e.get($.POSSIBLE_FORMATS):null,o=e&&e.get($.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i&&((i.includes(ee.EAN_13)||i.includes(ee.UPC_A)||i.includes(ee.EAN_8)||i.includes(ee.UPC_E))&&this.readers.push(new Ko(e)),i.includes(ee.CODE_39)&&this.readers.push(new nt(o)),i.includes(ee.CODE_128)&&this.readers.push(new q),i.includes(ee.ITF)&&this.readers.push(new De),i.includes(ee.RSS_14)&&this.readers.push(new Ze),i.includes(ee.RSS_EXPANDED)&&this.readers.push(new V(this.verbose))),this.readers.length===0&&(this.readers.push(new Ko(e)),this.readers.push(new nt),this.readers.push(new Ko(e)),this.readers.push(new q),this.readers.push(new De),this.readers.push(new Ze),this.readers.push(new V(this.verbose)))}decodeRow(e,n,i){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(e,n,i)}catch{}throw new U}reset(){this.readers.forEach(e=>e.reset())}}class Cf extends le{constructor(e=500,n){super(new Br(n),e,n)}}class _e{constructor(e,n,i){this.ecCodewords=e,this.ecBlocks=[n],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Me{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ye{constructor(e,n,i,o,l,a){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=i,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=l,this.ecBlocks=a;let u=0;const f=a.getECCodewords(),h=a.getECBlocks();for(let x of h)u+=x.getCount()*(x.getDataCodewords()+f);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if((e&1)!==0||(n&1)!==0)throw new R;for(let i of ye.VERSIONS)if(i.symbolSizeRows===e&&i.symbolSizeColumns===n)return i;throw new R}toString(){return""+this.versionNumber}static buildVersions(){return[new ye(1,10,10,8,8,new _e(5,new Me(1,3))),new ye(2,12,12,10,10,new _e(7,new Me(1,5))),new ye(3,14,14,12,12,new _e(10,new Me(1,8))),new ye(4,16,16,14,14,new _e(12,new Me(1,12))),new ye(5,18,18,16,16,new _e(14,new Me(1,18))),new ye(6,20,20,18,18,new _e(18,new Me(1,22))),new ye(7,22,22,20,20,new _e(20,new Me(1,30))),new ye(8,24,24,22,22,new _e(24,new Me(1,36))),new ye(9,26,26,24,24,new _e(28,new Me(1,44))),new ye(10,32,32,14,14,new _e(36,new Me(1,62))),new ye(11,36,36,16,16,new _e(42,new Me(1,86))),new ye(12,40,40,18,18,new _e(48,new Me(1,114))),new ye(13,44,44,20,20,new _e(56,new Me(1,144))),new ye(14,48,48,22,22,new _e(68,new Me(1,174))),new ye(15,52,52,24,24,new _e(42,new Me(2,102))),new ye(16,64,64,14,14,new _e(56,new Me(2,140))),new ye(17,72,72,16,16,new _e(36,new Me(4,92))),new ye(18,80,80,18,18,new _e(48,new Me(4,114))),new ye(19,88,88,20,20,new _e(56,new Me(4,144))),new ye(20,96,96,22,22,new _e(68,new Me(4,174))),new ye(21,104,104,24,24,new _e(56,new Me(6,136))),new ye(22,120,120,18,18,new _e(68,new Me(6,175))),new ye(23,132,132,20,20,new _e(62,new Me(8,163))),new ye(24,144,144,22,22,new _e(62,new Me(8,156),new Me(2,155))),new ye(25,8,18,6,16,new _e(7,new Me(1,5))),new ye(26,8,32,6,14,new _e(11,new Me(1,10))),new ye(27,12,26,10,24,new _e(14,new Me(1,16))),new ye(28,12,36,10,16,new _e(18,new Me(1,22))),new ye(29,16,36,14,16,new _e(24,new Me(1,32))),new ye(30,16,48,14,22,new _e(28,new Me(1,49)))]}}ye.VERSIONS=ye.buildVersions();class $o{constructor(e){const n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new R;this.version=$o.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Ce(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),i=e.getWidth();return ye.getVersionForDimensions(n,i)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,i=4,o=0;const l=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth();let u=!1,f=!1,h=!1,x=!1;do if(i===l&&o===0&&!u)e[n++]=this.readCorner1(l,a)&255,i-=2,o+=2,u=!0;else if(i===l-2&&o===0&&(a&3)!==0&&!f)e[n++]=this.readCorner2(l,a)&255,i-=2,o+=2,f=!0;else if(i===l+4&&o===2&&(a&7)===0&&!h)e[n++]=this.readCorner3(l,a)&255,i-=2,o+=2,h=!0;else if(i===l-2&&o===0&&(a&7)===4&&!x)e[n++]=this.readCorner4(l,a)&255,i-=2,o+=2,x=!0;else{do i<l&&o>=0&&!this.readMappingMatrix.get(o,i)&&(e[n++]=this.readUtah(i,o,l,a)&255),i-=2,o+=2;while(i>=0&&o<a);i+=1,o+=3;do i>=0&&o<a&&!this.readMappingMatrix.get(o,i)&&(e[n++]=this.readUtah(i,o,l,a)&255),i+=2,o-=2;while(i<l&&o>=0);i+=3,o+=1}while(i<l||o<a);if(n!==this.version.getTotalCodewords())throw new R;return e}readModule(e,n,i,o){return e<0&&(e+=i,n+=4-(i+4&7)),n<0&&(n+=o,e+=4-(o+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,i,o){let l=0;return this.readModule(e-2,n-2,i,o)&&(l|=1),l<<=1,this.readModule(e-2,n-1,i,o)&&(l|=1),l<<=1,this.readModule(e-1,n-2,i,o)&&(l|=1),l<<=1,this.readModule(e-1,n-1,i,o)&&(l|=1),l<<=1,this.readModule(e-1,n,i,o)&&(l|=1),l<<=1,this.readModule(e,n-2,i,o)&&(l|=1),l<<=1,this.readModule(e,n-1,i,o)&&(l|=1),l<<=1,this.readModule(e,n,i,o)&&(l|=1),l}readCorner1(e,n){let i=0;return this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,1,e,n)&&(i|=1),i<<=1,this.readModule(e-1,2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(2,n-1,e,n)&&(i|=1),i<<=1,this.readModule(3,n-1,e,n)&&(i|=1),i}readCorner2(e,n){let i=0;return this.readModule(e-3,0,e,n)&&(i|=1),i<<=1,this.readModule(e-2,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(0,n-4,e,n)&&(i|=1),i<<=1,this.readModule(0,n-3,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i}readCorner3(e,n){let i=0;return this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(0,n-3,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-3,e,n)&&(i|=1),i<<=1,this.readModule(1,n-2,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i}readCorner4(e,n){let i=0;return this.readModule(e-3,0,e,n)&&(i|=1),i<<=1,this.readModule(e-2,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(2,n-1,e,n)&&(i|=1),i<<=1,this.readModule(3,n-1,e,n)&&(i|=1),i}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new O("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),a=n/o|0,u=i/l|0,f=a*o,h=u*l,x=new Ce(h,f);for(let w=0;w<a;++w){const A=w*o;for(let I=0;I<u;++I){const v=I*l;for(let M=0;M<o;++M){const D=w*(o+2)+1+M,P=A+M;for(let W=0;W<l;++W){const Y=I*(l+2)+1+W;if(e.get(Y,D)){const H=v+W;x.set(H,P)}}}}}return x}}class el{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const i=n.getECBlocks();let o=0;const l=i.getECBlocks();for(let M of l)o+=M.getCount();const a=new Array(o);let u=0;for(let M of l)for(let D=0;D<M.getCount();D++){const P=M.getDataCodewords(),W=i.getECCodewords()+P;a[u++]=new el(P,new Uint8Array(W))}const h=a[0].codewords.length-i.getECCodewords(),x=h-1;let w=0;for(let M=0;M<x;M++)for(let D=0;D<u;D++)a[D].codewords[M]=e[w++];const A=n.getVersionNumber()===24,I=A?8:u;for(let M=0;M<I;M++)a[M].codewords[h-1]=e[w++];const v=a[0].codewords.length;for(let M=h;M<v;M++)for(let D=0;D<u;D++){const P=A?(D+8)%u:D,W=A&&P>7?M-1:M;a[P].codewords[W]=e[w++]}if(w!==e.length)throw new O;return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class tl{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new O(""+e);let n=0,i=this.bitOffset,o=this.byteOffset;const l=this.bytes;if(i>0){const a=8-i,u=e<a?e:a,f=a-u,h=255>>8-u<<f;n=(l[o]&h)>>f,e-=u,i+=u,i===8&&(i=0,o++)}if(e>0){for(;e>=8;)n=n<<8|l[o]&255,o++,e-=8;if(e>0){const a=8-e,u=255>>a<<a;n=n<<e|(l[o]&u)>>a,i+=e}}return this.bitOffset=i,this.byteOffset=o,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var rt;(function(m){m[m.PAD_ENCODE=0]="PAD_ENCODE",m[m.ASCII_ENCODE=1]="ASCII_ENCODE",m[m.C40_ENCODE=2]="C40_ENCODE",m[m.TEXT_ENCODE=3]="TEXT_ENCODE",m[m.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",m[m.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",m[m.BASE256_ENCODE=6]="BASE256_ENCODE"})(rt||(rt={}));class zn{static decode(e){const n=new tl(e),i=new xe,o=new xe,l=new Array;let a=rt.ASCII_ENCODE;do if(a===rt.ASCII_ENCODE)a=this.decodeAsciiSegment(n,i,o);else{switch(a){case rt.C40_ENCODE:this.decodeC40Segment(n,i);break;case rt.TEXT_ENCODE:this.decodeTextSegment(n,i);break;case rt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,i);break;case rt.EDIFACT_ENCODE:this.decodeEdifactSegment(n,i);break;case rt.BASE256_ENCODE:this.decodeBase256Segment(n,i,l);break;default:throw new R}a=rt.ASCII_ENCODE}while(a!==rt.PAD_ENCODE&&n.available()>0);return o.length()>0&&i.append(o.toString()),new rn(e,i.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(e,n,i){let o=!1;do{let l=e.readBits(8);if(l===0)throw new R;if(l<=128)return o&&(l+=128),n.append(String.fromCharCode(l-1)),rt.ASCII_ENCODE;if(l===129)return rt.PAD_ENCODE;if(l<=229){const a=l-130;a<10&&n.append("0"),n.append(""+a)}else switch(l){case 230:return rt.C40_ENCODE;case 231:return rt.BASE256_ENCODE;case 232:n.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:o=!0;break;case 236:n.append("[)>05"),i.insert(0,"");break;case 237:n.append("[)>06"),i.insert(0,"");break;case 238:return rt.ANSIX12_ENCODE;case 239:return rt.TEXT_ENCODE;case 240:return rt.EDIFACT_ENCODE;case 241:break;default:if(l!==254||e.available()!==0)throw new R;break}}while(e.available()>0);return rt.ASCII_ENCODE}static decodeC40Segment(e,n){let i=!1;const o=[];let l=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),o);for(let u=0;u<3;u++){const f=o[u];switch(l){case 0:if(f<3)l=f+1;else if(f<this.C40_BASIC_SET_CHARS.length){const h=this.C40_BASIC_SET_CHARS[f];i?(n.append(String.fromCharCode(h.charCodeAt(0)+128)),i=!1):n.append(h)}else throw new R;break;case 1:i?(n.append(String.fromCharCode(f+128)),i=!1):n.append(String.fromCharCode(f)),l=0;break;case 2:if(f<this.C40_SHIFT2_SET_CHARS.length){const h=this.C40_SHIFT2_SET_CHARS[f];i?(n.append(String.fromCharCode(h.charCodeAt(0)+128)),i=!1):n.append(h)}else switch(f){case 27:n.append(String.fromCharCode(29));break;case 30:i=!0;break;default:throw new R}l=0;break;case 3:i?(n.append(String.fromCharCode(f+224)),i=!1):n.append(String.fromCharCode(f+96)),l=0;break;default:throw new R}}}while(e.available()>0)}static decodeTextSegment(e,n){let i=!1,o=[],l=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),o);for(let u=0;u<3;u++){const f=o[u];switch(l){case 0:if(f<3)l=f+1;else if(f<this.TEXT_BASIC_SET_CHARS.length){const h=this.TEXT_BASIC_SET_CHARS[f];i?(n.append(String.fromCharCode(h.charCodeAt(0)+128)),i=!1):n.append(h)}else throw new R;break;case 1:i?(n.append(String.fromCharCode(f+128)),i=!1):n.append(String.fromCharCode(f)),l=0;break;case 2:if(f<this.TEXT_SHIFT2_SET_CHARS.length){const h=this.TEXT_SHIFT2_SET_CHARS[f];i?(n.append(String.fromCharCode(h.charCodeAt(0)+128)),i=!1):n.append(h)}else switch(f){case 27:n.append(String.fromCharCode(29));break;case 30:i=!0;break;default:throw new R}l=0;break;case 3:if(f<this.TEXT_SHIFT3_SET_CHARS.length){const h=this.TEXT_SHIFT3_SET_CHARS[f];i?(n.append(String.fromCharCode(h.charCodeAt(0)+128)),i=!1):n.append(h),l=0}else throw new R;break;default:throw new R}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const i=[];do{if(e.available()===8)return;const o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(let l=0;l<3;l++){const a=i[l];switch(a){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(a<14)n.append(String.fromCharCode(a+44));else if(a<40)n.append(String.fromCharCode(a+51));else throw new R;break}}}while(e.available()>0)}static parseTwoBytes(e,n,i){let o=(e<<8)+n-1,l=Math.floor(o/1600);i[0]=l,o-=l*1600,l=Math.floor(o/40),i[1]=l,i[2]=o-l*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let i=0;i<4;i++){let o=e.readBits(6);if(o===31){const l=8-e.getBitOffset();l!==8&&e.readBits(l);return}(o&32)===0&&(o|=64),n.append(String.fromCharCode(o))}}while(e.available()>0)}static decodeBase256Segment(e,n,i){let o=1+e.getByteOffset();const l=this.unrandomize255State(e.readBits(8),o++);let a;if(l===0?a=e.available()/8|0:l<250?a=l:a=250*(l-249)+this.unrandomize255State(e.readBits(8),o++),a<0)throw new R;const u=new Uint8Array(a);for(let f=0;f<a;f++){if(e.available()<8)throw new R;u[f]=this.unrandomize255State(e.readBits(8),o++)}i.push(u);try{n.append(Ae.decode(u,fe.ISO88591))}catch(f){throw new hn("Platform does not support required encoding: "+f.message)}}static unrandomize255State(e,n){const i=149*n%255+1,o=e-i;return o>=0?o:o+256}}zn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],zn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],zn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],zn.TEXT_SHIFT2_SET_CHARS=zn.C40_SHIFT2_SET_CHARS,zn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class yf{constructor(){this.rsDecoder=new wi(ve.DATA_MATRIX_FIELD_256)}decode(e){const n=new $o(e),i=n.getVersion(),o=n.readCodewords(),l=el.getDataBlocks(o,i);let a=0;for(let h of l)a+=h.getNumDataCodewords();const u=new Uint8Array(a),f=l.length;for(let h=0;h<f;h++){const x=l[h],w=x.getCodewords(),A=x.getNumDataCodewords();this.correctErrors(w,A);for(let I=0;I<A;I++)u[I*f+h]=w[I]}return zn.decode(u)}correctErrors(e,n){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-n)}catch{throw new L}for(let o=0;o<n;o++)e[o]=i[o]}}class $e{constructor(e){this.image=e,this.rectangleDetector=new Mn(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new U;n=this.shiftToModuleCenter(n);const i=n[0],o=n[1],l=n[2],a=n[3];let u=this.transitionsBetween(i,a)+1,f=this.transitionsBetween(l,a)+1;(u&1)===1&&(u+=1),(f&1)===1&&(f+=1),4*u<7*f&&4*f<7*u&&(u=f=Math.max(u,f));let h=$e.sampleGrid(this.image,i,o,l,a,u,f);return new _s(h,[i,o,l,a])}static shiftPoint(e,n,i){let o=(n.getX()-e.getX())/(i+1),l=(n.getY()-e.getY())/(i+1);return new se(e.getX()+o,e.getY()+l)}static moveAway(e,n,i){let o=e.getX(),l=e.getY();return o<n?o-=1:o+=1,l<i?l-=1:l+=1,new se(o,l)}detectSolid1(e){let n=e[0],i=e[1],o=e[3],l=e[2],a=this.transitionsBetween(n,i),u=this.transitionsBetween(i,o),f=this.transitionsBetween(o,l),h=this.transitionsBetween(l,n),x=a,w=[l,n,i,o];return x>u&&(x=u,w[0]=n,w[1]=i,w[2]=o,w[3]=l),x>f&&(x=f,w[0]=i,w[1]=o,w[2]=l,w[3]=n),x>h&&(w[0]=o,w[1]=l,w[2]=n,w[3]=i),w}detectSolid2(e){let n=e[0],i=e[1],o=e[2],l=e[3],a=this.transitionsBetween(n,l),u=$e.shiftPoint(i,o,(a+1)*4),f=$e.shiftPoint(o,i,(a+1)*4),h=this.transitionsBetween(u,n),x=this.transitionsBetween(f,l);return h<x?(e[0]=n,e[1]=i,e[2]=o,e[3]=l):(e[0]=i,e[1]=o,e[2]=l,e[3]=n),e}correctTopRight(e){let n=e[0],i=e[1],o=e[2],l=e[3],a=this.transitionsBetween(n,l),u=this.transitionsBetween(i,l),f=$e.shiftPoint(n,i,(u+1)*4),h=$e.shiftPoint(o,i,(a+1)*4);a=this.transitionsBetween(f,l),u=this.transitionsBetween(h,l);let x=new se(l.getX()+(o.getX()-i.getX())/(a+1),l.getY()+(o.getY()-i.getY())/(a+1)),w=new se(l.getX()+(n.getX()-i.getX())/(u+1),l.getY()+(n.getY()-i.getY())/(u+1));if(!this.isValid(x))return this.isValid(w)?w:null;if(!this.isValid(w))return x;let A=this.transitionsBetween(f,x)+this.transitionsBetween(h,x),I=this.transitionsBetween(f,w)+this.transitionsBetween(h,w);return A>I?x:w}shiftToModuleCenter(e){let n=e[0],i=e[1],o=e[2],l=e[3],a=this.transitionsBetween(n,l)+1,u=this.transitionsBetween(o,l)+1,f=$e.shiftPoint(n,i,u*4),h=$e.shiftPoint(o,i,a*4);a=this.transitionsBetween(f,l)+1,u=this.transitionsBetween(h,l)+1,(a&1)===1&&(a+=1),(u&1)===1&&(u+=1);let x=(n.getX()+i.getX()+o.getX()+l.getX())/4,w=(n.getY()+i.getY()+o.getY()+l.getY())/4;n=$e.moveAway(n,x,w),i=$e.moveAway(i,x,w),o=$e.moveAway(o,x,w),l=$e.moveAway(l,x,w);let A,I;return f=$e.shiftPoint(n,i,u*4),f=$e.shiftPoint(f,l,a*4),A=$e.shiftPoint(i,n,u*4),A=$e.shiftPoint(A,o,a*4),h=$e.shiftPoint(o,l,u*4),h=$e.shiftPoint(h,i,a*4),I=$e.shiftPoint(l,o,u*4),I=$e.shiftPoint(I,n,a*4),[f,A,h,I]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,i,o,l,a,u){return Fn.getInstance().sampleGrid(e,a,u,.5,.5,a-.5,.5,a-.5,u-.5,.5,u-.5,n.getX(),n.getY(),l.getX(),l.getY(),o.getX(),o.getY(),i.getX(),i.getY())}transitionsBetween(e,n){let i=Math.trunc(e.getX()),o=Math.trunc(e.getY()),l=Math.trunc(n.getX()),a=Math.trunc(n.getY()),u=Math.abs(a-o)>Math.abs(l-i);if(u){let M=i;i=o,o=M,M=l,l=a,a=M}let f=Math.abs(l-i),h=Math.abs(a-o),x=-f/2,w=o<a?1:-1,A=i<l?1:-1,I=0,v=this.image.get(u?o:i,u?i:o);for(let M=i,D=o;M!==l;M+=A){let P=this.image.get(u?D:M,u?M:D);if(P!==v&&(I++,v=P),x+=h,x>0){if(D===a)break;D+=w,x-=f}}return I}}class jn{constructor(){this.decoder=new yf}decode(e,n=null){let i,o;if(n!=null&&n.has($.PURE_BARCODE)){const h=jn.extractPureBits(e.getBlackMatrix());i=this.decoder.decode(h),o=jn.NO_POINTS}else{const h=new $e(e.getBlackMatrix()).detect();i=this.decoder.decode(h.getBits()),o=h.getPoints()}const l=i.getRawBytes(),a=new ae(i.getText(),l,8*l.length,o,ee.DATA_MATRIX,j.currentTimeMillis()),u=i.getByteSegments();u!=null&&a.putMetadata(Be.BYTE_SEGMENTS,u);const f=i.getECLevel();return f!=null&&a.putMetadata(Be.ERROR_CORRECTION_LEVEL,f),a}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(n==null||i==null)throw new U;const o=this.moduleSize(n,e);let l=n[1];const a=i[1];let u=n[0];const h=(i[0]-u+1)/o,x=(a-l+1)/o;if(h<=0||x<=0)throw new U;const w=o/2;l+=w,u+=w;const A=new Ce(h,x);for(let I=0;I<x;I++){const v=l+I*o;for(let M=0;M<h;M++)e.get(u+M*o,v)&&A.set(M,I)}return A}static moduleSize(e,n){const i=n.getWidth();let o=e[0];const l=e[1];for(;o<i&&n.get(o,l);)o++;if(o===i)throw new U;const a=o-e[0];if(a===0)throw new U;return a}}jn.NO_POINTS=[];class If extends le{constructor(e=500){super(new jn,e)}}var kr;(function(m){m[m.L=0]="L",m[m.M=1]="M",m[m.Q=2]="Q",m[m.H=3]="H"})(kr||(kr={}));class Pe{constructor(e,n,i){this.value=e,this.stringValue=n,this.bits=i,Pe.FOR_BITS.set(i,this),Pe.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Pe.L;case"M":return Pe.M;case"Q":return Pe.Q;case"H":return Pe.H;default:throw new S(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Pe))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=Pe.FOR_BITS.size)throw new O;return Pe.FOR_BITS.get(e)}}Pe.FOR_BITS=new Map,Pe.FOR_VALUE=new Map,Pe.L=new Pe(kr.L,"L",1),Pe.M=new Pe(kr.M,"M",0),Pe.Q=new Pe(kr.Q,"Q",3),Pe.H=new Pe(kr.H,"H",2);class wt{constructor(e){this.errorCorrectionLevel=Pe.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return N.bitCount(e^n)}static decodeFormatInformation(e,n){const i=wt.doDecodeFormatInformation(e,n);return i!==null?i:wt.doDecodeFormatInformation(e^wt.FORMAT_INFO_MASK_QR,n^wt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let i=Number.MAX_SAFE_INTEGER,o=0;for(const l of wt.FORMAT_INFO_DECODE_LOOKUP){const a=l[0];if(a===e||a===n)return new wt(l[1]);let u=wt.numBitsDiffering(e,a);u<i&&(o=l[1],i=u),e!==n&&(u=wt.numBitsDiffering(n,a),u<i&&(o=l[1],i=u))}return i<=3?new wt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof wt))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}wt.FORMAT_INFO_MASK_QR=21522,wt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class b{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const i of n)e+=i.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class y{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class oe{constructor(e,n,...i){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=i;let o=0;const l=i[0].getECCodewordsPerBlock(),a=i[0].getECBlocks();for(const u of a)o+=u.getCount()*(u.getDataCodewords()+l);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new R;try{return this.getVersionForNumber((e-17)/4)}catch{throw new R}}static getVersionForNumber(e){if(e<1||e>40)throw new O;return oe.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,i=0;for(let o=0;o<oe.VERSION_DECODE_INFO.length;o++){const l=oe.VERSION_DECODE_INFO[o];if(l===e)return oe.getVersionForNumber(o+7);const a=wt.numBitsDiffering(e,l);a<n&&(i=o+7,n=a)}return n<=3?oe.getVersionForNumber(i):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new Ce(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const i=this.alignmentPatternCenters.length;for(let o=0;o<i;o++){const l=this.alignmentPatternCenters[o]-2;for(let a=0;a<i;a++)o===0&&(a===0||a===i-1)||o===i-1&&a===0||n.setRegion(this.alignmentPatternCenters[a]-2,l,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}oe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),oe.VERSIONS=[new oe(1,new Int32Array(0),new b(7,new y(1,19)),new b(10,new y(1,16)),new b(13,new y(1,13)),new b(17,new y(1,9))),new oe(2,Int32Array.from([6,18]),new b(10,new y(1,34)),new b(16,new y(1,28)),new b(22,new y(1,22)),new b(28,new y(1,16))),new oe(3,Int32Array.from([6,22]),new b(15,new y(1,55)),new b(26,new y(1,44)),new b(18,new y(2,17)),new b(22,new y(2,13))),new oe(4,Int32Array.from([6,26]),new b(20,new y(1,80)),new b(18,new y(2,32)),new b(26,new y(2,24)),new b(16,new y(4,9))),new oe(5,Int32Array.from([6,30]),new b(26,new y(1,108)),new b(24,new y(2,43)),new b(18,new y(2,15),new y(2,16)),new b(22,new y(2,11),new y(2,12))),new oe(6,Int32Array.from([6,34]),new b(18,new y(2,68)),new b(16,new y(4,27)),new b(24,new y(4,19)),new b(28,new y(4,15))),new oe(7,Int32Array.from([6,22,38]),new b(20,new y(2,78)),new b(18,new y(4,31)),new b(18,new y(2,14),new y(4,15)),new b(26,new y(4,13),new y(1,14))),new oe(8,Int32Array.from([6,24,42]),new b(24,new y(2,97)),new b(22,new y(2,38),new y(2,39)),new b(22,new y(4,18),new y(2,19)),new b(26,new y(4,14),new y(2,15))),new oe(9,Int32Array.from([6,26,46]),new b(30,new y(2,116)),new b(22,new y(3,36),new y(2,37)),new b(20,new y(4,16),new y(4,17)),new b(24,new y(4,12),new y(4,13))),new oe(10,Int32Array.from([6,28,50]),new b(18,new y(2,68),new y(2,69)),new b(26,new y(4,43),new y(1,44)),new b(24,new y(6,19),new y(2,20)),new b(28,new y(6,15),new y(2,16))),new oe(11,Int32Array.from([6,30,54]),new b(20,new y(4,81)),new b(30,new y(1,50),new y(4,51)),new b(28,new y(4,22),new y(4,23)),new b(24,new y(3,12),new y(8,13))),new oe(12,Int32Array.from([6,32,58]),new b(24,new y(2,92),new y(2,93)),new b(22,new y(6,36),new y(2,37)),new b(26,new y(4,20),new y(6,21)),new b(28,new y(7,14),new y(4,15))),new oe(13,Int32Array.from([6,34,62]),new b(26,new y(4,107)),new b(22,new y(8,37),new y(1,38)),new b(24,new y(8,20),new y(4,21)),new b(22,new y(12,11),new y(4,12))),new oe(14,Int32Array.from([6,26,46,66]),new b(30,new y(3,115),new y(1,116)),new b(24,new y(4,40),new y(5,41)),new b(20,new y(11,16),new y(5,17)),new b(24,new y(11,12),new y(5,13))),new oe(15,Int32Array.from([6,26,48,70]),new b(22,new y(5,87),new y(1,88)),new b(24,new y(5,41),new y(5,42)),new b(30,new y(5,24),new y(7,25)),new b(24,new y(11,12),new y(7,13))),new oe(16,Int32Array.from([6,26,50,74]),new b(24,new y(5,98),new y(1,99)),new b(28,new y(7,45),new y(3,46)),new b(24,new y(15,19),new y(2,20)),new b(30,new y(3,15),new y(13,16))),new oe(17,Int32Array.from([6,30,54,78]),new b(28,new y(1,107),new y(5,108)),new b(28,new y(10,46),new y(1,47)),new b(28,new y(1,22),new y(15,23)),new b(28,new y(2,14),new y(17,15))),new oe(18,Int32Array.from([6,30,56,82]),new b(30,new y(5,120),new y(1,121)),new b(26,new y(9,43),new y(4,44)),new b(28,new y(17,22),new y(1,23)),new b(28,new y(2,14),new y(19,15))),new oe(19,Int32Array.from([6,30,58,86]),new b(28,new y(3,113),new y(4,114)),new b(26,new y(3,44),new y(11,45)),new b(26,new y(17,21),new y(4,22)),new b(26,new y(9,13),new y(16,14))),new oe(20,Int32Array.from([6,34,62,90]),new b(28,new y(3,107),new y(5,108)),new b(26,new y(3,41),new y(13,42)),new b(30,new y(15,24),new y(5,25)),new b(28,new y(15,15),new y(10,16))),new oe(21,Int32Array.from([6,28,50,72,94]),new b(28,new y(4,116),new y(4,117)),new b(26,new y(17,42)),new b(28,new y(17,22),new y(6,23)),new b(30,new y(19,16),new y(6,17))),new oe(22,Int32Array.from([6,26,50,74,98]),new b(28,new y(2,111),new y(7,112)),new b(28,new y(17,46)),new b(30,new y(7,24),new y(16,25)),new b(24,new y(34,13))),new oe(23,Int32Array.from([6,30,54,78,102]),new b(30,new y(4,121),new y(5,122)),new b(28,new y(4,47),new y(14,48)),new b(30,new y(11,24),new y(14,25)),new b(30,new y(16,15),new y(14,16))),new oe(24,Int32Array.from([6,28,54,80,106]),new b(30,new y(6,117),new y(4,118)),new b(28,new y(6,45),new y(14,46)),new b(30,new y(11,24),new y(16,25)),new b(30,new y(30,16),new y(2,17))),new oe(25,Int32Array.from([6,32,58,84,110]),new b(26,new y(8,106),new y(4,107)),new b(28,new y(8,47),new y(13,48)),new b(30,new y(7,24),new y(22,25)),new b(30,new y(22,15),new y(13,16))),new oe(26,Int32Array.from([6,30,58,86,114]),new b(28,new y(10,114),new y(2,115)),new b(28,new y(19,46),new y(4,47)),new b(28,new y(28,22),new y(6,23)),new b(30,new y(33,16),new y(4,17))),new oe(27,Int32Array.from([6,34,62,90,118]),new b(30,new y(8,122),new y(4,123)),new b(28,new y(22,45),new y(3,46)),new b(30,new y(8,23),new y(26,24)),new b(30,new y(12,15),new y(28,16))),new oe(28,Int32Array.from([6,26,50,74,98,122]),new b(30,new y(3,117),new y(10,118)),new b(28,new y(3,45),new y(23,46)),new b(30,new y(4,24),new y(31,25)),new b(30,new y(11,15),new y(31,16))),new oe(29,Int32Array.from([6,30,54,78,102,126]),new b(30,new y(7,116),new y(7,117)),new b(28,new y(21,45),new y(7,46)),new b(30,new y(1,23),new y(37,24)),new b(30,new y(19,15),new y(26,16))),new oe(30,Int32Array.from([6,26,52,78,104,130]),new b(30,new y(5,115),new y(10,116)),new b(28,new y(19,47),new y(10,48)),new b(30,new y(15,24),new y(25,25)),new b(30,new y(23,15),new y(25,16))),new oe(31,Int32Array.from([6,30,56,82,108,134]),new b(30,new y(13,115),new y(3,116)),new b(28,new y(2,46),new y(29,47)),new b(30,new y(42,24),new y(1,25)),new b(30,new y(23,15),new y(28,16))),new oe(32,Int32Array.from([6,34,60,86,112,138]),new b(30,new y(17,115)),new b(28,new y(10,46),new y(23,47)),new b(30,new y(10,24),new y(35,25)),new b(30,new y(19,15),new y(35,16))),new oe(33,Int32Array.from([6,30,58,86,114,142]),new b(30,new y(17,115),new y(1,116)),new b(28,new y(14,46),new y(21,47)),new b(30,new y(29,24),new y(19,25)),new b(30,new y(11,15),new y(46,16))),new oe(34,Int32Array.from([6,34,62,90,118,146]),new b(30,new y(13,115),new y(6,116)),new b(28,new y(14,46),new y(23,47)),new b(30,new y(44,24),new y(7,25)),new b(30,new y(59,16),new y(1,17))),new oe(35,Int32Array.from([6,30,54,78,102,126,150]),new b(30,new y(12,121),new y(7,122)),new b(28,new y(12,47),new y(26,48)),new b(30,new y(39,24),new y(14,25)),new b(30,new y(22,15),new y(41,16))),new oe(36,Int32Array.from([6,24,50,76,102,128,154]),new b(30,new y(6,121),new y(14,122)),new b(28,new y(6,47),new y(34,48)),new b(30,new y(46,24),new y(10,25)),new b(30,new y(2,15),new y(64,16))),new oe(37,Int32Array.from([6,28,54,80,106,132,158]),new b(30,new y(17,122),new y(4,123)),new b(28,new y(29,46),new y(14,47)),new b(30,new y(49,24),new y(10,25)),new b(30,new y(24,15),new y(46,16))),new oe(38,Int32Array.from([6,32,58,84,110,136,162]),new b(30,new y(4,122),new y(18,123)),new b(28,new y(13,46),new y(32,47)),new b(30,new y(48,24),new y(14,25)),new b(30,new y(42,15),new y(32,16))),new oe(39,Int32Array.from([6,26,54,82,110,138,166]),new b(30,new y(20,117),new y(4,118)),new b(28,new y(40,47),new y(7,48)),new b(30,new y(43,24),new y(22,25)),new b(30,new y(10,15),new y(67,16))),new oe(40,Int32Array.from([6,30,58,86,114,142,170]),new b(30,new y(19,118),new y(6,119)),new b(28,new y(18,47),new y(31,48)),new b(30,new y(34,24),new y(34,25)),new b(30,new y(20,15),new y(61,16)))];var ot;(function(m){m[m.DATA_MASK_000=0]="DATA_MASK_000",m[m.DATA_MASK_001=1]="DATA_MASK_001",m[m.DATA_MASK_010=2]="DATA_MASK_010",m[m.DATA_MASK_011=3]="DATA_MASK_011",m[m.DATA_MASK_100=4]="DATA_MASK_100",m[m.DATA_MASK_101=5]="DATA_MASK_101",m[m.DATA_MASK_110=6]="DATA_MASK_110",m[m.DATA_MASK_111=7]="DATA_MASK_111"})(ot||(ot={}));class Gt{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let i=0;i<n;i++)for(let o=0;o<n;o++)this.isMasked(i,o)&&e.flip(o,i)}}Gt.values=new Map([[ot.DATA_MASK_000,new Gt(ot.DATA_MASK_000,(m,e)=>(m+e&1)===0)],[ot.DATA_MASK_001,new Gt(ot.DATA_MASK_001,(m,e)=>(m&1)===0)],[ot.DATA_MASK_010,new Gt(ot.DATA_MASK_010,(m,e)=>e%3===0)],[ot.DATA_MASK_011,new Gt(ot.DATA_MASK_011,(m,e)=>(m+e)%3===0)],[ot.DATA_MASK_100,new Gt(ot.DATA_MASK_100,(m,e)=>(Math.floor(m/2)+Math.floor(e/3)&1)===0)],[ot.DATA_MASK_101,new Gt(ot.DATA_MASK_101,(m,e)=>m*e%6===0)],[ot.DATA_MASK_110,new Gt(ot.DATA_MASK_110,(m,e)=>m*e%6<3)],[ot.DATA_MASK_111,new Gt(ot.DATA_MASK_111,(m,e)=>(m+e+m*e%3&1)===0)]]);class Sf{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new R;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let l=0;l<6;l++)e=this.copyBit(l,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let l=5;l>=0;l--)e=this.copyBit(8,l,e);const n=this.bitMatrix.getHeight();let i=0;const o=n-7;for(let l=n-1;l>=o;l--)i=this.copyBit(8,l,i);for(let l=n-8;l<n;l++)i=this.copyBit(l,8,i);if(this.parsedFormatInfo=wt.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new R}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return oe.getVersionForNumber(n);let i=0;const o=e-11;for(let a=5;a>=0;a--)for(let u=e-9;u>=o;u--)i=this.copyBit(u,a,i);let l=oe.decodeVersionInformation(i);if(l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;i=0;for(let a=5;a>=0;a--)for(let u=e-9;u>=o;u--)i=this.copyBit(a,u,i);if(l=oe.decodeVersionInformation(i),l!==null&&l.getDimensionForVersion()===e)return this.parsedVersion=l,l;throw new R}copyBit(e,n,i){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?i<<1|1:i<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),i=Gt.values.get(e.getDataMask()),o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o);const l=n.buildFunctionPattern();let a=!0;const u=new Uint8Array(n.getTotalCodewords());let f=0,h=0,x=0;for(let w=o-1;w>0;w-=2){w===6&&w--;for(let A=0;A<o;A++){const I=a?o-1-A:A;for(let v=0;v<2;v++)l.get(w-v,I)||(x++,h<<=1,this.bitMatrix.get(w-v,I)&&(h|=1),x===8&&(u[f++]=h,x=0,h=0))}a=!a}if(f!==n.getTotalCodewords())throw new R;return u}remask(){if(this.parsedFormatInfo===null)return;const e=Gt.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,i=e.getWidth();n<i;n++)for(let o=n+1,l=e.getHeight();o<l;o++)e.get(n,o)!==e.get(o,n)&&(e.flip(o,n),e.flip(n,o))}}class nl{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,i){if(e.length!==n.getTotalCodewords())throw new O;const o=n.getECBlocksForLevel(i);let l=0;const a=o.getECBlocks();for(const v of a)l+=v.getCount();const u=new Array(l);let f=0;for(const v of a)for(let M=0;M<v.getCount();M++){const D=v.getDataCodewords(),P=o.getECCodewordsPerBlock()+D;u[f++]=new nl(D,new Uint8Array(P))}const h=u[0].codewords.length;let x=u.length-1;for(;x>=0&&u[x].codewords.length!==h;)x--;x++;const w=h-o.getECCodewordsPerBlock();let A=0;for(let v=0;v<w;v++)for(let M=0;M<f;M++)u[M].codewords[v]=e[A++];for(let v=x;v<f;v++)u[v].codewords[w]=e[A++];const I=u[0].codewords.length;for(let v=w;v<I;v++)for(let M=0;M<f;M++){const D=M<x?v:v+1;u[M].codewords[D]=e[A++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Yt;(function(m){m[m.TERMINATOR=0]="TERMINATOR",m[m.NUMERIC=1]="NUMERIC",m[m.ALPHANUMERIC=2]="ALPHANUMERIC",m[m.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",m[m.BYTE=4]="BYTE",m[m.ECI=5]="ECI",m[m.KANJI=6]="KANJI",m[m.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",m[m.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",m[m.HANZI=9]="HANZI"})(Yt||(Yt={}));class ue{constructor(e,n,i,o){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=i,this.bits=o,ue.FOR_BITS.set(o,this),ue.FOR_VALUE.set(e,this)}static forBits(e){const n=ue.FOR_BITS.get(e);if(n===void 0)throw new O;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let i;return n<=9?i=0:n<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof ue))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}ue.FOR_BITS=new Map,ue.FOR_VALUE=new Map,ue.TERMINATOR=new ue(Yt.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ue.NUMERIC=new ue(Yt.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ue.ALPHANUMERIC=new ue(Yt.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ue.STRUCTURED_APPEND=new ue(Yt.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ue.BYTE=new ue(Yt.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ue.ECI=new ue(Yt.ECI,"ECI",Int32Array.from([0,0,0]),7),ue.KANJI=new ue(Yt.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ue.FNC1_FIRST_POSITION=new ue(Yt.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ue.FNC1_SECOND_POSITION=new ue(Yt.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ue.HANZI=new ue(Yt.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ye{static decode(e,n,i,o){const l=new tl(e);let a=new xe;const u=new Array;let f=-1,h=-1;try{let x=null,w=!1,A;do{if(l.available()<4)A=ue.TERMINATOR;else{const I=l.readBits(4);A=ue.forBits(I)}switch(A){case ue.TERMINATOR:break;case ue.FNC1_FIRST_POSITION:case ue.FNC1_SECOND_POSITION:w=!0;break;case ue.STRUCTURED_APPEND:if(l.available()<16)throw new R;f=l.readBits(8),h=l.readBits(8);break;case ue.ECI:const I=Ye.parseECIValue(l);if(x=F.getCharacterSetECIByValue(I),x===null)throw new R;break;case ue.HANZI:const v=l.readBits(4),M=l.readBits(A.getCharacterCountBits(n));v===Ye.GB2312_SUBSET&&Ye.decodeHanziSegment(l,a,M);break;default:const D=l.readBits(A.getCharacterCountBits(n));switch(A){case ue.NUMERIC:Ye.decodeNumericSegment(l,a,D);break;case ue.ALPHANUMERIC:Ye.decodeAlphanumericSegment(l,a,D,w);break;case ue.BYTE:Ye.decodeByteSegment(l,a,D,x,u,o);break;case ue.KANJI:Ye.decodeKanjiSegment(l,a,D);break;default:throw new R}break}}while(A!==ue.TERMINATOR)}catch{throw new R}return new rn(e,a.toString(),u.length===0?null:u,i===null?null:i.toString(),f,h)}static decodeHanziSegment(e,n,i){if(i*13>e.available())throw new R;const o=new Uint8Array(2*i);let l=0;for(;i>0;){const a=e.readBits(13);let u=a/96<<8&4294967295|a%96;u<959?u+=41377:u+=42657,o[l]=u>>8&255,o[l+1]=u&255,l+=2,i--}try{n.append(Ae.decode(o,fe.GB2312))}catch(a){throw new R(a)}}static decodeKanjiSegment(e,n,i){if(i*13>e.available())throw new R;const o=new Uint8Array(2*i);let l=0;for(;i>0;){const a=e.readBits(13);let u=a/192<<8&4294967295|a%192;u<7936?u+=33088:u+=49472,o[l]=u>>8,o[l+1]=u,l+=2,i--}try{n.append(Ae.decode(o,fe.SHIFT_JIS))}catch(a){throw new R(a)}}static decodeByteSegment(e,n,i,o,l,a){if(8*i>e.available())throw new R;const u=new Uint8Array(i);for(let h=0;h<i;h++)u[h]=e.readBits(8);let f;o===null?f=fe.guessEncoding(u,a):f=o.getName();try{n.append(Ae.decode(u,f))}catch(h){throw new R(h)}l.push(u)}static toAlphaNumericChar(e){if(e>=Ye.ALPHANUMERIC_CHARS.length)throw new R;return Ye.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,i,o){const l=n.length();for(;i>1;){if(e.available()<11)throw new R;const a=e.readBits(11);n.append(Ye.toAlphaNumericChar(Math.floor(a/45))),n.append(Ye.toAlphaNumericChar(a%45)),i-=2}if(i===1){if(e.available()<6)throw new R;n.append(Ye.toAlphaNumericChar(e.readBits(6)))}if(o)for(let a=l;a<n.length();a++)n.charAt(a)==="%"&&(a<n.length()-1&&n.charAt(a+1)==="%"?n.deleteCharAt(a+1):n.setCharAt(a,String.fromCharCode(29)))}static decodeNumericSegment(e,n,i){for(;i>=3;){if(e.available()<10)throw new R;const o=e.readBits(10);if(o>=1e3)throw new R;n.append(Ye.toAlphaNumericChar(Math.floor(o/100))),n.append(Ye.toAlphaNumericChar(Math.floor(o/10)%10)),n.append(Ye.toAlphaNumericChar(o%10)),i-=3}if(i===2){if(e.available()<7)throw new R;const o=e.readBits(7);if(o>=100)throw new R;n.append(Ye.toAlphaNumericChar(Math.floor(o/10))),n.append(Ye.toAlphaNumericChar(o%10))}else if(i===1){if(e.available()<4)throw new R;const o=e.readBits(4);if(o>=10)throw new R;n.append(Ye.toAlphaNumericChar(o))}}static parseECIValue(e){const n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){const i=e.readBits(8);return(n&63)<<8&4294967295|i}if((n&224)===192){const i=e.readBits(16);return(n&31)<<16&4294967295|i}throw new R}}Ye.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ye.GB2312_SUBSET=1;class vu{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class Tf{constructor(){this.rsDecoder=new wi(ve.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(Ce.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const i=new Sf(e);let o=null;try{return this.decodeBitMatrixParser(i,n)}catch(l){o=l}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const l=this.decodeBitMatrixParser(i,n);return l.setOther(new vu(!0)),l}catch(l){throw o!==null?o:l}}decodeBitMatrixParser(e,n){const i=e.readVersion(),o=e.readFormatInformation().getErrorCorrectionLevel(),l=e.readCodewords(),a=nl.getDataBlocks(l,i,o);let u=0;for(const x of a)u+=x.getNumDataCodewords();const f=new Uint8Array(u);let h=0;for(const x of a){const w=x.getCodewords(),A=x.getNumDataCodewords();this.correctErrors(w,A);for(let I=0;I<A;I++)f[h++]=w[I]}return Ye.decode(f,i,o,n)}correctErrors(e,n){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-n)}catch{throw new L}for(let o=0;o<n;o++)e[o]=i[o]}}class rl extends se{constructor(e,n,i){super(e,n),this.estimatedModuleSize=i}aboutEquals(e,n,i){if(Math.abs(n-this.getY())<=e&&Math.abs(i-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,n,i){const o=(this.getX()+n)/2,l=(this.getY()+e)/2,a=(this.estimatedModuleSize+i)/2;return new rl(o,l,a)}}class Ls{constructor(e,n,i,o,l,a,u){this.image=e,this.startX=n,this.startY=i,this.width=o,this.height=l,this.moduleSize=a,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,i=this.width,o=e+i,l=this.startY+n/2,a=new Int32Array(3),u=this.image;for(let f=0;f<n;f++){const h=l+((f&1)===0?Math.floor((f+1)/2):-Math.floor((f+1)/2));a[0]=0,a[1]=0,a[2]=0;let x=e;for(;x<o&&!u.get(x,h);)x++;let w=0;for(;x<o;){if(u.get(x,h))if(w===1)a[1]++;else if(w===2){if(this.foundPatternCross(a)){const A=this.handlePossibleCenter(a,h,x);if(A!==null)return A}a[0]=a[2],a[1]=1,a[2]=0,w=1}else a[++w]++;else w===1&&w++,a[w]++;x++}if(this.foundPatternCross(a)){const A=this.handlePossibleCenter(a,h,o);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new U}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,i=n/2;for(let o=0;o<3;o++)if(Math.abs(n-e[o])>=i)return!1;return!0}crossCheckVertical(e,n,i,o){const l=this.image,a=l.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let f=e;for(;f>=0&&l.get(n,f)&&u[1]<=i;)u[1]++,f--;if(f<0||u[1]>i)return NaN;for(;f>=0&&!l.get(n,f)&&u[0]<=i;)u[0]++,f--;if(u[0]>i)return NaN;for(f=e+1;f<a&&l.get(n,f)&&u[1]<=i;)u[1]++,f++;if(f===a||u[1]>i)return NaN;for(;f<a&&!l.get(n,f)&&u[2]<=i;)u[2]++,f++;if(u[2]>i)return NaN;const h=u[0]+u[1]+u[2];return 5*Math.abs(h-o)>=2*o?NaN:this.foundPatternCross(u)?Ls.centerFromEnd(u,f):NaN}handlePossibleCenter(e,n,i){const o=e[0]+e[1]+e[2],l=Ls.centerFromEnd(e,i),a=this.crossCheckVertical(n,l,2*e[1],o);if(!isNaN(a)){const u=(e[0]+e[1]+e[2])/3;for(const h of this.possibleCenters)if(h.aboutEquals(u,a,l))return h.combineEstimate(a,l,u);const f=new rl(l,a,u);this.possibleCenters.push(f),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(f)}return null}}class il extends se{constructor(e,n,i,o){super(e,n),this.estimatedModuleSize=i,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,i){if(Math.abs(n-this.getY())<=e&&Math.abs(i-this.getX())<=e){const o=Math.abs(e-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(e,n,i){const o=this.count+1,l=(this.count*this.getX()+n)/o,a=(this.count*this.getY()+e)/o,u=(this.count*this.estimatedModuleSize+i)/o;return new il(l,a,u,o)}}class Nf{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class lt{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get($.TRY_HARDER)!==void 0,i=e!=null&&e.get($.PURE_BARCODE)!==void 0,o=this.image,l=o.getHeight(),a=o.getWidth();let u=Math.floor(3*l/(4*lt.MAX_MODULES));(u<lt.MIN_SKIP||n)&&(u=lt.MIN_SKIP);let f=!1;const h=new Int32Array(5);for(let w=u-1;w<l&&!f;w+=u){h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0;let A=0;for(let I=0;I<a;I++)if(o.get(I,w))(A&1)===1&&A++,h[A]++;else if((A&1)===0)if(A===4)if(lt.foundPatternCross(h)){if(this.handlePossibleCenter(h,w,I,i)===!0)if(u=2,this.hasSkipped===!0)f=this.haveMultiplyConfirmedCenters();else{const M=this.findRowSkip();M>h[2]&&(w+=M-h[2]-u,I=a-1)}else{h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,A=3;continue}A=0,h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0}else h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,A=3;else h[++A]++;else h[A]++;lt.foundPatternCross(h)&&this.handlePossibleCenter(h,w,a,i)===!0&&(u=h[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}const x=this.selectBestPatterns();return se.orderBestPatterns(x),new Nf(x)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let l=0;l<5;l++){const a=e[l];if(a===0)return!1;n+=a}if(n<7)return!1;const i=n/7,o=i/2;return Math.abs(i-e[0])<o&&Math.abs(i-e[1])<o&&Math.abs(3*i-e[2])<3*o&&Math.abs(i-e[3])<o&&Math.abs(i-e[4])<o}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,i,o){const l=this.getCrossCheckStateCount();let a=0;const u=this.image;for(;e>=a&&n>=a&&u.get(n-a,e-a);)l[2]++,a++;if(e<a||n<a)return!1;for(;e>=a&&n>=a&&!u.get(n-a,e-a)&&l[1]<=i;)l[1]++,a++;if(e<a||n<a||l[1]>i)return!1;for(;e>=a&&n>=a&&u.get(n-a,e-a)&&l[0]<=i;)l[0]++,a++;if(l[0]>i)return!1;const f=u.getHeight(),h=u.getWidth();for(a=1;e+a<f&&n+a<h&&u.get(n+a,e+a);)l[2]++,a++;if(e+a>=f||n+a>=h)return!1;for(;e+a<f&&n+a<h&&!u.get(n+a,e+a)&&l[3]<i;)l[3]++,a++;if(e+a>=f||n+a>=h||l[3]>=i)return!1;for(;e+a<f&&n+a<h&&u.get(n+a,e+a)&&l[4]<i;)l[4]++,a++;if(l[4]>=i)return!1;const x=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(x-o)<2*o&&lt.foundPatternCross(l)}crossCheckVertical(e,n,i,o){const l=this.image,a=l.getHeight(),u=this.getCrossCheckStateCount();let f=e;for(;f>=0&&l.get(n,f);)u[2]++,f--;if(f<0)return NaN;for(;f>=0&&!l.get(n,f)&&u[1]<=i;)u[1]++,f--;if(f<0||u[1]>i)return NaN;for(;f>=0&&l.get(n,f)&&u[0]<=i;)u[0]++,f--;if(u[0]>i)return NaN;for(f=e+1;f<a&&l.get(n,f);)u[2]++,f++;if(f===a)return NaN;for(;f<a&&!l.get(n,f)&&u[3]<i;)u[3]++,f++;if(f===a||u[3]>=i)return NaN;for(;f<a&&l.get(n,f)&&u[4]<i;)u[4]++,f++;if(u[4]>=i)return NaN;const h=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(h-o)>=2*o?NaN:lt.foundPatternCross(u)?lt.centerFromEnd(u,f):NaN}crossCheckHorizontal(e,n,i,o){const l=this.image,a=l.getWidth(),u=this.getCrossCheckStateCount();let f=e;for(;f>=0&&l.get(f,n);)u[2]++,f--;if(f<0)return NaN;for(;f>=0&&!l.get(f,n)&&u[1]<=i;)u[1]++,f--;if(f<0||u[1]>i)return NaN;for(;f>=0&&l.get(f,n)&&u[0]<=i;)u[0]++,f--;if(u[0]>i)return NaN;for(f=e+1;f<a&&l.get(f,n);)u[2]++,f++;if(f===a)return NaN;for(;f<a&&!l.get(f,n)&&u[3]<i;)u[3]++,f++;if(f===a||u[3]>=i)return NaN;for(;f<a&&l.get(f,n)&&u[4]<i;)u[4]++,f++;if(u[4]>=i)return NaN;const h=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(h-o)>=o?NaN:lt.foundPatternCross(u)?lt.centerFromEnd(u,f):NaN}handlePossibleCenter(e,n,i,o){const l=e[0]+e[1]+e[2]+e[3]+e[4];let a=lt.centerFromEnd(e,i),u=this.crossCheckVertical(n,Math.floor(a),e[2],l);if(!isNaN(u)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(u),e[2],l),!isNaN(a)&&(!o||this.crossCheckDiagonal(Math.floor(u),Math.floor(a),e[2],l)))){const f=l/7;let h=!1;const x=this.possibleCenters;for(let w=0,A=x.length;w<A;w++){const I=x[w];if(I.aboutEquals(f,u,a)){x[w]=I.combineEstimate(u,a,f),h=!0;break}}if(!h){const w=new il(a,u,f);x.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const i of this.possibleCenters)if(i.getCount()>=lt.CENTER_QUORUM)if(n==null)n=i;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-i.getX())-Math.abs(n.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const i=this.possibleCenters.length;for(const a of this.possibleCenters)a.getCount()>=lt.CENTER_QUORUM&&(e++,n+=a.getEstimatedModuleSize());if(e<3)return!1;const o=n/i;let l=0;for(const a of this.possibleCenters)l+=Math.abs(a.getEstimatedModuleSize()-o);return l<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new U;const n=this.possibleCenters;let i;if(e>3){let o=0,l=0;for(const f of this.possibleCenters){const h=f.getEstimatedModuleSize();o+=h,l+=h*h}i=o/e;let a=Math.sqrt(l/e-i*i);n.sort((f,h)=>{const x=Math.abs(h.getEstimatedModuleSize()-i),w=Math.abs(f.getEstimatedModuleSize()-i);return x<w?-1:x>w?1:0});const u=Math.max(.2*i,a);for(let f=0;f<n.length&&n.length>3;f++){const h=n[f];Math.abs(h.getEstimatedModuleSize()-i)>u&&(n.splice(f,1),f--)}}if(n.length>3){let o=0;for(const l of n)o+=l.getEstimatedModuleSize();i=o/n.length,n.sort((l,a)=>{if(a.getCount()===l.getCount()){const u=Math.abs(a.getEstimatedModuleSize()-i),f=Math.abs(l.getEstimatedModuleSize()-i);return u<f?1:u>f?-1:0}else return a.getCount()-l.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}lt.CENTER_QUORUM=2,lt.MIN_SKIP=3,lt.MAX_MODULES=57;class Ai{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get($.NEED_RESULT_POINT_CALLBACK);const i=new lt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(i)}processFinderPatternInfo(e){const n=e.getTopLeft(),i=e.getTopRight(),o=e.getBottomLeft(),l=this.calculateModuleSize(n,i,o);if(l<1)throw new U("No pattern found in proccess finder.");const a=Ai.computeDimension(n,i,o,l),u=oe.getProvisionalVersionForDimension(a),f=u.getDimensionForVersion()-7;let h=null;if(u.getAlignmentPatternCenters().length>0){const I=i.getX()-n.getX()+o.getX(),v=i.getY()-n.getY()+o.getY(),M=1-3/f,D=Math.floor(n.getX()+M*(I-n.getX())),P=Math.floor(n.getY()+M*(v-n.getY()));for(let W=4;W<=16;W<<=1)try{h=this.findAlignmentInRegion(l,D,P,W);break}catch(Y){if(!(Y instanceof U))throw Y}}const x=Ai.createTransform(n,i,o,h,a),w=Ai.sampleGrid(this.image,x,a);let A;return h===null?A=[o,n,i]:A=[o,n,i,h],new _s(w,A)}static createTransform(e,n,i,o,l){const a=l-3.5;let u,f,h,x;return o!==null?(u=o.getX(),f=o.getY(),h=a-3,x=h):(u=n.getX()-e.getX()+i.getX(),f=n.getY()-e.getY()+i.getY(),h=a,x=a),sn.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,h,x,3.5,a,e.getX(),e.getY(),n.getX(),n.getY(),u,f,i.getX(),i.getY())}static sampleGrid(e,n,i){return Fn.getInstance().sampleGridWithTransform(e,i,i,n)}static computeDimension(e,n,i,o){const l=Ie.round(se.distance(e,n)/o),a=Ie.round(se.distance(e,i)/o);let u=Math.floor((l+a)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new U("Dimensions could be not found.")}return u}calculateModuleSize(e,n,i){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,i))/2}calculateModuleSizeOneWay(e,n){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(i)?o/7:isNaN(o)?i/7:(i+o)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,i,o){let l=this.sizeOfBlackWhiteBlackRun(e,n,i,o),a=1,u=e-(i-e);u<0?(a=e/(e-u),u=0):u>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);let f=Math.floor(n-(o-n)*a);return a=1,f<0?(a=n/(n-f),f=0):f>=this.image.getHeight()&&(a=(this.image.getHeight()-1-n)/(f-n),f=this.image.getHeight()-1),u=Math.floor(e+(u-e)*a),l+=this.sizeOfBlackWhiteBlackRun(e,n,u,f),l-1}sizeOfBlackWhiteBlackRun(e,n,i,o){const l=Math.abs(o-n)>Math.abs(i-e);if(l){let I=e;e=n,n=I,I=i,i=o,o=I}const a=Math.abs(i-e),u=Math.abs(o-n);let f=-a/2;const h=e<i?1:-1,x=n<o?1:-1;let w=0;const A=i+h;for(let I=e,v=n;I!==A;I+=h){const M=l?v:I,D=l?I:v;if(w===1===this.image.get(M,D)){if(w===2)return Ie.distance(I,v,e,n);w++}if(f+=u,f>0){if(v===o)break;v+=x,f-=a}}return w===2?Ie.distance(i+h,o,e,n):NaN}findAlignmentInRegion(e,n,i,o){const l=Math.floor(o*e),a=Math.max(0,n-l),u=Math.min(this.image.getWidth()-1,n+l);if(u-a<e*3)throw new U("Alignment top exceeds estimated module size.");const f=Math.max(0,i-l),h=Math.min(this.image.getHeight()-1,i+l);if(h-f<e*3)throw new U("Alignment bottom exceeds estimated module size.");return new Ls(this.image,a,f,u-a,h-f,e,this.resultPointCallback).find()}}class Vn{constructor(){this.decoder=new Tf}getDecoder(){return this.decoder}decode(e,n){let i,o;if(n!=null&&n.get($.PURE_BARCODE)!==void 0){const f=Vn.extractPureBits(e.getBlackMatrix());i=this.decoder.decodeBitMatrix(f,n),o=Vn.NO_POINTS}else{const f=new Ai(e.getBlackMatrix()).detect(n);i=this.decoder.decodeBitMatrix(f.getBits(),n),o=f.getPoints()}i.getOther()instanceof vu&&i.getOther().applyMirroredCorrection(o);const l=new ae(i.getText(),i.getRawBytes(),void 0,o,ee.QR_CODE,void 0),a=i.getByteSegments();a!==null&&l.putMetadata(Be.BYTE_SEGMENTS,a);const u=i.getECLevel();return u!==null&&l.putMetadata(Be.ERROR_CORRECTION_LEVEL,u),i.hasStructuredAppend()&&(l.putMetadata(Be.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),l.putMetadata(Be.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),l}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(n===null||i===null)throw new U;const o=this.moduleSize(n,e);let l=n[1],a=i[1],u=n[0],f=i[0];if(u>=f||l>=a)throw new U;if(a-l!==f-u&&(f=u+(a-l),f>=e.getWidth()))throw new U;const h=Math.round((f-u+1)/o),x=Math.round((a-l+1)/o);if(h<=0||x<=0)throw new U;if(x!==h)throw new U;const w=Math.floor(o/2);l+=w,u+=w;const A=u+Math.floor((h-1)*o)-f;if(A>0){if(A>w)throw new U;u-=A}const I=l+Math.floor((x-1)*o)-a;if(I>0){if(I>w)throw new U;l-=I}const v=new Ce(h,x);for(let M=0;M<x;M++){const D=l+Math.floor(M*o);for(let P=0;P<h;P++)e.get(u+Math.floor(P*o),D)&&v.set(P,M)}return v}static moduleSize(e,n){const i=n.getHeight(),o=n.getWidth();let l=e[0],a=e[1],u=!0,f=0;for(;l<o&&a<i;){if(u!==n.get(l,a)){if(++f===5)break;u=!u}l++,a++}if(l===o||a===i)throw new U;return(l-e[0])/7}}Vn.NO_POINTS=new Array;class de{PDF417Common(){}static getBitCountSum(e){return Ie.sum(e)}static toIntArray(e){if(e==null||!e.length)return de.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let i=0;for(const o of e)n[i++]=o;return n}static getCodeword(e){const n=T.binarySearch(de.SYMBOL_TABLE,e&262143);return n<0?-1:(de.CODEWORD_TABLE[n]-1)%de.NUMBER_OF_CODEWORDS}}de.NUMBER_OF_CODEWORDS=929,de.MAX_CODEWORDS_IN_BARCODE=de.NUMBER_OF_CODEWORDS-1,de.MIN_ROWS_IN_BARCODE=3,de.MAX_ROWS_IN_BARCODE=90,de.MODULES_IN_CODEWORD=17,de.MODULES_IN_STOP_PATTERN=18,de.BARS_IN_MODULE=8,de.EMPTY_INT_ARRAY=new Int32Array([]),de.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),de.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class vf{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class me{static detectMultiple(e,n,i){let o=e.getBlackMatrix(),l=me.detect(i,o);return l.length||(o=o.clone(),o.rotate180(),l=me.detect(i,o)),new vf(o,l)}static detect(e,n){const i=new Array;let o=0,l=0,a=!1;for(;o<n.getHeight();){const u=me.findVertices(n,o,l);if(u[0]==null&&u[3]==null){if(!a)break;a=!1,l=0;for(const f of i)f[1]!=null&&(o=Math.trunc(Math.max(o,f[1].getY()))),f[3]!=null&&(o=Math.max(o,Math.trunc(f[3].getY())));o+=me.ROW_STEP;continue}if(a=!0,i.push(u),!e)break;u[2]!=null?(l=Math.trunc(u[2].getX()),o=Math.trunc(u[2].getY())):(l=Math.trunc(u[4].getX()),o=Math.trunc(u[4].getY()))}return i}static findVertices(e,n,i){const o=e.getHeight(),l=e.getWidth(),a=new Array(8);return me.copyToResult(a,me.findRowsWithPattern(e,o,l,n,i,me.START_PATTERN),me.INDEXES_START_PATTERN),a[4]!=null&&(i=Math.trunc(a[4].getX()),n=Math.trunc(a[4].getY())),me.copyToResult(a,me.findRowsWithPattern(e,o,l,n,i,me.STOP_PATTERN),me.INDEXES_STOP_PATTERN),a}static copyToResult(e,n,i){for(let o=0;o<i.length;o++)e[i[o]]=n[o]}static findRowsWithPattern(e,n,i,o,l,a){const u=new Array(4);let f=!1;const h=new Int32Array(a.length);for(;o<n;o+=me.ROW_STEP){let w=me.findGuardPattern(e,l,o,i,!1,a,h);if(w!=null){for(;o>0;){const A=me.findGuardPattern(e,l,--o,i,!1,a,h);if(A!=null)w=A;else{o++;break}}u[0]=new se(w[0],o),u[1]=new se(w[1],o),f=!0;break}}let x=o+1;if(f){let w=0,A=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;x<n;x++){const I=me.findGuardPattern(e,A[0],x,i,!1,a,h);if(I!=null&&Math.abs(A[0]-I[0])<me.MAX_PATTERN_DRIFT&&Math.abs(A[1]-I[1])<me.MAX_PATTERN_DRIFT)A=I,w=0;else{if(w>me.SKIPPED_ROW_COUNT_MAX)break;w++}}x-=w+1,u[2]=new se(A[0],x),u[3]=new se(A[1],x)}return x-o<me.BARCODE_MIN_HEIGHT&&T.fill(u,null),u}static findGuardPattern(e,n,i,o,l,a,u){T.fillWithin(u,0,u.length,0);let f=n,h=0;for(;e.get(f,i)&&f>0&&h++<me.MAX_PIXEL_DRIFT;)f--;let x=f,w=0,A=a.length;for(let I=l;x<o;x++)if(e.get(x,i)!==I)u[w]++;else{if(w===A-1){if(me.patternMatchVariance(u,a,me.MAX_INDIVIDUAL_VARIANCE)<me.MAX_AVG_VARIANCE)return new Int32Array([f,x]);f+=u[0]+u[1],j.arraycopy(u,2,u,0,w-1),u[w-1]=0,u[w]=0,w--}else w++;u[w]=1,I=!I}return w===A-1&&me.patternMatchVariance(u,a,me.MAX_INDIVIDUAL_VARIANCE)<me.MAX_AVG_VARIANCE?new Int32Array([f,x-1]):null}static patternMatchVariance(e,n,i){let o=e.length,l=0,a=0;for(let h=0;h<o;h++)l+=e[h],a+=n[h];if(l<a)return 1/0;let u=l/a;i*=u;let f=0;for(let h=0;h<o;h++){let x=e[h],w=n[h]*u,A=x>w?x-w:w-x;if(A>i)return 1/0;f+=A}return f/l}}me.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),me.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),me.MAX_AVG_VARIANCE=.42,me.MAX_INDIVIDUAL_VARIANCE=.8,me.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),me.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),me.MAX_PIXEL_DRIFT=3,me.MAX_PATTERN_DRIFT=5,me.SKIPPED_ROW_COUNT_MAX=25,me.ROW_STEP=5,me.BARCODE_MIN_HEIGHT=10;class ft{constructor(e,n){if(n.length===0)throw new O;this.field=e;let i=n.length;if(i>1&&n[0]===0){let o=1;for(;o<i&&n[o]===0;)o++;o===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-o),j.arraycopy(n,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let o=0;for(let l of this.coefficients)o=this.field.add(o,l);return o}let n=this.coefficients[0],i=this.coefficients.length;for(let o=1;o<i;o++)n=this.field.add(this.field.multiply(e,n),this.coefficients[o]);return n}add(e){if(!this.field.equals(e.field))throw new O("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,i=e.coefficients;if(n.length>i.length){let a=n;n=i,i=a}let o=new Int32Array(i.length),l=i.length-n.length;j.arraycopy(i,0,o,0,l);for(let a=l;a<i.length;a++)o[a]=this.field.add(n[a-l],i[a]);return new ft(this.field,o)}subtract(e){if(!this.field.equals(e.field))throw new O("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof ft?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new O("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new ft(this.field,new Int32Array([0]));let n=this.coefficients,i=n.length,o=e.coefficients,l=o.length,a=new Int32Array(i+l-1);for(let u=0;u<i;u++){let f=n[u];for(let h=0;h<l;h++)a[u+h]=this.field.add(a[u+h],this.field.multiply(f,o[h]))}return new ft(this.field,a)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let i=0;i<e;i++)n[i]=this.field.subtract(0,this.coefficients[i]);return new ft(this.field,n)}multiplyScalar(e){if(e===0)return new ft(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,i=new Int32Array(n);for(let o=0;o<n;o++)i[o]=this.field.multiply(this.coefficients[o],e);return new ft(this.field,i)}multiplyByMonomial(e,n){if(e<0)throw new O;if(n===0)return new ft(this.field,new Int32Array([0]));let i=this.coefficients.length,o=new Int32Array(i+e);for(let l=0;l<i;l++)o[l]=this.field.multiply(this.coefficients[l],n);return new ft(this.field,o)}toString(){let e=new xe;for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);i!==0&&(i<0?(e.append(" - "),i=-i):e.length()>0&&e.append(" + "),(n===0||i!==1)&&e.append(i),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class Mf{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new O;return this.logTable[e]}inverse(e){if(e===0)throw new vs;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class sl extends Mf{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let i=1;for(let o=0;o<e;o++)this.expTable[o]=i,i=i*n%e;for(let o=0;o<e-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new ft(this,new Int32Array([0])),this.one=new ft(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new O;if(n===0)return this.zero;let i=new Int32Array(e+1);return i[0]=n,new ft(this,i)}}sl.PDF417_GF=new sl(de.NUMBER_OF_CODEWORDS,3);class Mu{constructor(){this.field=sl.PDF417_GF}decode(e,n,i){let o=new ft(this.field,e),l=new Int32Array(n),a=!1;for(let v=n;v>0;v--){let M=o.evaluateAt(this.field.exp(v));l[n-v]=M,M!==0&&(a=!0)}if(!a)return 0;let u=this.field.getOne();if(i!=null)for(const v of i){let M=this.field.exp(e.length-1-v),D=new ft(this.field,new Int32Array([this.field.subtract(0,M),1]));u=u.multiply(D)}let f=new ft(this.field,l),h=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),f,n),x=h[0],w=h[1],A=this.findErrorLocations(x),I=this.findErrorMagnitudes(w,x,A);for(let v=0;v<A.length;v++){let M=e.length-1-this.field.log(A[v]);if(M<0)throw L.getChecksumInstance();e[M]=this.field.subtract(e[M],I[v])}return A.length}runEuclideanAlgorithm(e,n,i){if(e.getDegree()<n.getDegree()){let A=e;e=n,n=A}let o=e,l=n,a=this.field.getZero(),u=this.field.getOne();for(;l.getDegree()>=Math.round(i/2);){let A=o,I=a;if(o=l,a=u,o.isZero())throw L.getChecksumInstance();l=A;let v=this.field.getZero(),M=o.getCoefficient(o.getDegree()),D=this.field.inverse(M);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){let P=l.getDegree()-o.getDegree(),W=this.field.multiply(l.getCoefficient(l.getDegree()),D);v=v.add(this.field.buildMonomial(P,W)),l=l.subtract(o.multiplyByMonomial(P,W))}u=v.multiply(a).subtract(I).negative()}let f=u.getCoefficient(0);if(f===0)throw L.getChecksumInstance();let h=this.field.inverse(f),x=u.multiply(h),w=l.multiply(h);return[x,w]}findErrorLocations(e){let n=e.getDegree(),i=new Int32Array(n),o=0;for(let l=1;l<this.field.getSize()&&o<n;l++)e.evaluateAt(l)===0&&(i[o]=this.field.inverse(l),o++);if(o!==n)throw L.getChecksumInstance();return i}findErrorMagnitudes(e,n,i){let o=n.getDegree(),l=new Int32Array(o);for(let h=1;h<=o;h++)l[o-h]=this.field.multiply(h,n.getCoefficient(h));let a=new ft(this.field,l),u=i.length,f=new Int32Array(u);for(let h=0;h<u;h++){let x=this.field.inverse(i[h]),w=this.field.subtract(0,e.evaluateAt(x)),A=this.field.inverse(a.evaluateAt(x));f[h]=this.field.multiply(w,A)}return f}}class gr{constructor(e,n,i,o,l){e instanceof gr?this.constructor_2(e):this.constructor_1(e,n,i,o,l)}constructor_1(e,n,i,o,l){const a=n==null||i==null,u=o==null||l==null;if(a&&u)throw new U;a?(n=new se(0,o.getY()),i=new se(0,l.getY())):u&&(o=new se(e.getWidth()-1,n.getY()),l=new se(e.getWidth()-1,i.getY())),this.image=e,this.topLeft=n,this.bottomLeft=i,this.topRight=o,this.bottomRight=l,this.minX=Math.trunc(Math.min(n.getX(),i.getX())),this.maxX=Math.trunc(Math.max(o.getX(),l.getX())),this.minY=Math.trunc(Math.min(n.getY(),o.getY())),this.maxY=Math.trunc(Math.max(i.getY(),l.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new gr(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,i){let o=this.topLeft,l=this.bottomLeft,a=this.topRight,u=this.bottomRight;if(e>0){let f=i?this.topLeft:this.topRight,h=Math.trunc(f.getY()-e);h<0&&(h=0);let x=new se(f.getX(),h);i?o=x:a=x}if(n>0){let f=i?this.bottomLeft:this.bottomRight,h=Math.trunc(f.getY()+n);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);let x=new se(f.getX(),h);i?l=x:u=x}return new gr(this.image,o,l,a,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class _f{constructor(e,n,i,o){this.columnCount=e,this.errorCorrectionLevel=o,this.rowCountUpperPart=n,this.rowCountLowerPart=i,this.rowCount=n+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ci{constructor(){this.buffer=""}static form(e,n){let i=-1;function o(a,u,f,h,x,w){if(a==="%%")return"%";if(n[++i]===void 0)return;a=h?parseInt(h.substr(1)):void 0;let A=x?parseInt(x.substr(1)):void 0,I;switch(w){case"s":I=n[i];break;case"c":I=n[i][0];break;case"f":I=parseFloat(n[i]).toFixed(a);break;case"p":I=parseFloat(n[i]).toPrecision(a);break;case"e":I=parseFloat(n[i]).toExponential(a);break;case"x":I=parseInt(n[i]).toString(A||16);break;case"d":I=parseFloat(parseInt(n[i],A||10).toPrecision(a)).toFixed(0);break}I=typeof I=="object"?JSON.stringify(I):(+I).toString(A);let v=parseInt(f),M=f&&f[0]+""=="0"?"0":" ";for(;I.length<v;)I=u!==void 0?I+M:M+I;return I}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(l,o)}format(e,...n){this.buffer+=Ci.form(e,n)}toString(){return this.buffer}}class yi{constructor(e){this.boundingBox=new gr(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let i=1;i<yi.MAX_NEARBY_DISTANCE;i++){let o=this.imageRowToCodewordIndex(e)-i;if(o>=0&&(n=this.codewords[o],n!=null)||(o=this.imageRowToCodewordIndex(e)+i,o<this.codewords.length&&(n=this.codewords[o],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Ci;let n=0;for(const i of this.codewords){if(i==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,i.getRowNumber(),i.getValue())}return e.toString()}}yi.MAX_NEARBY_DISTANCE=5;class Ii{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[i,o]of this.values.entries()){const l={getKey:()=>i,getValue:()=>o};l.getValue()>e?(e=l.getValue(),n=[],n.push(l.getKey())):l.getValue()===e&&n.push(l.getKey())}return de.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class _u extends yi{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=-1,h=1,x=0;for(let w=a;w<u;w++){if(n[w]==null)continue;let A=n[w],I=A.getRowNumber()-f;if(I===0)x++;else if(I===1)h=Math.max(h,x),x=1,f=A.getRowNumber();else if(I<0||A.getRowNumber()>=e.getRowCount()||I>w)n[w]=null;else{let v;h>2?v=(h-2)*I:v=I;let M=v>=w;for(let D=1;D<=v&&!M;D++)M=n[w-D]!=null;M?n[w]=null:(f=A.getRowNumber(),x=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let i of this.getCodewords())if(i!=null){let o=i.getRowNumber();if(o>=n.length)continue;n[o]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.getCodewords(),f=-1;for(let h=l;h<a;h++){if(u[h]==null)continue;let x=u[h];x.setRowNumberAsRowIndicatorColumn();let w=x.getRowNumber()-f;w===0||(w===1?f=x.getRowNumber():x.getRowNumber()>=e.getRowCount()?u[h]=null:f=x.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new Ii,i=new Ii,o=new Ii,l=new Ii;for(let u of e){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let f=u.getValue()%30,h=u.getRowNumber();switch(this._isLeft||(h+=2),h%3){case 0:i.setValue(f*3+1);break;case 1:l.setValue(f/3),o.setValue(f%3);break;case 2:n.setValue(f+1);break}}if(n.getValue().length===0||i.getValue().length===0||o.getValue().length===0||l.getValue().length===0||n.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<de.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>de.MAX_ROWS_IN_BARCODE)return null;let a=new _f(n.getValue()[0],i.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(e,a),a}removeIncorrectCodewords(e,n){for(let i=0;i<e.length;i++){let o=e[i];if(e[i]==null)continue;let l=o.getValue()%30,a=o.getRowNumber();if(a>n.getRowCount()){e[i]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:l*3+1!==n.getRowCountUpperPart()&&(e[i]=null);break;case 1:(Math.trunc(l/3)!==n.getErrorCorrectionLevel()||l%3!==n.getRowCountLowerPart())&&(e[i]=null);break;case 2:l+1!==n.getColumnCount()&&(e[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Si{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=de.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let i=this.detectionResultColumns[n].getCodewords();for(let o=0;o<i.length;o++)i[o]!=null&&(i[o].hasValidRowNumber()||this.adjustRowNumbers(n,o,i))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<e.length;i++)if(e[i]!=null&&n[i]!=null&&e[i].getRowNumber()===n[i].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let l=this.detectionResultColumns[o].getCodewords()[i];l!=null&&(l.setRowNumber(e[i].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let o=n[i].getRowNumber(),l=0;for(let a=this.barcodeColumnCount+1;a>0&&l<this.ADJUST_ROW_NUMBER_SKIP;a--){let u=this.detectionResultColumns[a].getCodewords()[i];u!=null&&(l=Si.adjustRowNumberIfValid(o,l,u),u.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let o=n[i].getRowNumber(),l=0;for(let a=1;a<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;a++){let u=this.detectionResultColumns[a].getCodewords()[i];u!=null&&(l=Si.adjustRowNumberIfValid(o,l,u),u.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(e)?(i.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,i){let o=i[n],l=this.detectionResultColumns[e-1].getCodewords(),a=l;this.detectionResultColumns[e+1]!=null&&(a=this.detectionResultColumns[e+1].getCodewords());let u=new Array(14);u[2]=l[n],u[3]=a[n],n>0&&(u[0]=i[n-1],u[4]=l[n-1],u[5]=a[n-1]),n>1&&(u[8]=i[n-2],u[10]=l[n-2],u[11]=a[n-2]),n<i.length-1&&(u[1]=i[n+1],u[6]=l[n+1],u[7]=a[n+1]),n<i.length-2&&(u[9]=i[n+2],u[12]=l[n+2],u[13]=a[n+2]);for(let f of u)if(Si.adjustRowNumber(o,f))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new Ci;for(let i=0;i<e.getCodewords().length;i++){n.format("CW %3d:",i);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){n.format("    |   ");continue}let l=this.detectionResultColumns[o].getCodewords()[i];if(l==null){n.format("    |   ");continue}n.format(" %3d|%3d",l.getRowNumber(),l.getValue())}n.format("%n")}return n.toString()}}class Ti{constructor(e,n,i,o){this.rowNumber=Ti.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(i),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Ti.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Ti.BARCODE_ROW_UNKNOWN=-1;class Ot{static initialize(){for(let e=0;e<de.SYMBOL_TABLE.length;e++){let n=de.SYMBOL_TABLE[e],i=n&1;for(let o=0;o<de.BARS_IN_MODULE;o++){let l=0;for(;(n&1)===i;)l+=1,n>>=1;i=n&1,Ot.RATIOS_TABLE[e]||(Ot.RATIOS_TABLE[e]=new Array(de.BARS_IN_MODULE)),Ot.RATIOS_TABLE[e][de.BARS_IN_MODULE-o-1]=Math.fround(l/de.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=Ot.getDecodedCodewordValue(Ot.sampleBitCounts(e));return n!==-1?n:Ot.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=Ie.sum(e),i=new Int32Array(de.BARS_IN_MODULE),o=0,l=0;for(let a=0;a<de.MODULES_IN_CODEWORD;a++){let u=n/(2*de.MODULES_IN_CODEWORD)+a*n/de.MODULES_IN_CODEWORD;l+e[o]<=u&&(l+=e[o],o++),i[o]++}return i}static getDecodedCodewordValue(e){let n=Ot.getBitValue(e);return de.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let i=0;i<e.length;i++)for(let o=0;o<e[i];o++)n=n<<1|(i%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=Ie.sum(e),i=new Array(de.BARS_IN_MODULE);if(n>1)for(let a=0;a<i.length;a++)i[a]=Math.fround(e[a]/n);let o=Ms.MAX_VALUE,l=-1;this.bSymbolTableReady||Ot.initialize();for(let a=0;a<Ot.RATIOS_TABLE.length;a++){let u=0,f=Ot.RATIOS_TABLE[a];for(let h=0;h<de.BARS_IN_MODULE;h++){let x=Math.fround(f[h]-i[h]);if(u+=Math.fround(x*x),u>=o)break}u<o&&(o=u,l=de.SYMBOL_TABLE[a])}return l}}Ot.bSymbolTableReady=!1,Ot.RATIOS_TABLE=new Array(de.SYMBOL_TABLE.length).map(m=>new Array(de.BARS_IN_MODULE));class Ou{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Du{static parseLong(e,n=void 0){return parseInt(e,n)}}class Ru extends C{}Ru.kind="NullPointerException";class Of{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,i){if(e==null)throw new Ru;if(n<0||n>e.length||i<0||n+i>e.length||n+i<0)throw new J;if(i===0)return;for(let o=0;o<i;o++)this.write(e[n+o])}flush(){}close(){}}class Df extends C{}class Rf extends Of{constructor(e=32){if(super(),this.count=0,e<0)throw new O("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let i=this.buf.length<<1;if(i-e<0&&(i=e),i<0){if(e<0)throw new Df;i=N.MAX_VALUE}this.buf=T.copyOfUint8Array(this.buf,i)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,i){if(n<0||n>e.length||i<0||n+i-e.length>0)throw new J;this.ensureCapacity(this.count+i),j.arraycopy(e,n,this.buf,this.count,i),this.count+=i}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return T.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Oe;(function(m){m[m.ALPHA=0]="ALPHA",m[m.LOWER=1]="LOWER",m[m.MIXED=2]="MIXED",m[m.PUNCT=3]="PUNCT",m[m.ALPHA_SHIFT=4]="ALPHA_SHIFT",m[m.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Oe||(Oe={}));function bu(){if(typeof window!="undefined")return window.BigInt||null;if(typeof Mi!="undefined")return Mi.BigInt||null;if(typeof self!="undefined")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Bs;function Hn(m){if(typeof Bs=="undefined"&&(Bs=bu()),Bs===null)throw new Error("BigInt is not supported!");return Bs(m)}function bf(){let m=[];m[0]=Hn(1);let e=Hn(900);m[1]=e;for(let n=2;n<16;n++)m[n]=m[n-1]*e;return m}class k{static decode(e,n){let i=new xe(""),o=F.ISO8859_1;i.enableDecoding(o);let l=1,a=e[l++],u=new Ou;for(;l<e[0];){switch(a){case k.TEXT_COMPACTION_MODE_LATCH:l=k.textCompaction(e,l,i);break;case k.BYTE_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH_6:l=k.byteCompaction(a,e,o,l,i);break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[l++]);break;case k.NUMERIC_COMPACTION_MODE_LATCH:l=k.numericCompaction(e,l,i);break;case k.ECI_CHARSET:F.getCharacterSetECIByValue(e[l++]);break;case k.ECI_GENERAL_PURPOSE:l+=2;break;case k.ECI_USER_DEFINED:l++;break;case k.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=k.decodeMacroBlock(e,l,u);break;case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case k.MACRO_PDF417_TERMINATOR:throw new R;default:l--,l=k.textCompaction(e,l,i);break}if(l<e.length)a=e[l++];else throw R.getFormatInstance()}if(i.length()===0)throw R.getFormatInstance();let f=new rn(null,i.toString(),null,n);return f.setOther(u),f}static decodeMacroBlock(e,n,i){if(n+k.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw R.getFormatInstance();let o=new Int32Array(k.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<k.NUMBER_OF_SEQUENCE_CODEWORDS;u++,n++)o[u]=e[n];i.setSegmentIndex(N.parseInt(k.decodeBase900toBase10(o,k.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new xe;n=k.textCompaction(e,n,l),i.setFileId(l.toString());let a=-1;for(e[n]===k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=n+1);n<e[0];)switch(e[n]){case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case k.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new xe;n=k.textCompaction(e,n+1,u),i.setFileName(u.toString());break;case k.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let f=new xe;n=k.textCompaction(e,n+1,f),i.setSender(f.toString());break;case k.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let h=new xe;n=k.textCompaction(e,n+1,h),i.setAddressee(h.toString());break;case k.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let x=new xe;n=k.numericCompaction(e,n+1,x),i.setSegmentCount(N.parseInt(x.toString()));break;case k.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let w=new xe;n=k.numericCompaction(e,n+1,w),i.setTimestamp(Du.parseLong(w.toString()));break;case k.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new xe;n=k.numericCompaction(e,n+1,A),i.setChecksum(N.parseInt(A.toString()));break;case k.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let I=new xe;n=k.numericCompaction(e,n+1,I),i.setFileSize(Du.parseLong(I.toString()));break;default:throw R.getFormatInstance()}break;case k.MACRO_PDF417_TERMINATOR:n++,i.setLastSegment(!0);break;default:throw R.getFormatInstance()}if(a!==-1){let u=n-a;i.isLastSegment()&&u--,i.setOptionalData(T.copyOfRange(e,a,a+u))}return n}static textCompaction(e,n,i){let o=new Int32Array((e[0]-n)*2),l=new Int32Array((e[0]-n)*2),a=0,u=!1;for(;n<e[0]&&!u;){let f=e[n++];if(f<k.TEXT_COMPACTION_MODE_LATCH)o[a]=f/30,o[a+1]=f%30,a+=2;else switch(f){case k.TEXT_COMPACTION_MODE_LATCH:o[a++]=k.TEXT_COMPACTION_MODE_LATCH;break;case k.BYTE_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH_6:case k.NUMERIC_COMPACTION_MODE_LATCH:case k.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case k.MACRO_PDF417_TERMINATOR:n--,u=!0;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[a]=k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,f=e[n++],l[a]=f,a++;break}}return k.decodeTextCompaction(o,l,a,i),n}static decodeTextCompaction(e,n,i,o){let l=Oe.ALPHA,a=Oe.ALPHA,u=0;for(;u<i;){let f=e[u],h="";switch(l){case Oe.ALPHA:if(f<26)h=String.fromCharCode(65+f);else switch(f){case 26:h=" ";break;case k.LL:l=Oe.LOWER;break;case k.ML:l=Oe.MIXED;break;case k.PS:a=l,l=Oe.PUNCT_SHIFT;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[u]);break;case k.TEXT_COMPACTION_MODE_LATCH:l=Oe.ALPHA;break}break;case Oe.LOWER:if(f<26)h=String.fromCharCode(97+f);else switch(f){case 26:h=" ";break;case k.AS:a=l,l=Oe.ALPHA_SHIFT;break;case k.ML:l=Oe.MIXED;break;case k.PS:a=l,l=Oe.PUNCT_SHIFT;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[u]);break;case k.TEXT_COMPACTION_MODE_LATCH:l=Oe.ALPHA;break}break;case Oe.MIXED:if(f<k.PL)h=k.MIXED_CHARS[f];else switch(f){case k.PL:l=Oe.PUNCT;break;case 26:h=" ";break;case k.LL:l=Oe.LOWER;break;case k.AL:l=Oe.ALPHA;break;case k.PS:a=l,l=Oe.PUNCT_SHIFT;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[u]);break;case k.TEXT_COMPACTION_MODE_LATCH:l=Oe.ALPHA;break}break;case Oe.PUNCT:if(f<k.PAL)h=k.PUNCT_CHARS[f];else switch(f){case k.PAL:l=Oe.ALPHA;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[u]);break;case k.TEXT_COMPACTION_MODE_LATCH:l=Oe.ALPHA;break}break;case Oe.ALPHA_SHIFT:if(l=a,f<26)h=String.fromCharCode(65+f);else switch(f){case 26:h=" ";break;case k.TEXT_COMPACTION_MODE_LATCH:l=Oe.ALPHA;break}break;case Oe.PUNCT_SHIFT:if(l=a,f<k.PAL)h=k.PUNCT_CHARS[f];else switch(f){case k.PAL:l=Oe.ALPHA;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[u]);break;case k.TEXT_COMPACTION_MODE_LATCH:l=Oe.ALPHA;break}break}h!==""&&o.append(h),u++}}static byteCompaction(e,n,i,o,l){let a=new Rf,u=0,f=0,h=!1;switch(e){case k.BYTE_COMPACTION_MODE_LATCH:let x=new Int32Array(6),w=n[o++];for(;o<n[0]&&!h;)switch(x[u++]=w,f=900*f+w,w=n[o++],w){case k.TEXT_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH:case k.NUMERIC_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH_6:case k.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case k.MACRO_PDF417_TERMINATOR:o--,h=!0;break;default:if(u%5===0&&u>0){for(let A=0;A<6;++A)a.write(Number(Hn(f)>>Hn(8*(5-A))));f=0,u=0}break}o===n[0]&&w<k.TEXT_COMPACTION_MODE_LATCH&&(x[u++]=w);for(let A=0;A<u;A++)a.write(x[A]);break;case k.BYTE_COMPACTION_MODE_LATCH_6:for(;o<n[0]&&!h;){let A=n[o++];if(A<k.TEXT_COMPACTION_MODE_LATCH)u++,f=900*f+A;else switch(A){case k.TEXT_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH:case k.NUMERIC_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH_6:case k.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case k.MACRO_PDF417_TERMINATOR:o--,h=!0;break}if(u%5===0&&u>0){for(let I=0;I<6;++I)a.write(Number(Hn(f)>>Hn(8*(5-I))));f=0,u=0}}break}return l.append(Ae.decode(a.toByteArray(),i)),o}static numericCompaction(e,n,i){let o=0,l=!1,a=new Int32Array(k.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!l;){let u=e[n++];if(n===e[0]&&(l=!0),u<k.TEXT_COMPACTION_MODE_LATCH)a[o]=u,o++;else switch(u){case k.TEXT_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH_6:case k.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case k.MACRO_PDF417_TERMINATOR:n--,l=!0;break}(o%k.MAX_NUMERIC_CODEWORDS===0||u===k.NUMERIC_COMPACTION_MODE_LATCH||l)&&o>0&&(i.append(k.decodeBase900toBase10(a,o)),o=0)}return n}static decodeBase900toBase10(e,n){let i=Hn(0);for(let l=0;l<n;l++)i+=k.EXP900[n-l-1]*Hn(e[l]);let o=i.toString();if(o.charAt(0)!=="1")throw new R;return o.substring(1)}}k.TEXT_COMPACTION_MODE_LATCH=900,k.BYTE_COMPACTION_MODE_LATCH=901,k.NUMERIC_COMPACTION_MODE_LATCH=902,k.BYTE_COMPACTION_MODE_LATCH_6=924,k.ECI_USER_DEFINED=925,k.ECI_GENERAL_PURPOSE=926,k.ECI_CHARSET=927,k.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,k.MACRO_PDF417_TERMINATOR=922,k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,k.MAX_NUMERIC_CODEWORDS=15,k.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,k.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,k.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,k.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,k.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,k.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,k.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,k.PL=25,k.LL=27,k.AS=27,k.ML=28,k.AL=28,k.PS=29,k.PAL=29,k.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,k.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",k.EXP900=bu()?bf():[],k.NUMBER_OF_SEQUENCE_CODEWORDS=2;class we{constructor(){}static decode(e,n,i,o,l,a,u){let f=new gr(e,n,i,o,l),h=null,x=null,w;for(let v=!0;;v=!1){if(n!=null&&(h=we.getRowIndicatorColumn(e,f,n,!0,a,u)),o!=null&&(x=we.getRowIndicatorColumn(e,f,o,!1,a,u)),w=we.merge(h,x),w==null)throw U.getNotFoundInstance();let M=w.getBoundingBox();if(v&&M!=null&&(M.getMinY()<f.getMinY()||M.getMaxY()>f.getMaxY()))f=M;else break}w.setBoundingBox(f);let A=w.getBarcodeColumnCount()+1;w.setDetectionResultColumn(0,h),w.setDetectionResultColumn(A,x);let I=h!=null;for(let v=1;v<=A;v++){let M=I?v:A-v;if(w.getDetectionResultColumn(M)!==void 0)continue;let D;M===0||M===A?D=new _u(f,M===0):D=new yi(f),w.setDetectionResultColumn(M,D);let P=-1,W=P;for(let Y=f.getMinY();Y<=f.getMaxY();Y++){if(P=we.getStartColumn(w,M,Y,I),P<0||P>f.getMaxX()){if(W===-1)continue;P=W}let H=we.detectCodeword(e,f.getMinX(),f.getMaxX(),I,P,Y,a,u);H!=null&&(D.setCodeword(Y,H),W=P,a=Math.min(a,H.getWidth()),u=Math.max(u,H.getWidth()))}}return we.createDecoderResult(w)}static merge(e,n){if(e==null&&n==null)return null;let i=we.getBarcodeMetadata(e,n);if(i==null)return null;let o=gr.merge(we.adjustBoundingBox(e),we.adjustBoundingBox(n));return new Si(i,o)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let i=we.getMax(n),o=0;for(let u of n)if(o+=i-u,u>0)break;let l=e.getCodewords();for(let u=0;o>0&&l[u]==null;u++)o--;let a=0;for(let u=n.length-1;u>=0&&(a+=i-n[u],!(n[u]>0));u--);for(let u=l.length-1;a>0&&l[u]==null;u--)a--;return e.getBoundingBox().addMissingRows(o,a,e.isLeft())}static getMax(e){let n=-1;for(let i of e)n=Math.max(n,i);return n}static getBarcodeMetadata(e,n){let i;if(e==null||(i=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let o;return n==null||(o=n.getBarcodeMetadata())==null?i:i.getColumnCount()!==o.getColumnCount()&&i.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&i.getRowCount()!==o.getRowCount()?null:i}static getRowIndicatorColumn(e,n,i,o,l,a){let u=new _u(n,o);for(let f=0;f<2;f++){let h=f===0?1:-1,x=Math.trunc(Math.trunc(i.getX()));for(let w=Math.trunc(Math.trunc(i.getY()));w<=n.getMaxY()&&w>=n.getMinY();w+=h){let A=we.detectCodeword(e,0,e.getWidth(),o,x,w,l,a);A!=null&&(u.setCodeword(w,A),o?x=A.getStartX():x=A.getEndX())}}return u}static adjustCodewordCount(e,n){let i=n[0][1],o=i.getValue(),l=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-we.getNumberOfECCodeWords(e.getBarcodeECLevel());if(o.length===0){if(l<1||l>de.MAX_CODEWORDS_IN_BARCODE)throw U.getNotFoundInstance();i.setValue(l)}else o[0]!==l&&i.setValue(l)}static createDecoderResult(e){let n=we.createBarcodeMatrix(e);we.adjustCodewordCount(e,n);let i=new Array,o=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),l=[],a=new Array;for(let f=0;f<e.getBarcodeRowCount();f++)for(let h=0;h<e.getBarcodeColumnCount();h++){let x=n[f][h+1].getValue(),w=f*e.getBarcodeColumnCount()+h;x.length===0?i.push(w):x.length===1?o[w]=x[0]:(a.push(w),l.push(x))}let u=new Array(l.length);for(let f=0;f<u.length;f++)u[f]=l[f];return we.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),o,de.toIntArray(i),de.toIntArray(a),u)}static createDecoderResultFromAmbiguousValues(e,n,i,o,l){let a=new Int32Array(o.length),u=100;for(;u-- >0;){for(let f=0;f<a.length;f++)n[o[f]]=l[f][a[f]];try{return we.decodeCodewords(n,e,i)}catch(f){if(!(f instanceof L))throw f}if(a.length===0)throw L.getChecksumInstance();for(let f=0;f<a.length;f++)if(a[f]<l[f].length-1){a[f]++;break}else if(a[f]=0,f===a.length-1)throw L.getChecksumInstance()}throw L.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let o=0;o<n.length;o++)for(let l=0;l<n[o].length;l++)n[o][l]=new Ii;let i=0;for(let o of e.getDetectionResultColumns()){if(o!=null){for(let l of o.getCodewords())if(l!=null){let a=l.getRowNumber();if(a>=0){if(a>=n.length)continue;n[a][i].setValue(l.getValue())}}}i++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,i,o){let l=o?1:-1,a=null;if(we.isValidBarcodeColumn(e,n-l)&&(a=e.getDetectionResultColumn(n-l).getCodeword(i)),a!=null)return o?a.getEndX():a.getStartX();if(a=e.getDetectionResultColumn(n).getCodewordNearby(i),a!=null)return o?a.getStartX():a.getEndX();if(we.isValidBarcodeColumn(e,n-l)&&(a=e.getDetectionResultColumn(n-l).getCodewordNearby(i)),a!=null)return o?a.getEndX():a.getStartX();let u=0;for(;we.isValidBarcodeColumn(e,n-l);){n-=l;for(let f of e.getDetectionResultColumn(n).getCodewords())if(f!=null)return(o?f.getEndX():f.getStartX())+l*u*(f.getEndX()-f.getStartX());u++}return o?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,i,o,l,a,u,f){l=we.adjustCodewordStartColumn(e,n,i,o,l,a);let h=we.getModuleBitCount(e,n,i,o,l,a);if(h==null)return null;let x,w=Ie.sum(h);if(o)x=l+w;else{for(let v=0;v<h.length/2;v++){let M=h[v];h[v]=h[h.length-1-v],h[h.length-1-v]=M}x=l,l=x-w}if(!we.checkCodewordSkew(w,u,f))return null;let A=Ot.getDecodedValue(h),I=de.getCodeword(A);return I===-1?null:new Ti(l,x,we.getCodewordBucketNumber(A),I)}static getModuleBitCount(e,n,i,o,l,a){let u=l,f=new Int32Array(8),h=0,x=o?1:-1,w=o;for(;(o?u<i:u>=n)&&h<f.length;)e.get(u,a)===w?(f[h]++,u+=x):(h++,w=!w);return h===f.length||u===(o?i:n)&&h===f.length-1?f:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,i,o,l,a){let u=l,f=o?-1:1;for(let h=0;h<2;h++){for(;(o?u>=n:u<i)&&o===e.get(u,a);){if(Math.abs(l-u)>we.CODEWORD_SKEW_SIZE)return l;u+=f}f=-f,o=!o}return u}static checkCodewordSkew(e,n,i){return n-we.CODEWORD_SKEW_SIZE<=e&&e<=i+we.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,i){if(e.length===0)throw R.getFormatInstance();let o=1<<n+1,l=we.correctErrors(e,i,o);we.verifyCodewordCount(e,o);let a=k.decode(e,""+n);return a.setErrorsCorrected(l),a.setErasures(i.length),a}static correctErrors(e,n,i){if(n!=null&&n.length>i/2+we.MAX_ERRORS||i<0||i>we.MAX_EC_CODEWORDS)throw L.getChecksumInstance();return we.errorCorrection.decode(e,i,n)}static verifyCodewordCount(e,n){if(e.length<4)throw R.getFormatInstance();let i=e[0];if(i>e.length)throw R.getFormatInstance();if(i===0)if(n<e.length)e[0]=e.length-n;else throw R.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),i=0,o=n.length-1;for(;!((e&1)!==i&&(i=e&1,o--,o<0));)n[o]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return we.getCodewordBucketNumber(we.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new Ci;for(let i=0;i<e.length;i++){n.format("Row %2d: ",i);for(let o=0;o<e[i].length;o++){let l=e[i][o];l.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}n.format("%n")}return n.toString()}}we.CODEWORD_SKEW_SIZE=2,we.MAX_ERRORS=3,we.MAX_EC_CODEWORDS=512,we.errorCorrection=new Mu;class dt{decode(e,n=null){let i=dt.decode(e,n,!1);if(i==null||i.length===0||i[0]==null)throw U.getNotFoundInstance();return i[0]}decodeMultiple(e,n=null){try{return dt.decode(e,n,!0)}catch(i){throw i instanceof R||i instanceof L?U.getNotFoundInstance():i}}static decode(e,n,i){const o=new Array,l=me.detectMultiple(e,n,i);for(const a of l.getPoints()){const u=we.decode(l.getBits(),a[4],a[5],a[6],a[7],dt.getMinCodewordWidth(a),dt.getMaxCodewordWidth(a)),f=new ae(u.getText(),u.getRawBytes(),void 0,a,ee.PDF_417);f.putMetadata(Be.ERROR_CORRECTION_LEVEL,u.getECLevel());const h=u.getOther();h!=null&&f.putMetadata(Be.PDF417_EXTRA_METADATA,h),o.push(f)}return o.map(a=>a)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?N.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(dt.getMaxWidth(e[0],e[4]),dt.getMaxWidth(e[6],e[2])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN),Math.max(dt.getMaxWidth(e[1],e[5]),dt.getMaxWidth(e[7],e[3])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(dt.getMinWidth(e[0],e[4]),dt.getMinWidth(e[6],e[2])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN),Math.min(dt.getMinWidth(e[1],e[5]),dt.getMinWidth(e[7],e[3])*de.MODULES_IN_CODEWORD/de.MODULES_IN_STOP_PATTERN)))}reset(){}}class ks extends C{}ks.kind="ReaderException";class Lu{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=e!=null&&e.get($.TRY_HARDER)!==void 0,i=e==null?null:e.get($.POSSIBLE_FORMATS),o=new Array;if(i!=null){const l=i.some(a=>a===ee.UPC_A||a===ee.UPC_E||a===ee.EAN_13||a===ee.EAN_8||a===ee.CODABAR||a===ee.CODE_39||a===ee.CODE_93||a===ee.CODE_128||a===ee.ITF||a===ee.RSS_14||a===ee.RSS_EXPANDED);l&&!n&&o.push(new Br(e,this.verbose)),i.includes(ee.QR_CODE)&&o.push(new Vn),i.includes(ee.DATA_MATRIX)&&o.push(new jn),i.includes(ee.AZTEC)&&o.push(new Os),i.includes(ee.PDF_417)&&o.push(new dt),l&&n&&o.push(new Br(e,this.verbose))}o.length===0&&(n||o.push(new Br(e,this.verbose)),o.push(new Vn),o.push(new jn),o.push(new Os),o.push(new dt),n&&o.push(new Br(e,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new ks("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(i){if(i instanceof ks)continue}throw new U("No MultiFormat Readers were able to detect the code.")}}class Lf extends le{constructor(e=null,n=500){const i=new Lu;i.setHints(e),super(i,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Bf extends le{constructor(e=500){super(new dt,e)}}class kf extends le{constructor(e=500){super(new Vn,e)}}var ol;(function(m){m[m.ERROR_CORRECTION=0]="ERROR_CORRECTION",m[m.CHARACTER_SET=1]="CHARACTER_SET",m[m.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",m[m.MIN_SIZE=3]="MIN_SIZE",m[m.MAX_SIZE=4]="MAX_SIZE",m[m.MARGIN=5]="MARGIN",m[m.PDF417_COMPACT=6]="PDF417_COMPACT",m[m.PDF417_COMPACTION=7]="PDF417_COMPACTION",m[m.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",m[m.AZTEC_LAYERS=9]="AZTEC_LAYERS",m[m.QR_VERSION=10]="QR_VERSION"})(ol||(ol={}));var it=ol;class ll{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new vt(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let i=n[n.length-1];const o=this.field;for(let l=n.length;l<=e;l++){const a=i.multiply(new vt(o,Int32Array.from([1,o.exp(l-1+o.getGeneratorBase())])));n.push(a),i=a}}return n[e]}encode(e,n){if(n===0)throw new O("No error correction bytes");const i=e.length-n;if(i<=0)throw new O("No data bytes provided");const o=this.buildGenerator(n),l=new Int32Array(i);j.arraycopy(e,0,l,0,i);let a=new vt(this.field,l);a=a.multiplyByMonomial(n,1);const f=a.divide(o)[1].getCoefficients(),h=n-f.length;for(let x=0;x<h;x++)e[i+x]=0;j.arraycopy(f,0,e,i+h,f.length)}}class Qe{constructor(){}static applyMaskPenaltyRule1(e){return Qe.applyMaskPenaltyRule1Internal(e,!0)+Qe.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const i=e.getArray(),o=e.getWidth(),l=e.getHeight();for(let a=0;a<l-1;a++){const u=i[a];for(let f=0;f<o-1;f++){const h=u[f];h===u[f+1]&&h===i[a+1][f]&&h===i[a+1][f+1]&&n++}}return Qe.N2*n}static applyMaskPenaltyRule3(e){let n=0;const i=e.getArray(),o=e.getWidth(),l=e.getHeight();for(let a=0;a<l;a++)for(let u=0;u<o;u++){const f=i[a];u+6<o&&f[u]===1&&f[u+1]===0&&f[u+2]===1&&f[u+3]===1&&f[u+4]===1&&f[u+5]===0&&f[u+6]===1&&(Qe.isWhiteHorizontal(f,u-4,u)||Qe.isWhiteHorizontal(f,u+7,u+11))&&n++,a+6<l&&i[a][u]===1&&i[a+1][u]===0&&i[a+2][u]===1&&i[a+3][u]===1&&i[a+4][u]===1&&i[a+5][u]===0&&i[a+6][u]===1&&(Qe.isWhiteVertical(i,u,a-4,a)||Qe.isWhiteVertical(i,u,a+7,a+11))&&n++}return n*Qe.N3}static isWhiteHorizontal(e,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(let o=n;o<i;o++)if(e[o]===1)return!1;return!0}static isWhiteVertical(e,n,i,o){i=Math.max(i,0),o=Math.min(o,e.length);for(let l=i;l<o;l++)if(e[l][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const i=e.getArray(),o=e.getWidth(),l=e.getHeight();for(let f=0;f<l;f++){const h=i[f];for(let x=0;x<o;x++)h[x]===1&&n++}const a=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-a)*10/a)*Qe.N4}static getDataMaskBit(e,n,i){let o,l;switch(e){case 0:o=i+n&1;break;case 1:o=i&1;break;case 2:o=n%3;break;case 3:o=(i+n)%3;break;case 4:o=Math.floor(i/2)+Math.floor(n/3)&1;break;case 5:l=i*n,o=(l&1)+l%3;break;case 6:l=i*n,o=(l&1)+l%3&1;break;case 7:l=i*n,o=l%3+(i+n&1)&1;break;default:throw new O("Invalid mask pattern: "+e)}return o===0}static applyMaskPenaltyRule1Internal(e,n){let i=0;const o=n?e.getHeight():e.getWidth(),l=n?e.getWidth():e.getHeight(),a=e.getArray();for(let u=0;u<o;u++){let f=0,h=-1;for(let x=0;x<l;x++){const w=n?a[u][x]:a[x][u];w===h?f++:(f>=5&&(i+=Qe.N1+(f-5)),f=1,h=w)}f>=5&&(i+=Qe.N1+(f-5))}return i}}Qe.N1=3,Qe.N2=3,Qe.N3=40,Qe.N4=10;class Ps{constructor(e,n){this.width=e,this.height=n;const i=new Array(n);for(let o=0;o!==n;o++)i[o]=new Uint8Array(e);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,i){this.bytes[n][e]=i}setBoolean(e,n,i){this.bytes[n][e]=i?1:0}clear(e){for(const n of this.bytes)T.fill(n,e)}equals(e){if(!(e instanceof Ps))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let i=0,o=this.height;i<o;++i){const l=this.bytes[i],a=n.bytes[i];for(let u=0,f=this.width;u<f;++u)if(l[u]!==a[u])return!1}return!0}toString(){const e=new xe;for(let n=0,i=this.height;n<i;++n){const o=this.bytes[n];for(let l=0,a=this.width;l<a;++l)switch(o[l]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class xr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new xe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<xr.NUM_MASK_PATTERNS}}xr.NUM_MASK_PATTERNS=8;class Re extends C{}Re.kind="WriterException";class ce{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,i,o,l){ce.clearMatrix(l),ce.embedBasicPatterns(i,l),ce.embedTypeInfo(n,o,l),ce.maybeEmbedVersionInfo(i,l),ce.embedDataBits(e,o,l)}static embedBasicPatterns(e,n){ce.embedPositionDetectionPatternsAndSeparators(n),ce.embedDarkDotAtLeftBottomCorner(n),ce.maybeEmbedPositionAdjustmentPatterns(e,n),ce.embedTimingPatterns(n)}static embedTypeInfo(e,n,i){const o=new B;ce.makeTypeInfoBits(e,n,o);for(let l=0,a=o.getSize();l<a;++l){const u=o.get(o.getSize()-1-l),f=ce.TYPE_INFO_COORDINATES[l],h=f[0],x=f[1];if(i.setBoolean(h,x,u),l<8){const w=i.getWidth()-l-1,A=8;i.setBoolean(w,A,u)}else{const A=i.getHeight()-7+(l-8);i.setBoolean(8,A,u)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const i=new B;ce.makeVersionInfoBits(e,i);let o=6*3-1;for(let l=0;l<6;++l)for(let a=0;a<3;++a){const u=i.get(o);o--,n.setBoolean(l,n.getHeight()-11+a,u),n.setBoolean(n.getHeight()-11+a,l,u)}}static embedDataBits(e,n,i){let o=0,l=-1,a=i.getWidth()-1,u=i.getHeight()-1;for(;a>0;){for(a===6&&(a-=1);u>=0&&u<i.getHeight();){for(let f=0;f<2;++f){const h=a-f;if(!ce.isEmpty(i.get(h,u)))continue;let x;o<e.getSize()?(x=e.get(o),++o):x=!1,n!==255&&Qe.getDataMaskBit(n,h,u)&&(x=!x),i.setBoolean(h,u,x)}u+=l}l=-l,u+=l,a-=2}if(o!==e.getSize())throw new Re("Not all bits consumed: "+o+"/"+e.getSize())}static findMSBSet(e){return 32-N.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new O("0 polynomial");const i=ce.findMSBSet(n);for(e<<=i-1;ce.findMSBSet(e)>=i;)e^=n<<ce.findMSBSet(e)-i;return e}static makeTypeInfoBits(e,n,i){if(!xr.isValidMaskPattern(n))throw new Re("Invalid mask pattern");const o=e.getBits()<<3|n;i.appendBits(o,5);const l=ce.calculateBCHCode(o,ce.TYPE_INFO_POLY);i.appendBits(l,10);const a=new B;if(a.appendBits(ce.TYPE_INFO_MASK_PATTERN,15),i.xor(a),i.getSize()!==15)throw new Re("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const i=ce.calculateBCHCode(e.getVersionNumber(),ce.VERSION_INFO_POLY);if(n.appendBits(i,12),n.getSize()!==18)throw new Re("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const i=(n+1)%2;ce.isEmpty(e.get(n,6))&&e.setNumber(n,6,i),ce.isEmpty(e.get(6,n))&&e.setNumber(6,n,i)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Re;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,i){for(let o=0;o<8;++o){if(!ce.isEmpty(i.get(e+o,n)))throw new Re;i.setNumber(e+o,n,0)}}static embedVerticalSeparationPattern(e,n,i){for(let o=0;o<7;++o){if(!ce.isEmpty(i.get(e,n+o)))throw new Re;i.setNumber(e,n+o,0)}}static embedPositionAdjustmentPattern(e,n,i){for(let o=0;o<5;++o){const l=ce.POSITION_ADJUSTMENT_PATTERN[o];for(let a=0;a<5;++a)i.setNumber(e+a,n+o,l[a])}}static embedPositionDetectionPattern(e,n,i){for(let o=0;o<7;++o){const l=ce.POSITION_DETECTION_PATTERN[o];for(let a=0;a<7;++a)i.setNumber(e+a,n+o,l[a])}}static embedPositionDetectionPatternsAndSeparators(e){const n=ce.POSITION_DETECTION_PATTERN[0].length;ce.embedPositionDetectionPattern(0,0,e),ce.embedPositionDetectionPattern(e.getWidth()-n,0,e),ce.embedPositionDetectionPattern(0,e.getWidth()-n,e);const i=8;ce.embedHorizontalSeparationPattern(0,i-1,e),ce.embedHorizontalSeparationPattern(e.getWidth()-i,i-1,e),ce.embedHorizontalSeparationPattern(0,e.getWidth()-i,e);const o=7;ce.embedVerticalSeparationPattern(o,0,e),ce.embedVerticalSeparationPattern(e.getHeight()-o-1,0,e),ce.embedVerticalSeparationPattern(o,e.getHeight()-o,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const i=e.getVersionNumber()-1,o=ce.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let l=0,a=o.length;l!==a;l++){const u=o[l];if(u>=0)for(let f=0;f!==a;f++){const h=o[f];h>=0&&ce.isEmpty(n.get(h,u))&&ce.embedPositionAdjustmentPattern(h-2,u-2,n)}}}}ce.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ce.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ce.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ce.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ce.VERSION_INFO_POLY=7973,ce.TYPE_INFO_POLY=1335,ce.TYPE_INFO_MASK_PATTERN=21522;class Pf{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class je{constructor(){}static calculateMaskPenalty(e){return Qe.applyMaskPenaltyRule1(e)+Qe.applyMaskPenaltyRule2(e)+Qe.applyMaskPenaltyRule3(e)+Qe.applyMaskPenaltyRule4(e)}static encode(e,n,i=null){let o=je.DEFAULT_BYTE_MODE_ENCODING;const l=i!==null&&i.get(it.CHARACTER_SET)!==void 0;l&&(o=i.get(it.CHARACTER_SET).toString());const a=this.chooseMode(e,o),u=new B;if(a===ue.BYTE&&(l||je.DEFAULT_BYTE_MODE_ENCODING!==o)){const Y=F.getCharacterSetECIByName(o);Y!==void 0&&this.appendECI(Y,u)}this.appendModeInfo(a,u);const f=new B;this.appendBytes(e,a,f,o);let h;if(i!==null&&i.get(it.QR_VERSION)!==void 0){const Y=Number.parseInt(i.get(it.QR_VERSION).toString(),10);h=oe.getVersionForNumber(Y);const H=this.calculateBitsNeeded(a,u,f,h);if(!this.willFit(H,h,n))throw new Re("Data too big for requested version")}else h=this.recommendVersion(n,a,u,f);const x=new B;x.appendBitArray(u);const w=a===ue.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(w,h,a,x),x.appendBitArray(f);const A=h.getECBlocksForLevel(n),I=h.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(I,x);const v=this.interleaveWithECBytes(x,h.getTotalCodewords(),I,A.getNumBlocks()),M=new xr;M.setECLevel(n),M.setMode(a),M.setVersion(h);const D=h.getDimensionForVersion(),P=new Ps(D,D),W=this.chooseMaskPattern(v,n,h,P);return M.setMaskPattern(W),ce.buildMatrix(v,n,h,W,P),M.setMatrix(P),M}static recommendVersion(e,n,i,o){const l=this.calculateBitsNeeded(n,i,o,oe.getVersionForNumber(1)),a=this.chooseVersion(l,e),u=this.calculateBitsNeeded(n,i,o,a);return this.chooseVersion(u,e)}static calculateBitsNeeded(e,n,i,o){return n.getSize()+e.getCharacterCountBits(o)+i.getSize()}static getAlphanumericCode(e){return e<je.ALPHANUMERIC_TABLE.length?je.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(F.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return ue.KANJI;let i=!1,o=!1;for(let l=0,a=e.length;l<a;++l){const u=e.charAt(l);if(je.isDigit(u))i=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)o=!0;else return ue.BYTE}return o?ue.ALPHANUMERIC:i?ue.NUMERIC:ue.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=Ae.encode(e,F.SJIS)}catch{return!1}const i=n.length;if(i%2!==0)return!1;for(let o=0;o<i;o+=2){const l=n[o]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(e,n,i,o){let l=Number.MAX_SAFE_INTEGER,a=-1;for(let u=0;u<xr.NUM_MASK_PATTERNS;u++){ce.buildMatrix(e,n,i,u,o);let f=this.calculateMaskPenalty(o);f<l&&(l=f,a=u)}return a}static chooseVersion(e,n){for(let i=1;i<=40;i++){const o=oe.getVersionForNumber(i);if(je.willFit(e,o,n))return o}throw new Re("Data too big")}static willFit(e,n,i){const o=n.getTotalCodewords(),a=n.getECBlocksForLevel(i).getTotalECCodewords(),u=o-a,f=(e+7)/8;return u>=f}static terminateBits(e,n){const i=e*8;if(n.getSize()>i)throw new Re("data bits cannot fit in the QR Code"+n.getSize()+" > "+i);for(let a=0;a<4&&n.getSize()<i;++a)n.appendBit(!1);const o=n.getSize()&7;if(o>0)for(let a=o;a<8;a++)n.appendBit(!1);const l=e-n.getSizeInBytes();for(let a=0;a<l;++a)n.appendBits((a&1)===0?236:17,8);if(n.getSize()!==i)throw new Re("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,i,o,l,a){if(o>=i)throw new Re("Block ID too large");const u=e%i,f=i-u,h=Math.floor(e/i),x=h+1,w=Math.floor(n/i),A=w+1,I=h-w,v=x-A;if(I!==v)throw new Re("EC bytes mismatch");if(i!==f+u)throw new Re("RS blocks mismatch");if(e!==(w+I)*f+(A+v)*u)throw new Re("Total bytes mismatch");o<f?(l[0]=w,a[0]=I):(l[0]=A,a[0]=v)}static interleaveWithECBytes(e,n,i,o){if(e.getSizeInBytes()!==i)throw new Re("Number of bits and data bytes does not match");let l=0,a=0,u=0;const f=new Array;for(let x=0;x<o;++x){const w=new Int32Array(1),A=new Int32Array(1);je.getNumDataBytesAndNumECBytesForBlockID(n,i,o,x,w,A);const I=w[0],v=new Uint8Array(I);e.toBytes(8*l,v,0,I);const M=je.generateECBytes(v,A[0]);f.push(new Pf(v,M)),a=Math.max(a,I),u=Math.max(u,M.length),l+=w[0]}if(i!==l)throw new Re("Data bytes does not match offset");const h=new B;for(let x=0;x<a;++x)for(const w of f){const A=w.getDataBytes();x<A.length&&h.appendBits(A[x],8)}for(let x=0;x<u;++x)for(const w of f){const A=w.getErrorCorrectionBytes();x<A.length&&h.appendBits(A[x],8)}if(n!==h.getSizeInBytes())throw new Re("Interleaving error: "+n+" and "+h.getSizeInBytes()+" differ.");return h}static generateECBytes(e,n){const i=e.length,o=new Int32Array(i+n);for(let a=0;a<i;a++)o[a]=e[a]&255;new ll(ve.QR_CODE_FIELD_256).encode(o,n);const l=new Uint8Array(n);for(let a=0;a<n;a++)l[a]=o[i+a];return l}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,i,o){const l=i.getCharacterCountBits(n);if(e>=1<<l)throw new Re(e+" is bigger than "+((1<<l)-1));o.appendBits(e,l)}static appendBytes(e,n,i,o){switch(n){case ue.NUMERIC:je.appendNumericBytes(e,i);break;case ue.ALPHANUMERIC:je.appendAlphanumericBytes(e,i);break;case ue.BYTE:je.append8BitBytes(e,i,o);break;case ue.KANJI:je.appendKanjiBytes(e,i);break;default:throw new Re("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=je.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const i=e.length;let o=0;for(;o<i;){const l=je.getDigit(e.charAt(o));if(o+2<i){const a=je.getDigit(e.charAt(o+1)),u=je.getDigit(e.charAt(o+2));n.appendBits(l*100+a*10+u,10),o+=3}else if(o+1<i){const a=je.getDigit(e.charAt(o+1));n.appendBits(l*10+a,7),o+=2}else n.appendBits(l,4),o++}}static appendAlphanumericBytes(e,n){const i=e.length;let o=0;for(;o<i;){const l=je.getAlphanumericCode(e.charCodeAt(o));if(l===-1)throw new Re;if(o+1<i){const a=je.getAlphanumericCode(e.charCodeAt(o+1));if(a===-1)throw new Re;n.appendBits(l*45+a,11),o+=2}else n.appendBits(l,6),o++}}static append8BitBytes(e,n,i){let o;try{o=Ae.encode(e,i)}catch(l){throw new Re(l)}for(let l=0,a=o.length;l!==a;l++){const u=o[l];n.appendBits(u,8)}}static appendKanjiBytes(e,n){let i;try{i=Ae.encode(e,F.SJIS)}catch(l){throw new Re(l)}const o=i.length;for(let l=0;l<o;l+=2){const a=i[l]&255,u=i[l+1]&255,f=a<<8&4294967295|u;let h=-1;if(f>=33088&&f<=40956?h=f-33088:f>=57408&&f<=60351&&(h=f-49472),h===-1)throw new Re("Invalid byte sequence");const x=(h>>8)*192+(h&255);n.appendBits(x,13)}}static appendECI(e,n){n.appendBits(ue.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}je.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),je.DEFAULT_BYTE_MODE_ENCODING=F.UTF8.getName();class pr{write(e,n,i,o=null){if(e.length===0)throw new O("Found empty contents");if(n<0||i<0)throw new O("Requested dimensions are too small: "+n+"x"+i);let l=Pe.L,a=pr.QUIET_ZONE_SIZE;o!==null&&(o.get(it.ERROR_CORRECTION)!==void 0&&(l=Pe.fromString(o.get(it.ERROR_CORRECTION).toString())),o.get(it.MARGIN)!==void 0&&(a=Number.parseInt(o.get(it.MARGIN).toString(),10)));const u=je.encode(e,l,o);return this.renderResult(u,n,i,a)}writeToDom(e,n,i,o,l=null){typeof e=="string"&&(e=document.querySelector(e));const a=this.write(n,i,o,l);e&&e.appendChild(a)}renderResult(e,n,i,o){const l=e.getMatrix();if(l===null)throw new hn;const a=l.getWidth(),u=l.getHeight(),f=a+o*2,h=u+o*2,x=Math.max(n,f),w=Math.max(i,h),A=Math.min(Math.floor(x/f),Math.floor(w/h)),I=Math.floor((x-a*A)/2),v=Math.floor((w-u*A)/2),M=this.createSVGElement(x,w);for(let D=0,P=v;D<u;D++,P+=A)for(let W=0,Y=I;W<a;W++,Y+=A)if(l.get(W,D)===1){const H=this.createSvgRectElement(Y,P,A,A);M.appendChild(H)}return M}createSVGElement(e,n){const i=document.createElementNS(pr.SVG_NS,"svg");return i.setAttributeNS(null,"height",e.toString()),i.setAttributeNS(null,"width",n.toString()),i}createSvgRectElement(e,n,i,o){const l=document.createElementNS(pr.SVG_NS,"rect");return l.setAttributeNS(null,"x",e.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",o.toString()),l.setAttributeNS(null,"fill","#000000"),l}}pr.QUIET_ZONE_SIZE=4,pr.SVG_NS="http://www.w3.org/2000/svg";class Pr{encode(e,n,i,o,l){if(e.length===0)throw new O("Found empty contents");if(n!==ee.QR_CODE)throw new O("Can only encode QR_CODE, but got "+n);if(i<0||o<0)throw new O(`Requested dimensions are too small: ${i}x${o}`);let a=Pe.L,u=Pr.QUIET_ZONE_SIZE;l!==null&&(l.get(it.ERROR_CORRECTION)!==void 0&&(a=Pe.fromString(l.get(it.ERROR_CORRECTION).toString())),l.get(it.MARGIN)!==void 0&&(u=Number.parseInt(l.get(it.MARGIN).toString(),10)));const f=je.encode(e,a,l);return Pr.renderResult(f,i,o,u)}static renderResult(e,n,i,o){const l=e.getMatrix();if(l===null)throw new hn;const a=l.getWidth(),u=l.getHeight(),f=a+o*2,h=u+o*2,x=Math.max(n,f),w=Math.max(i,h),A=Math.min(Math.floor(x/f),Math.floor(w/h)),I=Math.floor((x-a*A)/2),v=Math.floor((w-u*A)/2),M=new Ce(x,w);for(let D=0,P=v;D<u;D++,P+=A)for(let W=0,Y=I;W<a;W++,Y+=A)l.get(W,D)===1&&M.setRegion(Y,P,A,A);return M}}Pr.QUIET_ZONE_SIZE=4;class Ff{encode(e,n,i,o,l){let a;switch(n){case ee.QR_CODE:a=new Pr;break;default:throw new O("No encoder available for format "+n)}return a.encode(e,n,i,o,l)}}class mn extends vn{constructor(e,n,i,o,l,a,u,f){if(super(a,u),this.yuvData=e,this.dataWidth=n,this.dataHeight=i,this.left=o,this.top=l,o+a>n||l+u>i)throw new O("Crop rectangle does not fit within image data.");f&&this.reverseHorizontal(a,u)}getRow(e,n){if(e<0||e>=this.getHeight())throw new O("Requested row is outside the image: "+e);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const o=(e+this.top)*this.dataWidth+this.left;return j.arraycopy(this.yuvData,o,n,0,i),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const i=e*n,o=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return j.arraycopy(this.yuvData,l,o,0,i),o;for(let a=0;a<n;a++){const u=a*e;j.arraycopy(this.yuvData,l,o,u,e),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,n,i,o){return new mn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,i,o,!1)}renderThumbnail(){const e=this.getWidth()/mn.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/mn.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(e*n),o=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let a=0;a<n;a++){const u=a*e;for(let f=0;f<e;f++){const h=o[l+f*mn.THUMBNAIL_SCALE_FACTOR]&255;i[u+f]=4278190080|h*65793}l+=this.dataWidth*mn.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/mn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/mn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const i=this.yuvData;for(let o=0,l=this.top*this.dataWidth+this.left;o<n;o++,l+=this.dataWidth){const a=l+e/2;for(let u=l,f=l+e-1;u<a;u++,f--){const h=i[u];i[u]=i[f],i[f]=h}}}invert(){return new jt(this)}}mn.THUMBNAIL_SCALE_FACTOR=2;class al extends vn{constructor(e,n,i,o,l,a,u){if(super(n,i),this.dataWidth=o,this.dataHeight=l,this.left=a,this.top=u,e.BYTES_PER_ELEMENT===4){const f=n*i,h=new Uint8ClampedArray(f);for(let x=0;x<f;x++){const w=e[x],A=w>>16&255,I=w>>7&510,v=w&255;h[x]=(A+I+v)/4&255}this.luminances=h}else this.luminances=e;if(o===void 0&&(this.dataWidth=n),l===void 0&&(this.dataHeight=i),a===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+i>this.dataHeight)throw new O("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new O("Requested row is outside the image: "+e);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const o=(e+this.top)*this.dataWidth+this.left;return j.arraycopy(this.luminances,o,n,0,i),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const i=e*n,o=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return j.arraycopy(this.luminances,l,o,0,i),o;for(let a=0;a<n;a++){const u=a*e;j.arraycopy(this.luminances,l,o,u,e),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(e,n,i,o){return new al(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new jt(this)}}class Bu extends F{static forName(e){return this.getCharacterSetECIByName(e)}}class ul{}ul.ISO_8859_1=F.ISO8859_1;class ku{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Pu{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class Uf{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Fr extends Uf{constructor(e,n,i){super(e),this.value=n,this.bitCount=i}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new Fr(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Fr(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+N.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class cl extends Fr{constructor(e,n,i){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=i}appendTo(e,n){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):i===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+i],8)}addBinaryShift(e,n){return new cl(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function zf(m,e,n){return new cl(m,e,n)}function Ni(m,e,n){return new Fr(m,e,n)}const jf=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Wn=0,Fs=1,Xt=2,Fu=3,wn=4,Vf=new Fr(null,0,0),fl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(9<<16)+(30<<4)+14,0,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(4<<16)+14,(9<<16)+(14<<5)+28,0,(9<<16)+(14<<5)+29,(14<<16)+(14<<10)+(29<<5)+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,(10<<16)+(29<<5)+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,(10<<16)+(31<<5)+28,(10<<16)+(31<<5)+30,(10<<16)+(31<<5)+29,0])];function Hf(m){for(let e of m)T.fill(e,-1);return m[Wn][wn]=0,m[Fs][wn]=0,m[Fs][Wn]=28,m[Fu][wn]=0,m[Xt][wn]=0,m[Xt][Wn]=15,m}const Uu=Hf(T.createInt32Array(6,6));class En{constructor(e,n,i,o){this.token=e,this.mode=n,this.binaryShiftByteCount=i,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let i=this.bitCount,o=this.token;if(e!==this.mode){let a=fl[this.mode][e];o=Ni(o,a&65535,a>>16),i+=a>>16}let l=e===Xt?4:5;return o=Ni(o,n,l),new En(o,e,0,i+l)}shiftAndAppend(e,n){let i=this.token,o=this.mode===Xt?4:5;return i=Ni(i,Uu[this.mode][e],o),i=Ni(i,n,5),new En(i,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(e){let n=this.token,i=this.mode,o=this.bitCount;if(this.mode===wn||this.mode===Xt){let u=fl[i][Wn];n=Ni(n,u&65535,u>>16),o+=u>>16,i=Wn}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new En(n,i,this.binaryShiftByteCount+1,o+l);return a.binaryShiftByteCount===2047+31&&(a=a.endBinaryShift(e+1)),a}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=zf(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new En(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(fl[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=En.calculateBinaryShiftCost(e)-En.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())n.unshift(o);let i=new B;for(const o of n)o.appendTo(i,e);return i}toString(){return fe.format("%s bits=%d bytes=%d",jf[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}En.INITIAL_STATE=new En(Vf,Wn,0,0);function Wf(m){const e=fe.getCharCode(" "),n=fe.getCharCode("."),i=fe.getCharCode(",");m[Wn][e]=1;const o=fe.getCharCode("Z"),l=fe.getCharCode("A");for(let A=l;A<=o;A++)m[Wn][A]=A-l+2;m[Fs][e]=1;const a=fe.getCharCode("z"),u=fe.getCharCode("a");for(let A=u;A<=a;A++)m[Fs][A]=A-u+2;m[Xt][e]=1;const f=fe.getCharCode("9"),h=fe.getCharCode("0");for(let A=h;A<=f;A++)m[Xt][A]=A-h+2;m[Xt][i]=12,m[Xt][n]=13;const x=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F"];for(let A=0;A<x.length;A++)m[Fu][fe.getCharCode(x[A])]=A;const w=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<w.length;A++)fe.getCharCode(w[A])>0&&(m[wn][fe.getCharCode(w[A])]=A);return m}const dl=Wf(T.createInt32Array(5,256));class vi{constructor(e){this.text=e}encode(){const e=fe.getCharCode(" "),n=fe.getCharCode(`
`);let i=Pu.singletonList(En.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let a,u=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case fe.getCharCode("\r"):a=u===n?2:0;break;case fe.getCharCode("."):a=u===e?3:0;break;case fe.getCharCode(","):a=u===e?4:0;break;case fe.getCharCode(":"):a=u===e?5:0;break;default:a=0}a>0?(i=vi.updateStateListForPair(i,l,a),l++):i=this.updateStateListForChar(i,l)}return Pu.min(i,(l,a)=>l.getBitCount()-a.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const i=[];for(let o of e)this.updateStateForChar(o,n,i);return vi.simplifyStates(i)}updateStateForChar(e,n,i){let o=this.text[n]&255,l=dl[e.getMode()][o]>0,a=null;for(let u=0;u<=wn;u++){let f=dl[u][o];if(f>0){if(a==null&&(a=e.endBinaryShift(n)),!l||u===e.getMode()||u===Xt){const h=a.latchAndAppend(u,f);i.push(h)}if(!l&&Uu[e.getMode()][u]>=0){const h=a.shiftAndAppend(u,f);i.push(h)}}}if(e.getBinaryShiftByteCount()>0||dl[e.getMode()][o]===0){let u=e.addBinaryShiftChar(n);i.push(u)}}static updateStateListForPair(e,n,i){const o=[];for(let l of e)this.updateStateForPair(l,n,i,o);return this.simplifyStates(o)}static updateStateForPair(e,n,i,o){let l=e.endBinaryShift(n);if(o.push(l.latchAndAppend(wn,i)),e.getMode()!==wn&&o.push(l.shiftAndAppend(wn,i)),i===3||i===4){let a=l.latchAndAppend(Xt,16-i).latchAndAppend(Xt,1);o.push(a)}if(e.getBinaryShiftByteCount()>0){let a=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);o.push(a)}}static simplifyStates(e){let n=[];for(const i of e){let o=!0;for(const l of n){if(l.isBetterThanOrEqualTo(i)){o=!1;break}i.isBetterThanOrEqualTo(l)&&(n=n.filter(a=>a!==l))}o&&n.push(i)}return n}}class Se{constructor(){}static encodeBytes(e){return Se.encode(e,Se.DEFAULT_EC_PERCENT,Se.DEFAULT_AZTEC_LAYERS)}static encode(e,n,i){let o=new vi(e).encode(),l=N.truncDivision(o.getSize()*n,100)+11,a=o.getSize()+l,u,f,h,x,w;if(i!==Se.DEFAULT_AZTEC_LAYERS){if(u=i<0,f=Math.abs(i),f>(u?Se.MAX_NB_BITS_COMPACT:Se.MAX_NB_BITS))throw new O(fe.format("Illegal value %s for layers",i));h=Se.totalBitsInLayer(f,u),x=Se.WORD_SIZE[f];let H=h-h%x;if(w=Se.stuffBits(o,x),w.getSize()+l>H)throw new O("Data to large for user specified layer");if(u&&w.getSize()>x*64)throw new O("Data to large for user specified layer")}else{x=0,w=null;for(let H=0;;H++){if(H>Se.MAX_NB_BITS)throw new O("Data too large for an Aztec code");if(u=H<=3,f=u?H+1:H,h=Se.totalBitsInLayer(f,u),a>h)continue;(w==null||x!==Se.WORD_SIZE[f])&&(x=Se.WORD_SIZE[f],w=Se.stuffBits(o,x));let Ee=h-h%x;if(!(u&&w.getSize()>x*64)&&w.getSize()+l<=Ee)break}}let A=Se.generateCheckWords(w,h,x),I=w.getSize()/x,v=Se.generateModeMessage(u,f,I),M=(u?11:14)+f*4,D=new Int32Array(M),P;if(u){P=M;for(let H=0;H<D.length;H++)D[H]=H}else{P=M+1+2*N.truncDivision(N.truncDivision(M,2)-1,15);let H=N.truncDivision(M,2),Ee=N.truncDivision(P,2);for(let pe=0;pe<H;pe++){let Dt=pe+N.truncDivision(pe,15);D[H-pe-1]=Ee-Dt-1,D[H+pe]=Ee+Dt+1}}let W=new Ce(P);for(let H=0,Ee=0;H<f;H++){let pe=(f-H)*4+(u?9:12);for(let Dt=0;Dt<pe;Dt++){let ln=Dt*2;for(let Rt=0;Rt<2;Rt++)A.get(Ee+ln+Rt)&&W.set(D[H*2+Rt],D[H*2+Dt]),A.get(Ee+pe*2+ln+Rt)&&W.set(D[H*2+Dt],D[M-1-H*2-Rt]),A.get(Ee+pe*4+ln+Rt)&&W.set(D[M-1-H*2-Rt],D[M-1-H*2-Dt]),A.get(Ee+pe*6+ln+Rt)&&W.set(D[M-1-H*2-Dt],D[H*2+Rt])}Ee+=pe*8}if(Se.drawModeMessage(W,u,P,v),u)Se.drawBullsEye(W,N.truncDivision(P,2),5);else{Se.drawBullsEye(W,N.truncDivision(P,2),7);for(let H=0,Ee=0;H<N.truncDivision(M,2)-1;H+=15,Ee+=16)for(let pe=N.truncDivision(P,2)&1;pe<P;pe+=2)W.set(N.truncDivision(P,2)-Ee,pe),W.set(N.truncDivision(P,2)+Ee,pe),W.set(pe,N.truncDivision(P,2)-Ee),W.set(pe,N.truncDivision(P,2)+Ee)}let Y=new ku;return Y.setCompact(u),Y.setSize(P),Y.setLayers(f),Y.setCodeWords(I),Y.setMatrix(W),Y}static drawBullsEye(e,n,i){for(let o=0;o<i;o+=2)for(let l=n-o;l<=n+o;l++)e.set(l,n-o),e.set(l,n+o),e.set(n-o,l),e.set(n+o,l);e.set(n-i,n-i),e.set(n-i+1,n-i),e.set(n-i,n-i+1),e.set(n+i,n-i),e.set(n+i,n-i+1),e.set(n+i,n+i-1)}static generateModeMessage(e,n,i){let o=new B;return e?(o.appendBits(n-1,2),o.appendBits(i-1,6),o=Se.generateCheckWords(o,28,4)):(o.appendBits(n-1,5),o.appendBits(i-1,11),o=Se.generateCheckWords(o,40,4)),o}static drawModeMessage(e,n,i,o){let l=N.truncDivision(i,2);if(n)for(let a=0;a<7;a++){let u=l-3+a;o.get(a)&&e.set(u,l-5),o.get(a+7)&&e.set(l+5,u),o.get(20-a)&&e.set(u,l+5),o.get(27-a)&&e.set(l-5,u)}else for(let a=0;a<10;a++){let u=l-5+a+N.truncDivision(a,5);o.get(a)&&e.set(u,l-7),o.get(a+10)&&e.set(l+7,u),o.get(29-a)&&e.set(u,l+7),o.get(39-a)&&e.set(l-7,u)}}static generateCheckWords(e,n,i){let o=e.getSize()/i,l=new ll(Se.getGF(i)),a=N.truncDivision(n,i),u=Se.bitsToWords(e,i,a);l.encode(u,a-o);let f=n%i,h=new B;h.appendBits(0,f);for(const x of Array.from(u))h.appendBits(x,i);return h}static bitsToWords(e,n,i){let o=new Int32Array(i),l,a;for(l=0,a=e.getSize()/n;l<a;l++){let u=0;for(let f=0;f<n;f++)u|=e.get(l*n+f)?1<<n-f-1:0;o[l]=u}return o}static getGF(e){switch(e){case 4:return ve.AZTEC_PARAM;case 6:return ve.AZTEC_DATA_6;case 8:return ve.AZTEC_DATA_8;case 10:return ve.AZTEC_DATA_10;case 12:return ve.AZTEC_DATA_12;default:throw new O("Unsupported word size "+e)}}static stuffBits(e,n){let i=new B,o=e.getSize(),l=(1<<n)-2;for(let a=0;a<o;a+=n){let u=0;for(let f=0;f<n;f++)(a+f>=o||e.get(a+f))&&(u|=1<<n-1-f);(u&l)===l?(i.appendBits(u&l,n),a--):(u&l)===0?(i.appendBits(u|1,n),a--):i.appendBits(u,n)}return i}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}Se.DEFAULT_EC_PERCENT=33,Se.DEFAULT_AZTEC_LAYERS=0,Se.MAX_NB_BITS=32,Se.MAX_NB_BITS_COMPACT=4,Se.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Us{encode(e,n,i,o){return this.encodeWithHints(e,n,i,o,null)}encodeWithHints(e,n,i,o,l){let a=ul.ISO_8859_1,u=Se.DEFAULT_EC_PERCENT,f=Se.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(it.CHARACTER_SET)&&(a=Bu.forName(l.get(it.CHARACTER_SET).toString())),l.has(it.ERROR_CORRECTION)&&(u=N.parseInt(l.get(it.ERROR_CORRECTION).toString())),l.has(it.AZTEC_LAYERS)&&(f=N.parseInt(l.get(it.AZTEC_LAYERS).toString()))),Us.encodeLayers(e,n,i,o,a,u,f)}static encodeLayers(e,n,i,o,l,a,u){if(n!==ee.AZTEC)throw new O("Can only encode AZTEC, but got "+n);let f=Se.encode(fe.getBytes(e,l),a,u);return Us.renderResult(f,i,o)}static renderResult(e,n,i){let o=e.getMatrix();if(o==null)throw new hn;let l=o.getWidth(),a=o.getHeight(),u=Math.max(n,l),f=Math.max(i,a),h=Math.min(u/l,f/a),x=(u-l*h)/2,w=(f-a*h)/2,A=new Ce(u,f);for(let I=0,v=w;I<a;I++,v+=h)for(let M=0,D=x;M<l;M++,D+=h)o.get(M,I)&&A.setRegion(D,v,h,h);return A}}s.ArgumentException=S,s.ArithmeticException=vs,s.AztecCode=ku,s.AztecCodeReader=Os,s.AztecCodeWriter=Us,s.AztecDecoder=ke,s.AztecDetector=Iu,s.AztecDetectorResult=Cu,s.AztecEncoder=Se,s.AztecHighLevelEncoder=vi,s.AztecPoint=It,s.BarcodeFormat=ee,s.Binarizer=Q,s.BinaryBitmap=G,s.BitArray=B,s.BitMatrix=Ce,s.BitSource=tl,s.BrowserAztecCodeReader=gf,s.BrowserBarcodeReader=Cf,s.BrowserCodeReader=le,s.BrowserDatamatrixCodeReader=If,s.BrowserMultiFormatReader=Lf,s.BrowserPDF417Reader=Bf,s.BrowserQRCodeReader=kf,s.BrowserQRCodeSvgWriter=pr,s.CharacterSetECI=F,s.ChecksumException=L,s.Code128Reader=q,s.Code39Reader=nt,s.DataMatrixDecodedBitStreamParser=zn,s.DataMatrixReader=jn,s.DecodeHintType=$,s.DecoderResult=rn,s.DefaultGridSampler=yu,s.DetectorResult=_s,s.EAN13Reader=fr,s.EncodeHintType=it,s.Exception=C,s.FormatException=R,s.GenericGF=ve,s.GenericGFPoly=vt,s.GlobalHistogramBinarizer=Le,s.GridSampler=Zo,s.GridSamplerInstance=Fn,s.HTMLCanvasElementLuminanceSource=Vt,s.HybridBinarizer=he,s.ITFReader=De,s.IllegalArgumentException=O,s.IllegalStateException=hn,s.InvertedLuminanceSource=jt,s.LuminanceSource=vn,s.MathUtils=Ie,s.MultiFormatOneDReader=Br,s.MultiFormatReader=Lu,s.MultiFormatWriter=Ff,s.NotFoundException=U,s.OneDReader=tt,s.PDF417DecodedBitStreamParser=k,s.PDF417DecoderErrorCorrection=Mu,s.PDF417Reader=dt,s.PDF417ResultMetadata=Ou,s.PerspectiveTransform=sn,s.PlanarYUVLuminanceSource=mn,s.QRCodeByteMatrix=Ps,s.QRCodeDataMask=Gt,s.QRCodeDecodedBitStreamParser=Ye,s.QRCodeDecoderErrorCorrectionLevel=Pe,s.QRCodeDecoderFormatInformation=wt,s.QRCodeEncoder=je,s.QRCodeEncoderQRCode=xr,s.QRCodeMaskUtil=Qe,s.QRCodeMatrixUtil=ce,s.QRCodeMode=ue,s.QRCodeReader=Vn,s.QRCodeVersion=oe,s.QRCodeWriter=Pr,s.RGBLuminanceSource=al,s.RSS14Reader=Ze,s.RSSExpandedReader=V,s.ReaderException=ks,s.ReedSolomonDecoder=wi,s.ReedSolomonEncoder=ll,s.ReedSolomonException=Dr,s.Result=ae,s.ResultMetadataType=Be,s.ResultPoint=se,s.StringUtils=fe,s.UnsupportedOperationException=re,s.VideoInputDevice=Ns,s.WhiteRectangleDetector=Mn,s.WriterException=Re,s.ZXingArrays=T,s.ZXingCharset=Bu,s.ZXingInteger=N,s.ZXingStandardCharsets=ul,s.ZXingStringBuilder=xe,s.ZXingStringEncoding=Ae,s.ZXingSystem=j,Object.defineProperty(s,"__esModule",{value:!0})})})(Fe,Fe.exports);var n2=Qf(Fe.exports),r2=Xf({__proto__:null,default:n2},[Fe.exports]),i2=function(){function t(r,s,c){if(this.formatMap=new Map([[ne.QR_CODE,Fe.exports.BarcodeFormat.QR_CODE],[ne.AZTEC,Fe.exports.BarcodeFormat.AZTEC],[ne.CODABAR,Fe.exports.BarcodeFormat.CODABAR],[ne.CODE_39,Fe.exports.BarcodeFormat.CODE_39],[ne.CODE_93,Fe.exports.BarcodeFormat.CODE_93],[ne.CODE_128,Fe.exports.BarcodeFormat.CODE_128],[ne.DATA_MATRIX,Fe.exports.BarcodeFormat.DATA_MATRIX],[ne.MAXICODE,Fe.exports.BarcodeFormat.MAXICODE],[ne.ITF,Fe.exports.BarcodeFormat.ITF],[ne.EAN_13,Fe.exports.BarcodeFormat.EAN_13],[ne.EAN_8,Fe.exports.BarcodeFormat.EAN_8],[ne.PDF_417,Fe.exports.BarcodeFormat.PDF_417],[ne.RSS_14,Fe.exports.BarcodeFormat.RSS_14],[ne.RSS_EXPANDED,Fe.exports.BarcodeFormat.RSS_EXPANDED],[ne.UPC_A,Fe.exports.BarcodeFormat.UPC_A],[ne.UPC_E,Fe.exports.BarcodeFormat.UPC_E],[ne.UPC_EAN_EXTENSION,Fe.exports.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!r2)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=c;var d=this.createZXingFormats(r),g=new Map;g.set(Fe.exports.DecodeHintType.POSSIBLE_FORMATS,d),this.hints=g}return t.prototype.decodeAsync=function(r){var s=this;return new Promise(function(c,d){try{c(s.decode(r))}catch(g){d(g)}})},t.prototype.decode=function(r){var s=new Fe.exports.MultiFormatReader(this.verbose,this.hints),c=new Fe.exports.HTMLCanvasElementLuminanceSource(r),d=new Fe.exports.BinaryBitmap(new Fe.exports.HybridBinarizer(c)),g=s.decode(d);return{text:g.text,format:lf.create(this.toHtml5QrcodeSupportedFormats(g.format))}},t.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(s,c,d){r.set(s,c)}),r},t.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have "+r;return this.reverseFormatMap.get(r)},t.prototype.createZXingFormats=function(r){for(var s=[],c=0,d=r;c<d.length;c++){var g=d[c];this.formatMap.has(g)?s.push(this.formatMap.get(g)):this.logger.logError(g+" is not supported byZXingHtml5QrcodeShim")}return s},t}(),s2=globalThis&&globalThis.__awaiter||function(t,r,s,c){function d(g){return g instanceof s?g:new s(function(p){p(g)})}return new(s||(s=Promise))(function(g,p){function E(O){try{S(c.next(O))}catch(G){p(G)}}function C(O){try{S(c.throw(O))}catch(G){p(G)}}function S(O){O.done?g(O.value):d(O.value).then(E,C)}S((c=c.apply(t,r||[])).next())})},o2=globalThis&&globalThis.__generator||function(t,r){var s={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},c,d,g,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(S){return function(O){return C([S,O])}}function C(S){if(c)throw new TypeError("Generator is already executing.");for(;s;)try{if(c=1,d&&(g=S[0]&2?d.return:S[0]?d.throw||((g=d.return)&&g.call(d),0):d.next)&&!(g=g.call(d,S[1])).done)return g;switch(d=0,g&&(S=[S[0]&2,g.value]),S[0]){case 0:case 1:g=S;break;case 4:return s.label++,{value:S[1],done:!1};case 5:s.label++,d=S[1],S=[0];continue;case 7:S=s.ops.pop(),s.trys.pop();continue;default:if(g=s.trys,!(g=g.length>0&&g[g.length-1])&&(S[0]===6||S[0]===2)){s=0;continue}if(S[0]===3&&(!g||S[1]>g[0]&&S[1]<g[3])){s.label=S[1];break}if(S[0]===6&&s.label<g[1]){s.label=g[1],g=S;break}if(g&&s.label<g[2]){s.label=g[2],s.ops.push(S);break}g[2]&&s.ops.pop(),s.trys.pop();continue}S=r.call(t,s)}catch(O){S=[6,O],d=0}finally{c=g=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},lc=function(){function t(r,s,c){if(this.formatMap=new Map([[ne.QR_CODE,"qr_code"],[ne.AZTEC,"aztec"],[ne.CODABAR,"codabar"],[ne.CODE_39,"code_39"],[ne.CODE_93,"code_93"],[ne.CODE_128,"code_128"],[ne.DATA_MATRIX,"data_matrix"],[ne.ITF,"itf"],[ne.EAN_13,"ean_13"],[ne.EAN_8,"ean_8"],[ne.PDF_417,"pdf417"],[ne.UPC_A,"upc_a"],[ne.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=c;var d=this.createBarcodeDetectorFormats(r);if(this.detector=new BarcodeDetector(d),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var r=new BarcodeDetector({formats:["qr_code"]});return typeof r!="undefined"},t.prototype.decodeAsync=function(r){return s2(this,void 0,void 0,function(){var s,c;return o2(this,function(d){switch(d.label){case 0:return[4,this.detector.detect(r)];case 1:if(s=d.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return c=this.selectLargestBarcode(s),[2,{text:c.rawValue,format:lf.create(this.toHtml5QrcodeSupportedFormats(c.format))}]}})})},t.prototype.selectLargestBarcode=function(r){for(var s=null,c=0,d=0,g=r;d<g.length;d++){var p=g[d],E=p.boundingBox.width*p.boundingBox.height;E>c&&(c=E,s=p)}if(!s)throw"No largest barcode found";return s},t.prototype.createBarcodeDetectorFormats=function(r){for(var s=[],c=0,d=r;c<d.length;c++){var g=d[c];this.formatMap.has(g)?s.push(this.formatMap.get(g)):this.logger.warn(g+" is not supported byBarcodeDetectorDelegate")}return{formats:s}},t.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have "+r;return this.reverseFormatMap.get(r)},t.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(s,c,d){r.set(s,c)}),r},t}(),l2=function(){function t(r,s,c,d){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.verbose=s,d.useBarCodeDetectorIfSupported===!0&&lc.isSupported()?this.decoder=new lc(r,s,c):this.decoder=new i2(r,s,c)}return t.prototype.decodeAsync=function(r){var s=this,c=performance.now();return this.decoder.decodeAsync(r).finally(function(){if(s.verbose){var d=performance.now()-c;s.executionResults.push(d),s.executions++,s.possiblyFlushPerformanceReport()}})},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var r=0,s=0,c=this.executionResults;s<c.length;s++){var d=c[s];r+=d}var g=r/this.executionResults.length;console.log(g+" ms for "+this.executionResults.length+" last runs."),this.executions=0,this.executionResults=[]}},t}(),a2=function(){function t(){}return t.createExperimentalFeaturesConfig=function(r){return r?(r.useBarCodeDetectorIfSupported!==!0&&(r.useBarCodeDetectorIfSupported=!1),r):{useBarCodeDetectorIfSupported:!1}},t}(),Ke;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Ke||(Ke={}));var u2=function(){function t(){this.state=Ke.NOT_STARTED,this.onGoingTransactionNewState=Ke.UNKNOWN}return t.prototype.directTransition=function(r){this.failIfTransitionOngoing(),this.validateTransition(r),this.state=r},t.prototype.startTransition=function(r){return this.failIfTransitionOngoing(),this.validateTransition(r),this.onGoingTransactionNewState=r,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Ke.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var r=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ke.UNKNOWN,this.directTransition(r)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ke.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ke.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ke.UNKNOWN)throw"Cannnot transition to a new state, already under transition"},t.prototype.validateTransition=function(r){switch(this.state){case Ke.UNKNOWN:throw"Transition from unknown is not allowed";case Ke.NOT_STARTED:this.failIfNewStateIs(r,[Ke.PAUSED]);break;case Ke.SCANNING:break;case Ke.PAUSED:break}},t.prototype.failIfNewStateIs=function(r,s){for(var c=0,d=s;c<d.length;c++){var g=d[c];if(r===g)throw"Cannot transition from "+this.state+" to "+r}},t}(),c2=function(){function t(r){this.stateManager=r}return t.prototype.startTransition=function(r){return this.stateManager.startTransition(r)},t.prototype.directTransition=function(r){this.stateManager.directTransition(r)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Ke.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Ke.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ke.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Ke.PAUSED},t}(),f2=function(){function t(){}return t.create=function(){return new c2(new u2)},t}(),d2=globalThis&&globalThis.__extends||function(){var t=function(r,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(c[g]=d[g])},t(r,s)};return function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(r,s);function c(){this.constructor=r}r.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),Zt=function(t){d2(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.DEFAULT_WIDTH=300,r.DEFAULT_WIDTH_OFFSET=2,r.FILE_SCAN_MIN_HEIGHT=300,r.MIN_QR_BOX_SIZE=50,r.SHADED_LEFT=1,r.SHADED_RIGHT=2,r.SHADED_TOP=3,r.SHADED_BOTTOM=4,r.SHADED_REGION_ELEMENT_ID="qr-shaded-region",r.VERBOSE=!1,r.BORDER_SHADER_DEFAULT_COLOR="#ffffff",r.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",r}(An),h2=function(){function t(r,s){this.logger=s,this.fps=Zt.SCAN_DEFAULT_FPS,r?(r.fps&&(this.fps=r.fps),this.disableFlip=r.disableFlip===!0,this.qrbox=r.qrbox,this.aspectRatio=r.aspectRatio,this.videoConstraints=r.videoConstraints):this.disableFlip=Zt.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?cf.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Kr(this.qrbox)},t.create=function(r,s){return new t(r,s)},t}(),ac=function(){function t(r,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.videoElement=null,this.localMediaStream=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(r))throw"HTML Element with id="+r+" not found";this.elementId=r,this.verbose=!1;var c;typeof s=="boolean"?this.verbose=s===!0:s&&(this.verbose=s.verbose===!0,c=s.experimentalFeatures),this.logger=new uf(this.verbose),this.qrcode=new l2(this.getSupportedFormats(s),this.verbose,this.logger,a2.createExperimentalFeaturesConfig(c)),this.foreverScanTimeout,this.localMediaStream,this.shouldScan=!0,this.stateManagerProxy=f2.create()}return t.prototype.start=function(r,s,c,d){if(!r)throw"cameraIdOrConfig is required";if(!c||typeof c!="function")throw"qrCodeSuccessCallback is required and should be a function.";d||(d=this.verbose?this.logger.log:function(){});var g=h2.create(s,this.logger);this.clearElement();var p=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var E=p;g.isShadedBoxEnabled();var C=document.getElementById(this.elementId),S=C.clientWidth?C.clientWidth:Zt.DEFAULT_WIDTH;C.style.position="relative",this.shouldScan=!0,this.element=C;var O=this,G=this.stateManagerProxy.startTransition(Ke.SCANNING);return new Promise(function(L,Q){var j=E?g.videoConstraints:O.createVideoConstraints(r);if(!j){G.cancel(),Q("videoConstraints should be defined");return}navigator.mediaDevices?navigator.mediaDevices.getUserMedia({audio:!1,video:j}).then(function(J){O.onMediaStreamReceived(J,g,E,S,c,d).then(function(_){G.execute(),O.isScanning=!0,L(null)}).catch(function(_){G.cancel(),Q(_)})}).catch(function(J){G.cancel(),Q(ji.errorGettingUserMedia(J))}):(G.cancel(),Q(ji.cameraStreamingNotSupported()))})},t.prototype.pause=function(r){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ke.PAUSED),this.showPausedState(),(Kr(r)||r!==!0)&&(r=!1),r&&this.videoElement&&this.videoElement.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.videoElement)throw"VideoElement doesn't exist while trying resume()";var r=this,s=function(){r.stateManagerProxy.directTransition(Ke.SCANNING),r.hidePausedState()},c=this.videoElement.paused;if(!c){s();return}var d=function(){var g;setTimeout(s,200),(g=r.videoElement)===null||g===void 0||g.removeEventListener("playing",d)};this.videoElement.addEventListener("playing",d),this.videoElement.play()},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var r=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(Ke.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var c=function(){if(!!r.element){var d=document.getElementById(Zt.SHADED_REGION_ELEMENT_ID);d&&r.element.removeChild(d)}};return new Promise(function(d,g){var p=function(){r.localMediaStream=null,r.element&&(r.element.removeChild(r.videoElement),r.element.removeChild(r.canvasElement)),c(),r.qrRegion&&(r.qrRegion=null),r.context&&(r.context=null),s.execute(),r.hidePausedState(),r.isScanning=!1,d()};r.localMediaStream||p();var E=r.localMediaStream.getVideoTracks().length,C=0;r.localMediaStream.getVideoTracks().forEach(function(S){r.localMediaStream.removeTrack(S),S.stop(),++C,C>=E&&p()})})},t.prototype.scanFile=function(r,s){return this.scanFileV2(r,s).then(function(c){return c.decodedText})},t.prototype.scanFileV2=function(r,s){var c=this;if(!r||!(r instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Kr(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(d,g){c.possiblyCloseLastScanImageFile(),c.clearElement(),c.lastScanImageFile=URL.createObjectURL(r);var p=new Image;p.onload=function(){var E=p.width,C=p.height,S=document.getElementById(c.elementId),O=S.clientWidth?S.clientWidth:Zt.DEFAULT_WIDTH,G=Math.max(S.clientHeight?S.clientHeight:C,Zt.FILE_SCAN_MIN_HEIGHT),L=c.computeCanvasDrawConfig(E,C,O,G);if(s){var Q=c.createCanvasElement(O,G,"qr-canvas-visible");Q.style.display="inline-block",S.appendChild(Q);var j=Q.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=O,j.canvas.height=G,j.drawImage(p,0,0,E,C,L.x,L.y,L.width,L.height)}var J=c.createCanvasElement(L.width,L.height);S.appendChild(J);var _=J.getContext("2d");if(!_)throw"Unable to get 2d context from canvas";_.canvas.width=L.width,_.canvas.height=L.height,_.drawImage(p,0,0,E,C,0,0,L.width,L.height);try{c.qrcode.decodeAsync(J).then(function(T){d(sc.createFromQrcodeResult(T))}).catch(g)}catch(T){g("QR code parse error, error = "+T)}},p.onerror=g,p.onabort=g,p.onstalled=g,p.onsuspend=g,p.src=URL.createObjectURL(r)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var r=MediaStreamTrack;if(MediaStreamTrack&&r.getSources)return t.getCamerasFromMediaStreamTrack();var s=function(){if(location.protocol==="https:")return!0;var d=location.host.split(":")[0];return d==="127.0.0.1"||d==="localhost"},c=ji.unableToQuerySupportedDevices();return s()||(c=ji.insecureContextCameraQueryError()),Promise.reject(c)},t.prototype.getRunningTrackCapabilities=function(){if(this.localMediaStream==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(this.localMediaStream.getVideoTracks().length===0)throw"No video tracks found";var r=this.localMediaStream.getVideoTracks()[0];return r.getCapabilities()},t.prototype.applyVideoConstraints=function(r){var s=this;if(r){if(!cf.isMediaStreamConstraintsValid(r,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";if(this.localMediaStream===null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";if(this.localMediaStream.getVideoTracks().length===0)throw"No video tracks found";return new Promise(function(c,d){if("aspectRatio"in r){d("Chaning 'aspectRatio' in run-time is not yet supported.");return}var g=s.localMediaStream.getVideoTracks()[0];g.applyConstraints(r).then(function(p){c(p)}).catch(function(p){d(p)})})},t.getCamerasFromMediaDevices=function(){return new Promise(function(r,s){navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(function(c){var d=function(g){for(var p=g.getVideoTracks(),E=0,C=p;E<C.length;E++){var S=C[E];S.enabled=!1,S.stop(),g.removeTrack(S)}};navigator.mediaDevices.enumerateDevices().then(function(g){for(var p=[],E=0,C=g;E<C.length;E++){var S=C[E];S.kind==="videoinput"&&p.push({id:S.deviceId,label:S.label})}d(c),r(p)}).catch(function(g){s(g.name+" : "+g.message)})}).catch(function(c){s(c.name+" : "+c.message)})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(r,s){var c=function(g){for(var p=[],E=0,C=g;E<C.length;E++){var S=C[E];S.kind==="video"&&p.push({id:S.id,label:S.label})}r(p)},d=MediaStreamTrack;d.getSources(c)})},t.prototype.getSupportedFormats=function(r){var s=[ne.QR_CODE,ne.AZTEC,ne.CODABAR,ne.CODE_39,ne.CODE_93,ne.CODE_128,ne.DATA_MATRIX,ne.MAXICODE,ne.ITF,ne.EAN_13,ne.EAN_8,ne.PDF_417,ne.RSS_14,ne.RSS_EXPANDED,ne.UPC_A,ne.UPC_E,ne.UPC_EAN_EXTENSION];if(!r||typeof r=="boolean"||!r.formatsToSupport)return s;if(!Array.isArray(r.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(r.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var c=[],d=0,g=r.formatsToSupport;d<g.length;d++){var p=g[d];t2(p)?c.push(p):this.logger.warn("Invalid format: "+p+" passed in config, ignoring.")}if(c.length===0)throw"None of formatsToSupport match supported values.";return c},t.prototype.validateQrboxSize=function(r,s,c){var d=this,g=c.qrbox;this.validateQrboxConfig(g);var p=this.toQrdimensions(r,s,g),E=function(S){if(S<Zt.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+(" "+Zt.MIN_QR_BOX_SIZE+"px.")},C=function(S){return S>r&&(d.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),S=r),S};E(p.width),E(p.height),p.width=C(p.width)},t.prototype.validateQrboxConfig=function(r){if(typeof r!="number"&&typeof r!="function"&&(r.width===void 0||r.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(r,s,c){if(typeof c=="number")return{width:c,height:c};if(typeof c=="function")try{return c(r,s)}catch(d){throw new Error("qrbox config was passed as a function but it failed with unknown error"+d)}return c},t.prototype.setupUi=function(r,s,c){c.isShadedBoxEnabled()&&this.validateQrboxSize(r,s,c);var d=Kr(c.qrbox)?{width:r,height:s}:c.qrbox;this.validateQrboxConfig(d);var g=this.toQrdimensions(r,s,d);g.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=c.isShadedBoxEnabled()&&g.height<=s,E={x:0,y:0,width:r,height:s},C=p?this.getShadedRegionBounds(r,s,g):E,S=this.createCanvasElement(C.width,C.height),O=S.getContext("2d");O.canvas.width=C.width,O.canvas.height=C.height,this.element.append(S),p&&this.possiblyInsertShadingElement(this.element,r,s,g),this.createScannerPausedUiElement(this.element),this.qrRegion=C,this.context=O,this.canvasElement=S},t.prototype.createScannerPausedUiElement=function(r){var s=document.createElement("div");s.innerText="Scanner paused",s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="yellow",s.style.textAlign="center",s.style.width="100%",r.appendChild(s),this.scannerPausedUiElement=s},t.prototype.scanContext=function(r,s){var c=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(d){return r(d.text,sc.createFromQrcodeResult(d)),c.possiblyUpdateShaders(!0),!0}).catch(function(d){c.possiblyUpdateShaders(!1);var g=ji.codeParseError(d);return s(g,af.createFrom(g)),!1})},t.prototype.foreverScan=function(r,s,c){var d=this;if(!!this.shouldScan&&!!this.localMediaStream){var g=this.videoElement,p=g.videoWidth/g.clientWidth,E=g.videoHeight/g.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var C=this.qrRegion.width*p,S=this.qrRegion.height*E,O=this.qrRegion.x*p,G=this.qrRegion.y*E;this.context.drawImage(g,O,G,C,S,0,0,this.qrRegion.width,this.qrRegion.height);var L=function(){d.foreverScanTimeout=setTimeout(function(){d.foreverScan(r,s,c)},d.getTimeoutFps(r.fps))};this.scanContext(s,c).then(function(Q){!Q&&r.disableFlip!==!0?(d.context.translate(d.context.canvas.width,0),d.context.scale(-1,1),d.scanContext(s,c).finally(function(){L()})):L()}).catch(function(Q){d.logger.logError("Error happend while scanning context",Q),L()})}},t.prototype.onMediaStreamReceived=function(r,s,c,d,g,p){var E=this,C=this;return new Promise(function(S,O){var G=function(){var j=E.createVideoElement(d);C.element.append(j),j.onabort=O,j.onerror=O;var J=function(){var _=j.clientWidth,T=j.clientHeight;C.setupUi(_,T,s),C.foreverScan(s,g,p),j.removeEventListener("playing",J),S(null)};j.addEventListener("playing",J),j.srcObject=r,j.play(),C.videoElement=j};if(C.localMediaStream=r,c||!s.aspectRatio)G();else{var L={aspectRatio:s.aspectRatio},Q=r.getVideoTracks()[0];Q.applyConstraints(L).then(function(j){return G()}).catch(function(j){C.logger.logErrors(["[Html5Qrcode] Constriants could not be satisfied, ignoring constraints",j]),G()})}})},t.prototype.createVideoConstraints=function(r){if(typeof r=="string")return{deviceId:{exact:r}};if(typeof r=="object"){var s="facingMode",c="deviceId",d={user:!0,environment:!0},g="exact",p=function(j){if(j in d)return!0;throw"config has invalid 'facingMode' value = "+("'"+j+"'")},E=Object.keys(r);if(E.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+(" if passed as an object, found "+E.length+" keys");var C=Object.keys(r)[0];if(C!==s&&C!==c)throw"Only '"+s+"' and '"+c+"'  are supported for 'cameraIdOrConfig'";if(C===s){var S=r.facingMode;if(typeof S=="string"){if(p(S))return{facingMode:S}}else if(typeof S=="object")if(g in S){if(p(S[""+g]))return{facingMode:{exact:S[""+g]}}}else throw"'facingMode' should be string or object with"+(" "+g+" as key.");else{var O=typeof S;throw"Invalid type of 'facingMode' = "+O}}else{var G=r.deviceId;if(typeof G=="string")return{deviceId:G};if(typeof G=="object"){if(g in G)return{deviceId:{exact:G[""+g]}};throw"'deviceId' should be string or object with"+(" "+g+" as key.")}else{var L=typeof G;throw"Invalid type of 'deviceId' = "+L}}}var Q=typeof r;throw"Invalid type of 'cameraIdOrConfig' = "+Q},t.prototype.computeCanvasDrawConfig=function(r,s,c,d){if(r<=c&&s<=d){var g=(c-r)/2,p=(d-s)/2;return{x:g,y:p,width:r,height:s}}else{var E=r,C=s;return r>c&&(s=c/r*s,r=c),s>d&&(r=d/s*r,s=d),this.logger.log("Image downsampled from "+(E+"X"+C)+(" to "+r+"X"+s+".")),this.computeCanvasDrawConfig(r,s,c,d)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var r=document.getElementById(this.elementId);r&&(r.innerHTML="")},t.prototype.createVideoElement=function(r){var s=document.createElement("video");return s.style.width=r+"px",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},t.prototype.possiblyUpdateShaders=function(r){this.qrMatch!==r&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=r?Zt.BORDER_SHADER_MATCH_COLOR:Zt.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=r)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(r,s,c){var d=r,g=s,p=document.createElement("canvas");return p.style.width=d+"px",p.style.height=g+"px",p.style.display="none",p.id=Kr(c)?"qr-canvas":c,p},t.prototype.getShadedRegionBounds=function(r,s,c){if(c.width>r||c.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(r-c.width)/2,y:(s-c.height)/2,width:c.width,height:c.height}},t.prototype.possiblyInsertShadingElement=function(r,s,c,d){if(!(s-d.width<1||c-d.height<1)){var g=document.createElement("div");g.style.position="absolute";var p=(s-d.width)/2,E=(c-d.height)/2;if(g.style.borderLeft=p+"px solid #0000007a",g.style.borderRight=p+"px solid #0000007a",g.style.borderTop=E+"px solid #0000007a",g.style.borderBottom=E+"px solid #0000007a",g.style.boxSizing="border-box",g.style.top="0px",g.style.bottom="0px",g.style.left="0px",g.style.right="0px",g.id=""+Zt.SHADED_REGION_ELEMENT_ID,s-d.width<11||c-d.height<11)this.hasBorderShaders=!1;else{var C=5,S=40;this.insertShaderBorders(g,S,C,-C,0,!0),this.insertShaderBorders(g,S,C,-C,0,!1),this.insertShaderBorders(g,S,C,d.height+C,0,!0),this.insertShaderBorders(g,S,C,d.height+C,0,!1),this.insertShaderBorders(g,C,S+C,-C,-C,!0),this.insertShaderBorders(g,C,S+C,d.height+C-S,-C,!0),this.insertShaderBorders(g,C,S+C,-C,-C,!1),this.insertShaderBorders(g,C,S+C,d.height+C-S,-C,!1),this.hasBorderShaders=!0}r.append(g)}},t.prototype.insertShaderBorders=function(r,s,c,d,g,p){var E=document.createElement("div");E.style.position="absolute",E.style.backgroundColor=Zt.BORDER_SHADER_DEFAULT_COLOR,E.style.width=s+"px",E.style.height=c+"px",E.style.top=d+"px",p?E.style.left=g+"px":E.style.right=g+"px",this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(E),r.appendChild(E)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(r){return 1e3/r},t}(),Au="data:image/svg+xml;base64,",g2=Au+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",x2=Au+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",uc=Au+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",p2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",cc=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),m2=function(){function t(){this.data=cc.createDefault();var r=localStorage.getItem(t.LOCAL_STORAGE_KEY);r?this.data=JSON.parse(r):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(r){this.data.hasPermission=r,this.flush()},t.prototype.setLastUsedCameraId=function(r){this.data.lastUsedCameraId=r,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=cc.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),w2=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(r){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid silver",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(248 248 248)",this.infoDiv.innerText=oc.builtUsing();var s=document.createElement("a");s.innerText="html5-qrcode",s.href="https://github.com/mebjas/html5-qrcode",s.target="new",this.infoDiv.appendChild(s);var c=document.createElement("br"),d=document.createElement("br");this.infoDiv.appendChild(c),this.infoDiv.appendChild(d);var g=document.createElement("a");g.innerText=oc.reportIssues(),g.href="https://github.com/mebjas/html5-qrcode/issues",g.target="new",this.infoDiv.appendChild(g),r.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),E2=function(){function t(r,s){this.isShowingInfoIcon=!0,this.onTapIn=r,this.onTapOut=s,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(r){var s=this;this.infoIcon.alt="Info icon",this.infoIcon.src=uc,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(c){return s.onHoverIn()},this.infoIcon.onmouseout=function(c){return s.onHoverOut()},this.infoIcon.onclick=function(c){return s.onClick()},r.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=p2,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=uc,this.infoIcon.style.opacity="0.6")},t}(),A2=function(){function t(){var r=this;this.infoDiv=new w2,this.infoIcon=new E2(function(){r.infoDiv.show()},function(){r.infoDiv.hide()})}return t.prototype.renderInto=function(r){this.infoDiv.renderInto(r),this.infoIcon.renderInto(r)},t}(),fc=function(){function t(){}return t.hasCameraPermissions=function(){return new Promise(function(r,s){navigator.mediaDevices.enumerateDevices().then(function(c){c.forEach(function(d){d.kind==="videoinput"&&d.label&&r(!0)}),r(!1)})})},t}(),_n=function(){function t(r){this.supportedScanTypes=this.validateAndReturnScanTypes(r)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var r=0,s=this.supportedScanTypes;r<s.length;r++){var c=s[r];if(t.isCameraScanType(c))return!0}return!1},t.isCameraScanType=function(r){return r===kn.SCAN_TYPE_CAMERA},t.isFileScanType=function(r){return r===kn.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(r){if(!r||r.length===0)return An.DEFAULT_SUPPORTED_SCAN_TYPE;var s=An.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(r.length>s)throw"Max "+s+" values expected for supportedScanTypes";for(var c=0,d=r;c<d.length;c++){var g=d[c];if(!An.DEFAULT_SUPPORTED_SCAN_TYPE.includes(g))throw"Unsupported scan type "+g}return r},t}(),Qt;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Qt||(Qt={}));function C2(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function y2(t,r){return{formatsToSupport:t.formatsToSupport,experimentalFeatures:t.experimentalFeatures,verbose:r}}var I2=function(){function t(r,s,c){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.elementId=r,this.config=this.createConfig(s),this.verbose=c===!0,!document.getElementById(r))throw"HTML Element with id="+r+" not found";this.scanTypeSelector=new _n(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new uf(this.verbose),this.persistedDataManager=new m2,s.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(r,s){var c=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(g,p){if(r)r(g,p);else{if(c.lastMatchFound===g)return;c.lastMatchFound=g,c.setHeaderMessage(un.lastMatch(g),Qt.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(g,p){s&&s(g,p)};var d=document.getElementById(this.elementId);if(!d)throw"HTML Element with id="+this.elementId+" not found";d.innerHTML="",this.createBasicLayout(d),this.html5Qrcode=new ac(this.getScanRegionId(),y2(this.config,this.verbose))},t.prototype.pause=function(r){if(!this.html5Qrcode)throw"Code scanner not initialized.";(Kr(r)||r!==!0)&&(r=!1),this.html5Qrcode.pause(r)},t.prototype.resume=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";this.html5Qrcode.resume()},t.prototype.getState=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.getState()},t.prototype.clear=function(){var r=this,s=function(){var c=document.getElementById(r.elementId);c&&(c.innerHTML="",r.resetBasicLayout(c))};return this.html5Qrcode?new Promise(function(c,d){if(!r.html5Qrcode){c();return}r.html5Qrcode.isScanning?r.html5Qrcode.stop().then(function(g){if(!r.html5Qrcode){c();return}r.html5Qrcode.clear(),s(),c()}).catch(function(g){r.verbose&&r.logger.logError("Unable to stop qrcode scanner",g),d(g)}):(r.html5Qrcode.clear(),s())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.getRunningTrackCapabilities()},t.prototype.applyVideoConstraints=function(r){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode.applyVideoConstraints(r)},t.prototype.createConfig=function(r){return r?(r.fps||(r.fps=An.SCAN_DEFAULT_FPS),r.rememberLastUsedCamera!==!An.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(r.rememberLastUsedCamera=An.DEFAULT_REMEMBER_LAST_CAMERA_USED),r):{fps:An.SCAN_DEFAULT_FPS,rememberLastUsedCamera:An.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:An.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(r){r.style.position="relative",r.style.padding="0px",r.style.border="1px solid silver",this.createHeader(r);var s=document.createElement("div"),c=this.getScanRegionId();s.id=c,s.style.width="100%",s.style.minHeight="100px",s.style.textAlign="center",r.appendChild(s),_n.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var d=document.createElement("div"),g=this.getDashboardId();d.id=g,d.style.width="100%",r.appendChild(d),this.setupInitialDashboard(d)},t.prototype.resetBasicLayout=function(r){r.style.border="none"},t.prototype.setupInitialDashboard=function(r){this.createSection(r),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(r){var s=document.createElement("div");s.style.textAlign="left",s.style.margin="0px",r.appendChild(s);var c=new A2;c.renderInto(s);var d=document.createElement("div");d.id=this.getHeaderMessageContainerId(),d.style.display="none",d.style.textAlign="center",d.style.fontSize="14px",d.style.padding="2px 10px",d.style.margin="4px",d.style.borderTop="1px solid #f6f6f6",s.appendChild(d)},t.prototype.createSection=function(r){var s=document.createElement("div");s.id=this.getDashboardSectionId(),s.style.width="100%",s.style.padding="10px 0px 10px 0px",s.style.textAlign="left",r.appendChild(s)},t.prototype.createCameraListUi=function(r,s,c){var d=this;d.setHeaderMessage(un.cameraPermissionRequesting());var g=function(){c||d.createPermissionButton(r,s)};ac.getCameras().then(function(p){d.persistedDataManager.setHasPermission(!0),d.resetHeaderMessage(),p&&p.length>0?(r.removeChild(s),d.renderCameraSelection(p)):(d.setHeaderMessage(un.noCameraFound(),Qt.STATUS_WARNING),g())}).catch(function(p){d.persistedDataManager.setHasPermission(!1),c?c.disabled=!1:g(),d.setHeaderMessage(p,Qt.STATUS_WARNING)})},t.prototype.createPermissionButton=function(r,s){var c=this,d=document.createElement("button");d.id=this.getCameraPermissionButtonId(),d.innerText=un.cameraPermissionTitle(),d.addEventListener("click",function(){d.disabled=!0,c.createCameraListUi(r,s,d)}),s.appendChild(d)},t.prototype.createPermissionsUi=function(r,s){var c=this;if(_n.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){fc.hasCameraPermissions().then(function(d){d?c.createCameraListUi(r,s):(c.persistedDataManager.setHasPermission(!1),c.createPermissionButton(r,s))}).catch(function(d){c.persistedDataManager.setHasPermission(!1),c.createPermissionButton(r,s)});return}this.createPermissionButton(r,s)},t.prototype.createSectionControlPanel=function(){var r=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");r.appendChild(s);var c=document.createElement("div");c.id=this.getDashboardSectionCameraScanRegionId(),c.style.display=_n.isCameraScanType(this.currentScanType)?"block":"none",s.appendChild(c);var d=document.createElement("div");d.style.textAlign="center",c.appendChild(d),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(c,d),this.renderFileScanUi(s)},t.prototype.renderFileScanUi=function(r){var s=this,c=document.createElement("div");c.id=this.getDashboardSectionFileScanRegionId(),c.style.textAlign="center",c.style.display=_n.isCameraScanType(this.currentScanType)?"none":"block",r.appendChild(c);var d=document.createElement("input");d.id=this.getFileScanInputId(),d.accept="image/*",d.type="file",d.style.width="200px",d.disabled=_n.isCameraScanType(this.currentScanType);var g=document.createElement("span");g.innerText=" Select Image",c.appendChild(d),c.appendChild(g),d.addEventListener("change",function(p){if(!s.html5Qrcode)throw"html5Qrcode not defined";if(!(p==null||p.target==null)&&!!_n.isFileScanType(s.currentScanType)&&p.target.files.length!==0){var E=p.target.files[0];s.html5Qrcode.scanFileV2(E,!0).then(function(C){s.resetHeaderMessage(),s.qrCodeSuccessCallback(C.decodedText,C)}).catch(function(C){s.setHeaderMessage(C,Qt.STATUS_WARNING),s.qrCodeErrorCallback(C,af.createFrom(C))})}})},t.prototype.renderCameraSelection=function(r){var s=this,c=this,d=document.getElementById(this.getDashboardSectionCameraScanRegionId());d.style.textAlign="center";var g=document.createElement("span");g.style.marginRight="10px";var p=r.length,E=document.createElement("select");if(p===1)E.style.display="none";else{var C=un.selectCamera();g.innerText=C+" ("+r.length+")  "}E.id=this.getCameraSelectionId();for(var S=[],O=0,G=r;O<G.length;O++){var L=G[O],Q=L.id,j=L.label==null?Q:L.label,J=document.createElement("option");J.value=Q,J.innerText=j,S.push(J),E.appendChild(J)}g.appendChild(E),d.appendChild(g);var _=document.createElement("span"),T=document.createElement("button");T.innerText=un.scanButtonStartScanningText(),_.appendChild(T);var N=document.createElement("button");N.innerText=un.scanButtonStopScanningText(),N.style.display="none",N.disabled=!0,_.appendChild(N),d.appendChild(_);var B=function(F){F||(T.style.display="none"),T.innerText=un.scanButtonStartScanningText(),T.style.opacity="1",T.disabled=!1,F&&(T.style.display="inline-block")};if(T.addEventListener("click",function(F){T.innerText=un.scanButtonScanningStarting(),E.disabled=!0,T.disabled=!0,T.style.opacity="0.5",s.scanTypeSelector.hasMoreThanOneScanType()&&c.showHideScanTypeSwapLink(!1),c.resetHeaderMessage();var re=E.value;c.persistedDataManager.setLastUsedCameraId(re),c.html5Qrcode.start(re,C2(c.config),c.qrCodeSuccessCallback,c.qrCodeErrorCallback).then(function(Ae){N.disabled=!1,N.style.display="inline-block",B(!1)}).catch(function(Ae){c.showHideScanTypeSwapLink(!0),E.disabled=!1,B(!0),c.setHeaderMessage(Ae,Qt.STATUS_WARNING)})}),p===1&&T.click(),N.addEventListener("click",function(F){if(!c.html5Qrcode)throw"html5Qrcode not defined";N.disabled=!0,c.html5Qrcode.stop().then(function(re){s.scanTypeSelector.hasMoreThanOneScanType()&&c.showHideScanTypeSwapLink(!0),E.disabled=!1,T.disabled=!1,N.style.display="none",T.style.display="inline-block",c.insertCameraScanImageToScanRegion()}).catch(function(re){N.disabled=!1,c.setHeaderMessage(re,Qt.STATUS_WARNING)})}),c.persistedDataManager.getLastUsedCameraId()){for(var z=c.persistedDataManager.getLastUsedCameraId(),$=!1,R=0,K=S;R<K.length;R++){var J=K[R];if(J.value===z){$=!0;break}}$?(E.value=z,T.click()):c.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var r=this,s=un.textIfCameraScanSelected(),c=un.textIfFileScanSelected(),d=document.getElementById(this.getDashboardSectionId()),g=document.createElement("div");g.style.textAlign="center";var p=document.createElement("a");p.style.textDecoration="underline",p.id=this.getDashboardSectionSwapLinkId(),p.innerText=_n.isCameraScanType(this.currentScanType)?s:c,p.addEventListener("click",function(){if(!r.sectionSwapAllowed){r.verbose&&r.logger.logError("Section swap called when not allowed");return}r.resetHeaderMessage(),r.getFileScanInput().value="",r.sectionSwapAllowed=!1,_n.isCameraScanType(r.currentScanType)?(r.clearScanRegion(),r.getFileScanInput().disabled=!1,r.getCameraScanRegion().style.display="none",r.getFileScanRegion().style.display="block",p.innerText=c,r.currentScanType=kn.SCAN_TYPE_FILE,r.insertFileScanImageToScanRegion()):(r.clearScanRegion(),r.getFileScanInput().disabled=!0,r.getCameraScanRegion().style.display="block",r.getFileScanRegion().style.display="none",p.innerText=s,r.currentScanType=kn.SCAN_TYPE_CAMERA,r.insertCameraScanImageToScanRegion(),r.startCameraScanIfPermissionExistsOnSwap()),r.sectionSwapAllowed=!0}),g.appendChild(p),d.appendChild(g)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var r=this,s=this;if(this.persistedDataManager.hasCameraPermissions()){fc.hasCameraPermissions().then(function(c){if(c){var d=document.getElementById(s.getCameraPermissionButtonId());if(!d)throw r.logger.logError("Permission button not found, fail;"),"Permission button not found";d.click()}else s.persistedDataManager.setHasPermission(!1)}).catch(function(c){s.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var r=document.getElementById(this.getHeaderMessageContainerId());r.style.display="none"},t.prototype.setHeaderMessage=function(r,s){s||(s=Qt.STATUS_DEFAULT);var c=this.getHeaderMessageDiv();switch(c.innerText=r,c.style.display="block",s){case Qt.STATUS_SUCCESS:c.style.background="#6aaf5042",c.style.color="#477735";break;case Qt.STATUS_WARNING:c.style.background="#cb243124",c.style.color="#cb2431";break;case Qt.STATUS_DEFAULT:default:c.style.background="#00000000",c.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(r){r!==!0&&(r=!1),this.sectionSwapAllowed=r,this.getDashboardSectionSwapLink().style.display=r?"inline-block":"none"},t.prototype.insertCameraScanImageToScanRegion=function(){var r=this,s=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){s.innerHTML="<br>",s.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(c){s.innerHTML="<br>",s.appendChild(r.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=g2},t.prototype.insertFileScanImageToScanRegion=function(){var r=this,s=document.getElementById(this.getScanRegionId());if(this.fileScanImage){s.innerHTML="<br>",s.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(c){s.innerHTML="<br>",s.appendChild(r.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=x2},t.prototype.clearScanRegion=function(){var r=document.getElementById(this.getScanRegionId());r.innerHTML=""},t.prototype.getDashboardSectionId=function(){return this.elementId+"__dashboard_section"},t.prototype.getDashboardSectionCameraScanRegionId=function(){return this.elementId+"__dashboard_section_csr"},t.prototype.getDashboardSectionFileScanRegionId=function(){return this.elementId+"__dashboard_section_fsr"},t.prototype.getDashboardSectionSwapLinkId=function(){return this.elementId+"__dashboard_section_swaplink"},t.prototype.getScanRegionId=function(){return this.elementId+"__scan_region"},t.prototype.getDashboardId=function(){return this.elementId+"__dashboard"},t.prototype.getFileScanInputId=function(){return this.elementId+"__filescan_input"},t.prototype.getStatusSpanId=function(){return this.elementId+"__status_span"},t.prototype.getHeaderMessageContainerId=function(){return this.elementId+"__header_message"},t.prototype.getCameraSelectionId=function(){return this.elementId+"__camera_selection"},t.prototype.getCameraPermissionButtonId=function(){return this.elementId+"__camera_permission_button"},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getFileScanRegion=function(){return document.getElementById(this.getDashboardSectionFileScanRegionId())},t.prototype.getFileScanInput=function(){return document.getElementById(this.getFileScanInputId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}(),Xo={exports:{}},Ts={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S2=fn.exports,ff=60103;Ts.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var dc=Symbol.for;ff=dc("react.element"),Ts.Fragment=dc("react.fragment")}var T2=S2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N2=Object.prototype.hasOwnProperty,v2={key:!0,ref:!0,__self:!0,__source:!0};function df(t,r,s){var c,d={},g=null,p=null;s!==void 0&&(g=""+s),r.key!==void 0&&(g=""+r.key),r.ref!==void 0&&(p=r.ref);for(c in r)N2.call(r,c)&&!v2.hasOwnProperty(c)&&(d[c]=r[c]);if(t&&t.defaultProps)for(c in r=t.defaultProps,r)d[c]===void 0&&(d[c]=r[c]);return{$$typeof:ff,type:t,key:g,ref:p,props:d,_owner:T2.current}}Ts.jsx=df;Ts.jsxs=df;Xo.exports=Ts;const Ft=Xo.exports.jsx,M2=Xo.exports.jsxs,hc=Xo.exports.Fragment,hf=fn.exports.createContext({});function _2(){return fn.exports.useContext(hf)}function O2({children:t}){const r=fn.exports.useRef(null),[s,c]=fn.exports.useState(""),[d,g]=fn.exports.useState(!1);function p(G,L){console.log(`Scan result: ${G}`,L),c(G),of(G),r.current.clear(),g(!1)}function E(){}function C(){r.current.render(p,E),g(!0)}function S(){s&&c(""),C()}fn.exports.useEffect(()=>{const G=new I2("reader",{fps:10,qrbox:250,supportedScanTypes:[kn.SCAN_TYPE_CAMERA]},!1);r.current=G},[]);const O={QRText:s,scanning:d,handleButtonClick:S};return Ft(hf.Provider,{value:O,children:t})}const D2=()=>{const{scanning:t,handleButtonClick:r,QRText:s}=_2(),[c,d]=fn.exports.useState("");function g(p){d(p.target.value)}return M2(hc,{children:[Ft("input",{type:"text",value:c,onChange:g}),t?Ft(hc,{}):Ft("button",{onClick:()=>of(c),children:s?"Reiniciar":"Iniciar"}),Ft("div",{style:{width:"250px"},id:"reader"}),Ft("h1",{children:"QR Code"}),Ft("p",{children:s})]})};const R2=()=>Ft("div",{className:"App",children:Ft("header",{className:"App-header",children:Ft(O2,{children:Ft(D2,{})})})});e2.render(Ft(sd.StrictMode,{children:Ft(R2,{})}),document.getElementById("root"));
